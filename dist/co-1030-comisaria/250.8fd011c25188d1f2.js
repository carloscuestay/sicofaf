"use strict";(self.webpackChunkCO_1030_COMISARIA=self.webpackChunkCO_1030_COMISARIA||[]).push([[250],{2250:(Uo,Y,p)=>{p.r(Y),p.d(Y,{PsicologiaModule:()=>Ro});var g=p(9808),ii=p(4466),E=p(8385),ei=p(6095),oi=p(4315),ti=p(4861),ni=p(7893),ai=p(3801),ri=p(8320),si=p(1233),i=p(5e3);const ci=function(){return{exact:!0}};let li=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-psicologia"]],decls:8,vars:2,consts:[[1,"background-gray","rounded-basic","p-4","mb-3"],[1,"text-blue","mb-4",2,"font-size","30px"],["id","tabs",1,"d-flex","align-items-baseline",2,"gap","1rem"],["routerLink","./casos","routerLinkActive","elements-tab-active",1,"elements-tab",3,"routerLinkActiveOptions"]],template:function(e,o){1&e&&(i.TgZ(0,"section",0)(1,"h1",1),i._uU(2," CASOS PENDIENTES DE ATENCI\xd3N PSICOL\xd3GICA Y EMOCIONAL "),i.qZA(),i.TgZ(3,"div",2)(4,"div",3),i._uU(5," Casos para revisi\xf3n psicol\xf3gica "),i.qZA()(),i._UZ(6,"div"),i.qZA(),i._UZ(7,"router-outlet")),2&e&&(i.xp6(4),i.Q6J("routerLinkActiveOptions",i.DdM(1,ci)))},directives:[E.rH,E.Od,E.lC],styles:[""]}),n})();var _=p(5861),z=p(7582),s=p(3075),T=p(7579),u=p(4854),x=p(8629),A=p(2070),R=p(9082),S=p(1666),N=p(2313),L=p(1267),q=p(2081),D=p(6856),J=p(7322);function ui(n,r){1&n&&(i.TgZ(0,"small",9),i._uU(1,"Campo requerido"),i.qZA())}function di(n,r){if(1&n&&(i.TgZ(0,"option",10),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.Oqu(e.nombre_Dominio)}}function pi(n,r){1&n&&(i.TgZ(0,"small",9),i._uU(1,"Campo requerido"),i.qZA())}function mi(n,r){if(1&n&&(i.TgZ(0,"option",10),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.Oqu(e.nombre_Dominio)}}function gi(n,r){1&n&&(i.TgZ(0,"small",9),i._uU(1,"Campo requerido"),i.qZA())}const k=function(){return{"border-danger":!1}};let _i=(()=>{class n{isRequiredField(e,o,t=!1){var a,c,l,d;const m=null===(a=e.get(o))||void 0===a?void 0:a.dirty,h=x.B.findInvalidControls(e).includes(o),b="string"==typeof(null===(c=e.get(o))||void 0===c?void 0:c.value)&&""==(null===(l=e.get(o))||void 0===l?void 0:l.value);return t?m&&b:!(!m||!h)&&(!(null===(d=e.get(o))||void 0===d?void 0:d.valid)||b)}inputNumber(e,o=0,t=9){let a=Number(e.value.replace(u.i$.NUMERO_G,"").substring(0,t>9?t.toString().length:1));a<o&&(a=o),a>t&&(a=0),e.value=a+""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-hijos-involucrados"]],inputs:{form:"form",listaSexo:"listaSexo",listaTipoRelacion:"listaTipoRelacion"},decls:22,vars:12,consts:[[1,"row",3,"formGroup"],[1,"form-group","col-lg-4","mb-5"],[1,"form-label","text-capitalize"],["type","number","step","1","placeholder","Edad","formControlName","edad","required","","maxlength","2",1,"form-control",3,"ngClass","input"],["class","form-text text-danger",4,"ngIf"],["type","text","formControlName","sexo","required","",1,"form-select",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","bajo custodia de","formControlName","custodia","required","",1,"form-select",3,"ngClass"],[1,"form-text","text-danger"],[3,"value"]],template:function(e,o){1&e&&(i.TgZ(0,"form",0)(1,"div",1)(2,"label",2),i._uU(3,"edad *"),i.qZA(),i.TgZ(4,"input",3),i.NdJ("input",function(a){return o.inputNumber(a.target,0,99)}),i.qZA(),i.YNc(5,ui,2,0,"small",4),i.qZA(),i.TgZ(6,"div",1)(7,"label",2),i._uU(8,"sexo *"),i.qZA(),i.TgZ(9,"select",5)(10,"option",6),i._uU(11,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(12,di,2,2,"option",7),i.qZA(),i.YNc(13,pi,2,0,"small",4),i.qZA(),i.TgZ(14,"div",1)(15,"label",2),i._uU(16,"bajo custodia de *"),i.qZA(),i.TgZ(17,"select",8)(18,"option",6),i._uU(19,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(20,mi,2,2,"option",7),i.qZA(),i.YNc(21,gi,2,0,"small",4),i.qZA()()),2&e&&(i.Q6J("formGroup",o.form),i.xp6(4),i.Q6J("ngClass",i.DdM(9,k)),i.xp6(1),i.Q6J("ngIf",o.isRequiredField(o.form,"edad",!0)),i.xp6(4),i.Q6J("ngClass",i.DdM(10,k)),i.xp6(3),i.Q6J("ngForOf",o.listaSexo),i.xp6(1),i.Q6J("ngIf",o.isRequiredField(o.form,"sexo",!0)),i.xp6(4),i.Q6J("ngClass",i.DdM(11,k)),i.xp6(3),i.Q6J("ngForOf",o.listaTipoRelacion),i.xp6(1),i.Q6J("ngIf",o.isRequiredField(o.form,"custodia",!0)))},directives:[s._Y,s.JL,s.sg,s.wV,s.Fj,s.JJ,s.u,s.Q7,s.nD,g.mk,g.O5,s.EJ,s.YN,s.Kr,g.sg],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none!important;margin:0!important}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield!important}"]}),n})();const fi=["stepper"];function hi(n,r){1&n&&i._uU(0," Identificaci\xf3n de la v\xedctima")}function vi(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function bi(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.ciudmunID),i.xp6(1),i.hij(" ",e.nombCiudMun," ")}}function Ci(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function Ai(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function Zi(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function Ti(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function xi(n,r){if(1&n&&(i.TgZ(0,"div")(1,"h5",85),i._uU(2),i.qZA(),i._UZ(3,"app-hijos-involucrados",86),i.qZA()),2&n){const e=r.$implicit,o=r.index,t=i.oxw(2);i.xp6(2),i.hij("Hijo #",o+1,""),i.xp6(1),i.Q6J("form",e)("listaSexo",t.listaSexo)("listaTipoRelacion",t.listaTipoRelacion)}}function qi(n,r){if(1&n&&(i.TgZ(0,"section",83),i.YNc(1,xi,4,4,"div",84),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.formHijosVictima)}}function Di(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function Ii(n,r){1&n&&(i.TgZ(0,"option",82),i._uU(1," Ninguna "),i.qZA()),2&n&&i.Q6J("value",r.$implicit.id_Dominio)}function Ei(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function Si(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}const v=function(n){return{"border-danger":n}},f=function(n){return{"opacity-0":n}};function Ni(n,r){if(1&n&&(i.TgZ(0,"div",39)(1,"label",87),i._uU(2,"Indique Cu\xe1l"),i.TgZ(3,"span",8),i._uU(4,"*"),i.qZA()(),i._UZ(5,"input",88),i.TgZ(6,"small",28),i._uU(7,"Campo requerido"),i.qZA()()),2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngClass",i.VKq(2,v,e.isRequiredField(e.formVictima,"descripcionRelacionAgresor",!0))),i.xp6(1),i.Q6J("ngClass",i.VKq(4,f,!e.isRequiredField(e.formVictima,"descripcionRelacionAgresor",!0)))}}function Pi(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function yi(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function Ri(n,r){if(1&n&&(i.TgZ(0,"div",44)(1,"label",89),i._uU(2,"Indique Cu\xe1l"),i.TgZ(3,"span",8),i._uU(4,"*"),i.qZA()(),i._UZ(5,"input",90),i.TgZ(6,"small",28),i._uU(7,"Campo requerido"),i.qZA()()),2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngClass",i.VKq(2,v,e.isRequiredField(e.formVictima,"descripcionDiscapacidad"))),i.xp6(1),i.Q6J("ngClass",i.VKq(4,f,!e.isRequiredField(e.formVictima,"descripcionDiscapacidad",!0)))}}function Oi(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"div",44)(1,"label",74),i._uU(2,"Indique cu\xe1ntos meses"),i.TgZ(3,"span",8),i._uU(4,"*"),i.qZA()(),i.TgZ(5,"input",91),i.NdJ("input",function(t){i.CHM(e);const a=i.oxw();return a.inputMeses(t.target,a.formVictima,"mesesEmbarazo")}),i.qZA(),i.TgZ(6,"small",28),i._uU(7,"Campo requerido"),i.qZA()()}if(2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngClass",i.VKq(2,v,e.isRequiredField(e.formVictima,"mesesEmbarazo",!0))),i.xp6(1),i.Q6J("ngClass",i.VKq(4,f,!e.isRequiredField(e.formVictima,"mesesEmbarazo",!0)))}}function Ui(n,r){if(1&n&&(i.TgZ(0,"div",44)(1,"label",92),i._uU(2,"EPS"),i.TgZ(3,"span",8),i._uU(4,"*"),i.qZA()(),i._UZ(5,"input",93),i.TgZ(6,"small",28),i._uU(7,"Campo requerido"),i.qZA()()),2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngClass",i.VKq(2,v,e.isRequiredField(e.formVictima,"eps",!0))),i.xp6(1),i.Q6J("ngClass",i.VKq(4,f,!e.isRequiredField(e.formVictima,"eps",!0)))}}function Ji(n,r){if(1&n&&(i.TgZ(0,"div",44)(1,"label",94),i._uU(2,"IPS"),i.TgZ(3,"span",8),i._uU(4,"*"),i.qZA()(),i._UZ(5,"input",95),i.TgZ(6,"small",28),i._uU(7,"Campo requerido"),i.qZA()()),2&n){const e=i.oxw();i.xp6(5),i.Q6J("ngClass",i.VKq(2,v,e.isRequiredField(e.formVictima,"ips",!0))),i.xp6(1),i.Q6J("ngClass",i.VKq(4,f,!e.isRequiredField(e.formVictima,"ips",!0)))}}function ki(n,r){1&n&&i._uU(0," Identificaci\xf3n del agresor")}function Fi(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function Vi(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.ciudmunID),i.xp6(1),i.hij(" ",e.nombCiudMun," ")}}function wi(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function Mi(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function Qi(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function ji(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function Hi(n,r){if(1&n&&(i.TgZ(0,"div")(1,"h5",85),i._uU(2),i.qZA(),i._UZ(3,"app-hijos-involucrados",86),i.qZA()),2&n){const e=r.$implicit,o=r.index,t=i.oxw(2);i.xp6(2),i.hij("Hijo #",o+1,""),i.xp6(1),i.Q6J("form",e)("listaSexo",t.listaSexo)("listaTipoRelacion",t.listaTipoRelacion)}}function Yi(n,r){if(1&n&&(i.TgZ(0,"section",83),i.YNc(1,Hi,4,4,"div",84),i.qZA()),2&n){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.formHijosAgresor)}}function zi(n,r){if(1&n&&(i.TgZ(0,"option",82),i._uU(1),i.qZA()),2&n){const e=r.$implicit;i.Q6J("value",e.id_Dominio),i.xp6(1),i.hij(" ",e.nombre_Dominio," ")}}function Li(n,r){1&n&&(i.TgZ(0,"option",82),i._uU(1," Ninguna "),i.qZA()),2&n&&i.Q6J("value",r.$implicit.id_Dominio)}function Gi(n,r){1&n&&(i.TgZ(0,"div",44)(1,"label",74),i._uU(2,"Indique Cu\xe1l"),i.qZA(),i._UZ(3,"input",96),i.qZA())}let G=(()=>{class n{constructor(e,o,t,a,c,l){this.modales=e,this.formBuilder=o,this.sharedService=t,this.identificacionDelRiesgoService=a,this.title=c,this.router=l,this.orientation="horizontal",this.dateMax=new Date,this.dateMin=new Date((new Date).setDate((new Date).getDate()-54750)),this.tarea=JSON.parse(sessionStorage.getItem("info")),this.formHijosVictima=[],this.formHijosAgresor=[],this.camposObligatorios=[],this.showOnSubmitIsRequiredVictima=!1,this.showOnSubmitIsRequiredAgresor=!1,this.title.setTitle("SICOFA - Informaci\xf3n de involucrados - Actualizar informaci\xf3n de involucrados"),this.orientation=window.screen.width<=768?"vertical":"horizontal",this.formAgresor=this.formBuilder.group({primerNombre:[{value:"",disabled:!1},s.kI.required],segundoNombre:[{value:"",disabled:!1}],primerApellido:[{value:"",disabled:!1},s.kI.required],segundoApellido:[{value:"",disabled:!1}],fechaNacimiento:[{value:"",disabled:!1}],tipoDocumento:[{value:"",disabled:!1}],numeroDocumento:[{value:"",disabled:!1}],sexo:[{value:"",disabled:!1},s.kI.required],identidadGenero:[{value:"",disabled:!1}],idEscolaridad:[""],ocupacion:[""],numeroHijos:[0],cultura:[""],hijos:[[{custodia:0,edad:0,sexo:0}]],descripcionOrganizacionCriminal:[""],agresorOrganizacionCriminal:[!1],edadAproximadaAgresor:[],lugarExpedicion:[{value:"",disabled:!1},[s.kI.required]],fechaExpedicion:[{value:"",disabled:!1},[s.kI.required]]}),this.formVictima=this.formBuilder.group({primerNombre:[{value:"",disabled:!1},[s.kI.required]],segundoNombre:[{value:"",disabled:!1}],primerApellido:[{value:"",disabled:!1},[s.kI.required]],segundoApellido:[{value:"",disabled:!1}],fechaNacimiento:[{value:"",disabled:!1},[s.kI.required]],tipoDocumento:[{value:"",disabled:!0},[s.kI.required]],numeroDocumento:[{value:"",disabled:!0},[s.kI.required]],sexo:[{value:"",disabled:!1},[s.kI.required]],identidadGenero:[{value:"",disabled:!1},[s.kI.required]],ocupacion:["",s.kI.required],idEscolaridad:["",s.kI.required],relacionPareja:["",s.kI.required],relacionAgresor:["",s.kI.required],descripcionRelacionAgresor:[""],idDiscapacidad:[""],descripcionDiscapacidad:[""],embarazo:["NO",s.kI.required],mesesEmbarazo:[0,[s.kI.max(9),s.kI.min(0)]],victimaConflicto:[!1,s.kI.required],eps:[""],ips:[""],cultura:[""],numeroHijos:[0],hijos:[[{custodia:0,edad:0,sexo:0}]],seguridad:[!1],lugarExpedicion:[{value:"",disabled:!1},[s.kI.required]],fechaExpedicion:[{value:"",disabled:!1},[s.kI.required]]})}ngAfterViewInit(){this.getInvolucradoVictima(),this.getListaTipoDocumento(),this.getListaSexo(),this.getListaIdentidadGenero(),this.getListaDiscapacidad(),this.getListaNivelAcademico(),this.getListaCultura(),this.getListaTipoRelacion(),this.getListaEstadoCivil(),this.getListaOtros(),this.getListaLugarExpedicion()}getInvolucradoVictima(){var e=this;return(0,_.Z)(function*(){e.identificacionDelRiesgoService.getInvolucradoVictima(e.tarea.idSolicitud).subscribe(o=>{o&&o.statusCode===u.jh.OK?(e.victima=o.data,e.setFormDataVictima()):e.modales.modalInformacion(u.q4.MENSAJE_ERROR_G)})})()}getInvolucradoAgresor(){var e=this;return(0,_.Z)(function*(){e.identificacionDelRiesgoService.getInvolucradoAgresor(e.tarea.idSolicitud).subscribe(o=>{o&&o.statusCode===u.jh.OK?(e.agresor=o.data,e.setFormDataAgresor()):e.modales.modalInformacion(u.q4.MENSAJE_ERROR_G)})})()}setFormInvolucrados(e,o){o&&(e.setValue(o),this.victima.hijos&&this.setHijosVictima(this.victima.hijos))}setFormDataAgresor(){const e=this.nullToEmptyString(this.agresor),{agresorConflicto:m,agresorconflictoDescripcion:h}=e,Oo=(0,z._T)(e,["id","nombres","apellidos","idGenero","telefonoContactoConfianza","firma","agresorConflicto","agresorconflictoDescripcion","direccionRecidencia","telefono","embarazo","relacionAgresor","descripcionRelacionAgresor","idDiscapacidad","descripcionDiscapacidad","mesesEmbarazo","victimaConflicto","eps","ips","relacionPareja"]);this.formAgresor.setValue(Object.assign(Object.assign({},Oo),{agresorOrganizacionCriminal:!!m,descripcionOrganizacionCriminal:h})),this.agresor.hijos&&this.setHijosAgresor(this.agresor.hijos)}setFormDataVictima(){const e=this.nullToEmptyString(this.victima),{embarazo:H}=e,U=(0,z._T)(e,["id","nombres","apellidos","idGenero","telefonoContactoConfianza","firma","agresorConflicto","agresorconflictoDescripcion","edadAproximadaAgresor","direccionRecidencia","telefono","embarazo"]);this.formVictima.setValue(Object.assign(Object.assign({},U),{seguridad:!(!U.eps&&!U.ips),embarazo:H?H.toUpperCase():"NO"})),this.formVictima.controls.lugarExpedicion.setValue(this.victima.lugarExpedicion||""),this.victima.hijos&&this.setHijosVictima(this.victima.hijos)}nullToEmptyString(e){for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&null==e[o]&&(e[o]="");return e}getListaTipoDocumento(){var e=this;return(0,_.Z)(function*(){const o=yield e.sharedService.getDominioFromLocal("Tipo_identificacion");e.listaTipoDocumento=o})()}getListaSexo(){var e=this;return(0,_.Z)(function*(){const o=yield e.sharedService.getDominioFromLocal("Sexo");e.listaSexo=o})()}getListaIdentidadGenero(){var e=this;return(0,_.Z)(function*(){const o=yield e.sharedService.getDominioFromLocal("Genero");e.listaGenero=o})()}getListaNivelAcademico(){var e=this;return(0,_.Z)(function*(){const o=yield e.sharedService.getDominioFromLocal("Nivel_Academico");e.listaNivelAcademico=o})()}getListaDiscapacidad(){var e=this;return(0,_.Z)(function*(){const o=yield e.sharedService.getDominioFromLocal("Discapacidad");e.listaDiscapacidad=o})()}getListaCultura(){var e=this;return(0,_.Z)(function*(){const o=yield e.sharedService.getDominioFromLocal("Tipo_Cultura");e.listaCultura=o})()}getListaTipoRelacion(){var e=this;return(0,_.Z)(function*(){const o=yield e.sharedService.getDominioFromLocal("Tipo_Relacion");e.listaTipoRelacion=o})()}isRequiredField(e,o,t=!1){var a,c,l,d,m;t&&!this.camposObligatorios.includes(o)&&this.camposObligatorios.push(o);const h=null===(a=e.get(o))||void 0===a?void 0:a.dirty,b=x.B.findInvalidControls(e).includes(o),C="string"==typeof(null===(c=e.get(o))||void 0===c?void 0:c.value)&&""==(null===(l=e.get(o))||void 0===l?void 0:l.value);return t?h&&C:this.showOnSubmitIsRequiredVictima||this.showOnSubmitIsRequiredAgresor?!(null===(d=e.get(o))||void 0===d?void 0:d.valid)||C:!(!h||!b)&&(!(null===(m=e.get(o))||void 0===m?void 0:m.valid)||C)}postActualizarInvolucradoAgresor(){var e;let o=new T.x;const t=this.formAgresor.value,a={idInvolucrado:this.agresor.id,ocupacion:t.ocupacion,Escolidad:t.idEscolaridad?t.idEscolaridad:0,RelacionPareja:0,numeroHijos:t.numeroHijos?t.numeroHijos:0,Cultura:t.cultura?t.cultura:0,RelacionAgresor:0,descripcionRelacionAgresor:"",TipoDiscapcidad:0,informacionHijos:this.getHijos(this.formHijosAgresor),descripcionDiscapacidad:"",embarazo:"NO",mesesEmbarazo:0,victimaConflicto:!1,eps:"",ips:"",agresorOrganizacionCriminal:t.agresorOrganizacionCriminal,descripcionOrganizacionCriminal:t.descripcionOrganizacionCriminal,idSexo:t.sexo,idRelacionPareja:t.relacionPareja,primerNombre:t.primerNombre,segundoNombre:t.segundoNombre,primerApellido:t.primerApellido,segundoApellido:t.segundoApellido,nombres:this.getNombreCompleto(t,!0),apellidos:this.getNombreCompleto(t,!1,!0),idtipoDocumento:t.tipoDocumento?t.tipoDocumento:0,numeroDocumento:t.numeroDocumento?t.numeroDocumento:"",lugarExpedicion:t.lugarExpedicion,fechaExpedicion:t.fechaExpedicion,idIdentidadGenero:t.identidadGenero,edadAproximadaAgresor:t.edadAproximadaAgresor?t.edadAproximadaAgresor:0};return(null===(e=a.informacionHijos)||void 0===e?void 0:e.length)!=a.numeroHijos?(this.modales.modalInformacion("El numero de hijos no coincide con la informaci\xf3n de los hijos registrados."),o.next(!1),o.asObservable()):(this.identificacionDelRiesgoService.postActualizarInvolucrado(a).subscribe({next:({statusCode:c})=>{c===u.jh.OK&&this.modales.modalExito("Datos guardados exitosamente.").subscribe(()=>{o.next(!0)})},error:()=>{o.next(!1)}}),o.asObservable())}postActualizarInvolucradoVictima(){var e;let o=new T.x;const t=this.formVictima.value,a={idInvolucrado:this.victima.id,ocupacion:t.ocupacion,Escolidad:t.idEscolaridad,RelacionPareja:t.relacionPareja,numeroHijos:t.numeroHijos?t.numeroHijos:0,Cultura:t.cultura?t.cultura:0,RelacionAgresor:t.relacionAgresor,descripcionRelacionAgresor:t.descripcionRelacionAgresor,TipoDiscapcidad:t.idDiscapacidad?t.idDiscapacidad:0,informacionHijos:this.getHijos(this.formHijosVictima),descripcionDiscapacidad:t.descripcionDiscapacidad,embarazo:t.embarazo,mesesEmbarazo:t.mesesEmbarazo,victimaConflicto:t.victimaConflicto,eps:t.eps,ips:t.ips,descripcionOrganizacionCriminal:"",agresorOrganizacionCriminal:!1,idSexo:t.sexo,idRelacionPareja:t.relacionPareja,nombres:this.getNombreCompleto(t,!0),apellidos:this.getNombreCompleto(t,!1,!0),primerNombre:t.primerNombre,segundoNombre:t.segundoNombre,primerApellido:t.primerApellido,segundoApellido:t.segundoApellido,idtipoDocumento:this.victima.tipoDocumento,numeroDocumento:this.victima.numeroDocumento,idIdentidadGenero:t.identidadGenero,lugarExpedicion:t.lugarExpedicion,fechaExpedicion:t.fechaExpedicion,fechaNacimiento:t.fechaNacimiento};return(null===(e=a.informacionHijos)||void 0===e?void 0:e.length)!=a.numeroHijos?(this.modales.modalInformacion("El numero de hijos no coincide con la informaci\xf3n de los hijos registrados."),o.next(!1),o.asObservable()):(this.identificacionDelRiesgoService.postActualizarInvolucrado(a).subscribe({next:({statusCode:c})=>{c===u.jh.OK&&o.next(!0)},error:()=>{o.next(!1)}}),o.asObservable())}getNombreCompleto(e,o=!1,t=!1){return[o&&e.primerNombre?e.primerNombre:"",o&&e.segundoNombre?e.segundoNombre:"",t&&e.primerApellido?e.primerApellido:"",t&&e.segundoApellido?e.segundoApellido:""].join(" ").trim()}changeHijosVictima(){var e;let o=null===(e=this.formVictima.get("numeroHijos"))||void 0===e?void 0:e.value;if(o||(this.formHijosVictima=[]),o&&this.formHijosVictima.length!=o){this.formHijosVictima=[];for(let t=1;t<=o;t++){let a=this.formBuilder.group({custodia:["",[s.kI.required]],sexo:["",[s.kI.required]],edad:[0,[s.kI.required,s.kI.maxLength(2),s.kI.max(99)]]});this.formHijosVictima.push(a)}}}changeHijosAgresor(){var e;let o=null===(e=this.formAgresor.get("numeroHijos"))||void 0===e?void 0:e.value;if(o||(this.formHijosAgresor=[]),o&&this.formHijosAgresor.length!=o){this.formHijosAgresor=[];for(let t=1;t<=o;t++){let a=this.formBuilder.group({custodia:["",[s.kI.required]],sexo:["",[s.kI.required]],edad:[0,[s.kI.required]]});this.formHijosAgresor.push(a)}}}setHijosVictima(e){let o=e.length;0==o&&(this.formHijosVictima=[]),o&&this.formHijosVictima.length!=o&&(this.formHijosVictima=[],e.forEach(t=>{let a=this.formBuilder.group({custodia:[t.custodia?t.custodia:"",[s.kI.required]],sexo:[t.sexo?t.sexo:"",[s.kI.required]],edad:[t.edad?t.edad:0,[s.kI.required]]});this.formHijosVictima.push(a)}))}setHijosAgresor(e){let o=e.length;0==o&&(this.formHijosAgresor=[]),o&&this.formHijosAgresor.length!=o&&(this.formHijosAgresor=[],e.forEach(t=>{let a=this.formBuilder.group({custodia:[t.custodia?t.custodia:"",[s.kI.required]],sexo:[t.sexo?t.sexo:"",[s.kI.required]],edad:[t.edad?t.edad:0,[s.kI.required]]});this.formHijosAgresor.push(a)}))}getListaEstadoCivil(){var e=this;return(0,_.Z)(function*(){const o=yield e.sharedService.getDominioFromLocal("Estado_Civil");e.listaEstadoCivil=o})()}getListaOtros(){var e=this;return(0,_.Z)(function*(){const o=yield e.sharedService.getDominioFromLocal("Tipo_Otro");e.listaOtros=o})()}getListaLugarExpedicion(){var e=this;return(0,_.Z)(function*(){e.sharedService.getLugarExpedicion().subscribe(o=>{o.statusCode===u.jh.OK&&(e.listaLugarExpedicion=o.data)})})()}inputNumber(e,o=0,t=9){let a=Number(e.value.replace(u.i$.NUMERO_G,"").substring(0,t>9?t.toString().length:1));e.value=a<o?"":a>t?"0":a+""}inputMeses(e,o,t){var a;let c=e.value.replace(u.i$.NUMERO_G,"");null===(a=o.get(t))||void 0===a||a.setValue(c)}getHijos(e){let o=[];return e.length>0?(e.forEach(t=>{const a=t.value;let c={custodia:a.custodia,edad:a.edad&&a.edad>99?Number(`${a.edad}`.substring(0,2)):a.edad,sexo:a.sexo};o.push(c)}),o):[]}cancelar(){this.modales.modalCancelar("/psicologia")}archivarDiligencias(){this.modales.modalArchivarDiligencias(this.tarea,"/psicologia")}guardar(e,o=!1){"victima"==e?this.isValidForm("victima")?(this.showOnSubmitIsRequiredVictima=!1,this.postActualizarInvolucradoVictima().subscribe({next:t=>{t&&!o&&(this.getInvolucradoAgresor(),this.stepper.next())},error:()=>{this.modales.modalInformacion(u.q4.MENSAJE_ERROR_G)}})):this.showOnSubmitIsRequiredVictima=!0:this.postActualizarInvolucradoAgresor().subscribe({error:()=>{this.modales.modalInformacion(u.q4.MENSAJE_ERROR_G)}})}cerrarActuaciones(){this.isValidForm("agresor")&&this.isValidForm("victima")?(this.showOnSubmitIsRequiredVictima=!1,this.postActualizarInvolucradoVictima().subscribe({next:e=>{e&&this.postActualizarInvolucradoAgresor().subscribe({next:o=>{o?this.cerrarTareaYCrearEvaluacionPsicologica():this.modales.modalInformacion("Error: No se captur\xf3 el idTarea")}})}})):this.showOnSubmitIsRequiredAgresor=!0}cerrarTareaYCrearEvaluacionPsicologica(){this.modales.modalConfirmacion(u.q4.MENSAJE_CERRAR_ACT).subscribe(e=>{e&&this.identificacionDelRiesgoService.cerrarTareaYCrearEvaluacionPsicologica({idSolicitudServicio:this.tarea.idSolicitud,idTarea:this.tarea.idTarea}).subscribe(o=>{o.statusCode===u.jh.OK&&this.router.navigate(["/psicologia"])})})}isValidForm(e){let o,t=0;const a="agresor"==e?this.formAgresor:this.formVictima,c="agresor"==e?this.formHijosAgresor:this.formHijosVictima;return o=x.B.findInvalidControls(a).concat(this.validarCamposObligatorios(a)),c.forEach(l=>{l.valid||t++}),t?(this.modales.modalInformacion("La informaci\xf3n de los hijos est\xe1 incompleta"),!1):this.formVictima.valid&&!o.length&&!t}validarFormulario(e,o){let t=0;const a=x.B.findInvalidControls(e).concat(this.validarCamposObligatorios(e));return this.formHijosAgresor.forEach(c=>{c.valid||t++}),t?(this.modales.modalInformacion(o?"La informaci\xf3n de los hijos del agresor est\xe1 incompleta":"La informaci\xf3n de los hijos de la v\xedcima est\xe1 incompleta"),!1):e.valid&&!a.length&&!t}validarCamposObligatorios(e){let o=[];return this.camposObligatorios.forEach(t=>{var a;this.isRequiredField(e,t,!0)&&("ips"==t||"eps"==t?(null===(a=e.get("seguridad"))||void 0===a?void 0:a.value)&&o.push(t):o.push(t))}),o}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(A.B),i.Y36(s.qu),i.Y36(R.F),i.Y36(S._),i.Y36(N.Dx),i.Y36(E.F0))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-datos-involucrados"]],viewQuery:function(e,o){if(1&e&&i.Gf(fi,5),2&e){let t;i.iGM(t=i.CRH())&&(o.stepper=t.first)}},decls:374,vars:148,consts:[["labelPosition","bottom","linear","",1,"mb-5",3,"orientation"],["stepper",""],["matStepLabel","","class","text-capitalize"],[1,"p-5",3,"formGroup"],[1,"subtitle-ciudadano","mb-4"],[1,"agresor","row"],[1,"form-group","col-lg-4"],[1,"form-label","text-capitalize"],[1,"mx-1"],["type","text","placeholder","Primer nombre","formControlName","primerNombre","maxlength","50",1,"form-control",3,"ngClass"],[1,"text-danger",3,"ngClass"],[1,"form-group","col-lg-4","mb-4"],["type","text","placeholder","Segundo nombre","formControlName","segundoNombre","maxlength","50",1,"form-control"],["type","text","placeholder","Primer Apellido","formControlName","primerApellido","maxlength","50",1,"form-control",3,"ngClass"],["type","text","placeholder","Segundo Apellido","formControlName","segundoApellido","maxlength","50",1,"form-control"],["type","text","placeholder","Tipo de documento","formControlName","tipoDocumento",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","N\xfamero Documento","formControlName","numeroDocumento","maxlength","20",1,"form-control"],[1,"input-group",2,"max-height","38px"],["readonly","","placeholder","DD/MM/YYYY","formControlName","fechaExpedicion",1,"form-control","border-end-0","bg-white",3,"matDatepicker","max","min","click"],[1,"input-group-text","border-start-0","p-0","bg-white",2,"max-height","38px"],["matSuffix","",3,"for"],["pickerExp1",""],["formControlName","lugarExpedicion",1,"form-select",3,"ngClass"],["readonly","","placeholder","DD/MM/YYYY","formControlName","fechaNacimiento",1,"form-control","border-end-0","bg-white",3,"matDatepicker","max","min","click"],["pickerNac",""],["type","text","formControlName","sexo",1,"form-select",3,"ngClass"],[1,"form-text","text-danger",3,"ngClass"],["type","text","formControlName","identidadGenero",1,"form-select",3,"ngClass"],["type","text","placeholder","Ocupaci\xf3n","formControlName","ocupacion","maxlength","50",1,"form-control",3,"ngClass"],["formControlName","idEscolaridad",1,"form-select",3,"ngClass"],["formControlName","relacionPareja",1,"form-select",3,"ngClass"],["type","number","min","0","step","1","placeholder","n\xfamero de hijos","formControlName","numeroHijos",1,"form-control","bg-white",3,"input"],["class","background-filter-private hijos p-4 mt-4","style","background-color: #e3e7ea !important",4,"ngIf"],[1,"row","mt-4"],[1,"col-lg-4","mb-4","d-flex","flex-column","justify-content-end"],["for","cultura",1,"form-label"],["formControlName","cultura",1,"form-select"],[1,"col-lg-4","d-flex","flex-column","justify-content-end"],["for","relaciona",1,"form-label"],["formControlName","relacionAgresor",1,"form-select",3,"ngClass"],["class","col-lg-4 d-flex flex-column justify-content-end",4,"ngIf"],[1,"row","mb-4"],[1,"col-lg-4"],[1,"form-label"],["formControlName","idDiscapacidad",1,"form-select"],["class","col-lg-4",4,"ngIf"],[1,"row"],[1,"col-lg-4","mb-4"],[1,"form-check","form-check-inline"],["type","radio","name","embarazo","id","noe","formControlName","embarazo","value","NO",1,"form-check-input"],["for","noe",1,"form-check-label","form-label"],["type","radio","name","embarazo","id","sie","formControlName","embarazo","value","SI",1,"form-check-input"],["for","sie",1,"form-check-label","form-label"],["type","radio","name","embarazo","id","sie","formControlName","embarazo","value","NS",1,"form-check-input"],["for","nse",1,"form-check-label","form-label"],["type","radio","name","embarazo","id","nae","formControlName","embarazo","value","NA",1,"form-check-input"],["for","nae",1,"form-check-label","form-label"],[1,"col-lg-12","mb-4"],["type","radio","name","victimaConflicto","id","noc","formControlName","victimaConflicto",1,"form-check-input",3,"value"],["for","noc",1,"form-check-label","form-label"],["type","radio","name","victimaConflicto","id","sic","formControlName","victimaConflicto",1,"form-check-input",3,"value"],["for","sic",1,"form-check-label","form-label"],["type","radio","name","seguridad","formControlName","seguridad",1,"form-check-input",3,"value","click"],["for","nos",1,"form-check-label","form-label"],["type","radio","name","seguridad","formControlName","seguridad",1,"form-check-input",3,"value"],["for","sis",1,"form-check-label","form-label"],[1,"d-flex","align-items-center","justify-content-end","mt-5","text-nowrap",2,"gap","1rem"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","text","placeholder","Tipo de documento","formControlName","tipoDocumento",1,"form-select",3,"ngClass"],["type","text","placeholder","N\xfamero Documento","formControlName","numeroDocumento","maxlength","20",1,"form-control",3,"ngClass"],["pickerExp2",""],["for","cuantos",1,"form-label"],["type","text","formControlName","edadAproximadaAgresor","maxlength","3","placeholder","Edad Aproximada",1,"form-control",3,"input"],["type","text","formControlName","identidadGenero",1,"form-select"],["type","text","placeholder","Ocupaci\xf3n","formControlName","ocupacion","maxlength","50",1,"form-control"],["formControlName","idEscolaridad",1,"form-select"],["type","radio","name","agresorOrganizacionCriminal","id","noe","formControlName","agresorOrganizacionCriminal",1,"form-check-input",3,"value","click"],["type","radio","name","agresorOrganizacionCriminal","id","sie","formControlName","agresorOrganizacionCriminal",1,"form-check-input",3,"value"],[1,"d-flex","align-items-center","justify-content-end","mt-5","text-nowrap","flex-wrap","w-100",2,"gap","1rem"],[3,"value"],[1,"background-filter-private","hijos","p-4","mt-4",2,"background-color","#e3e7ea !important"],[4,"ngFor","ngForOf"],[1,"col-12"],[3,"form","listaSexo","listaTipoRelacion"],["for","cual",1,"form-label"],["type","text","formControlName","descripcionRelacionAgresor","maxlength","50","placeholder","Indique Cu\xe1l",1,"form-control",3,"ngClass"],["for","cuald",1,"form-label"],["type","text","id","cuald","formControlName","descripcionDiscapacidad","maxlength","50","placeholder","Indique Cu\xe1l",1,"form-control",3,"ngClass"],["type","text","formControlName","mesesEmbarazo","maxlength","1","placeholder","Indique cu\xe1ntos meses",1,"form-control",3,"ngClass","input"],["for","eps",1,"form-label"],["type","text","formControlName","eps","maxlength","50",1,"form-control",3,"ngClass"],["for","ips",1,"form-label"],["type","text","formControlName","ips","maxlength","50",1,"form-control",3,"ngClass"],["type","text","formControlName","descripcionOrganizacionCriminal","maxlength","50","placeholder","Indique Cu\xe1l",1,"form-control"]],template:function(e,o){if(1&e){const t=i.EpF();i._UZ(0,"app-encabezado-private"),i.TgZ(1,"mat-stepper",0,1)(3,"mat-step"),i.YNc(4,hi,1,0,"ng-template",2),i.TgZ(5,"form",3)(6,"div",4),i._uU(7," DATOS DE IDENTIFICACI\xd3N DEL ACCIONANTE "),i.qZA(),i.TgZ(8,"div",5)(9,"div",6)(10,"label",7),i._uU(11,"Primer nombre"),i.TgZ(12,"span",8),i._uU(13,"*"),i.qZA()(),i._UZ(14,"input",9),i.TgZ(15,"span",10),i._uU(16,"Campo requerido"),i.qZA()(),i.TgZ(17,"div",11)(18,"label",7),i._uU(19,"Segundo nombre"),i.qZA(),i._UZ(20,"input",12),i.qZA(),i.TgZ(21,"div",6)(22,"label",7),i._uU(23,"Primer Apellido"),i.TgZ(24,"span",8),i._uU(25,"*"),i.qZA()(),i._UZ(26,"input",13),i.TgZ(27,"span",10),i._uU(28,"Campo requerido"),i.qZA()(),i.TgZ(29,"div",11)(30,"label",7),i._uU(31,"Segundo Apellido"),i.qZA(),i._UZ(32,"input",14),i.qZA(),i.TgZ(33,"div",11)(34,"label",7),i._uU(35,"tipo de documento"),i.TgZ(36,"span",8),i._uU(37,"*"),i.qZA()(),i.TgZ(38,"select",15)(39,"option",16),i._uU(40,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(41,vi,2,2,"option",17),i.qZA()(),i.TgZ(42,"div",11)(43,"label",7),i._uU(44,"n\xfamero documento"),i.TgZ(45,"span",8),i._uU(46,"*"),i.qZA()(),i._UZ(47,"input",18),i.qZA(),i.TgZ(48,"div",6)(49,"label",7),i._uU(50,"fecha de expedici\xf3n"),i.TgZ(51,"span",8),i._uU(52,"*"),i.qZA()(),i.TgZ(53,"div",19)(54,"input",20),i.NdJ("click",function(){return i.CHM(t),i.MAs(58).open()}),i.qZA(),i.TgZ(55,"span",21),i._UZ(56,"mat-datepicker-toggle",22)(57,"mat-datepicker",null,23),i.qZA()(),i.TgZ(59,"span",10),i._uU(60,"Campo requerido"),i.qZA()(),i.TgZ(61,"div",6)(62,"label",7),i._uU(63,"Lugar de expedici\xf3n"),i.TgZ(64,"span",8),i._uU(65,"*"),i.qZA()(),i.TgZ(66,"select",24)(67,"option",16),i._uU(68,"Lugar de expedici\xf3n"),i.qZA(),i.YNc(69,bi,2,2,"option",17),i.qZA(),i.TgZ(70,"span",10),i._uU(71,"Campo requerido"),i.qZA()(),i.TgZ(72,"div",6)(73,"label",7),i._uU(74,"fecha nacimiento"),i.TgZ(75,"span",8),i._uU(76,"*"),i.qZA()(),i.TgZ(77,"div",19)(78,"input",25),i.NdJ("click",function(){return i.CHM(t),i.MAs(82).open()}),i.qZA(),i.TgZ(79,"span",21),i._UZ(80,"mat-datepicker-toggle",22)(81,"mat-datepicker",null,26),i.qZA()(),i.TgZ(83,"span",10),i._uU(84,"Campo requerido"),i.qZA()(),i.TgZ(85,"div",6)(86,"label",7),i._uU(87,"sexo"),i.TgZ(88,"span",8),i._uU(89,"*"),i.qZA()(),i.TgZ(90,"select",27)(91,"option",16),i._uU(92,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(93,Ci,2,2,"option",17),i.qZA(),i.TgZ(94,"small",28),i._uU(95," Campo requerido "),i.qZA()(),i.TgZ(96,"div",6)(97,"label",7),i._uU(98,"identidad de g\xe9nero"),i.TgZ(99,"span",8),i._uU(100,"*"),i.qZA()(),i.TgZ(101,"select",29)(102,"option",16),i._uU(103,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(104,Ai,2,2,"option",17),i.qZA(),i.TgZ(105,"small",28),i._uU(106," Campo requerido "),i.qZA()(),i.TgZ(107,"div",6)(108,"label",7),i._uU(109,"ocupaci\xf3n"),i.TgZ(110,"span",8),i._uU(111,"*"),i.qZA()(),i._UZ(112,"input",30),i.TgZ(113,"small",28),i._uU(114," Campo requerido "),i.qZA()(),i.TgZ(115,"div",6)(116,"label",7),i._uU(117,"escolaridad"),i.TgZ(118,"span",8),i._uU(119,"*"),i.qZA()(),i.TgZ(120,"select",31)(121,"option",16),i._uU(122,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(123,Zi,2,2,"option",17),i.qZA(),i.TgZ(124,"small",28),i._uU(125,"Campo requerido"),i.qZA()(),i.TgZ(126,"div",6)(127,"label",7),i._uU(128,"relaci\xf3n de pareja"),i.TgZ(129,"span",8),i._uU(130,"*"),i.qZA()(),i.TgZ(131,"select",32)(132,"option",16),i._uU(133,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(134,Ti,2,2,"option",17),i.qZA(),i.TgZ(135,"small",28),i._uU(136,"Campo requerido"),i.qZA()(),i.TgZ(137,"div",6)(138,"label",7),i._uU(139,"n\xfamero de hijos"),i.TgZ(140,"span",8),i._uU(141,"*"),i.qZA()(),i.TgZ(142,"input",33),i.NdJ("input",function(c){return o.inputNumber(c.target,0,99),o.changeHijosVictima()}),i.qZA()()(),i.YNc(143,qi,2,1,"section",34),i.TgZ(144,"div",35)(145,"div",36)(146,"label",37),i._uU(147," De acuerdo con su cultura, pueblo o rasgo f\xedsico es o se reconoce como "),i.qZA(),i.TgZ(148,"select",38)(149,"option",16),i._uU(150,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(151,Di,2,2,"option",17),i.YNc(152,Ii,2,1,"option",17),i.qZA()(),i.TgZ(153,"div",39)(154,"label",40),i._uU(155,"Relaci\xf3n con el Agresor"),i.TgZ(156,"span",8),i._uU(157,"*"),i.qZA()(),i.TgZ(158,"select",41)(159,"option",16),i._uU(160,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(161,Ei,2,2,"option",17),i.YNc(162,Si,2,2,"option",17),i.qZA(),i.TgZ(163,"small",28),i._uU(164,"Campo requerido"),i.qZA()(),i.YNc(165,Ni,8,6,"div",42),i.qZA(),i.TgZ(166,"div",43)(167,"div",44)(168,"label",45),i._uU(169,"\xbfTiene alguna discapacidad?"),i.qZA(),i.TgZ(170,"select",46)(171,"option",16),i._uU(172,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(173,Pi,2,2,"option",17),i.YNc(174,yi,2,2,"option",17),i.qZA()(),i.YNc(175,Ri,8,6,"div",47),i.qZA(),i.TgZ(176,"div",48)(177,"div",49)(178,"p",45),i._uU(179,"\xbfSe encuentra en estado de embarazo?"),i.qZA(),i.TgZ(180,"div")(181,"div",50),i._UZ(182,"input",51),i.TgZ(183,"label",52),i._uU(184," NO "),i.qZA()(),i.TgZ(185,"div",50),i._UZ(186,"input",53),i.TgZ(187,"label",54),i._uU(188," SI "),i.qZA()(),i.TgZ(189,"div",50),i._UZ(190,"input",55),i.TgZ(191,"label",56),i._uU(192," NS "),i.qZA()(),i.TgZ(193,"div",50),i._UZ(194,"input",57),i.TgZ(195,"label",58),i._uU(196," NA "),i.qZA()()()(),i.YNc(197,Oi,8,6,"div",47),i.TgZ(198,"div",59)(199,"p",45),i._uU(200,"\xbfEs usted v\xedctima del conflicto armado?"),i.qZA(),i.TgZ(201,"div",50),i._UZ(202,"input",60),i.TgZ(203,"label",61),i._uU(204," NO "),i.qZA()(),i.TgZ(205,"div",50),i._UZ(206,"input",62),i.TgZ(207,"label",63),i._uU(208," SI "),i.qZA()()(),i.TgZ(209,"div",49)(210,"p",45),i._uU(211," \xbfSe encuentra afiliado al Sistema de Seguridad Social en Salud? "),i.qZA(),i.TgZ(212,"div",50)(213,"input",64),i.NdJ("click",function(){let c;return null==(c=o.formVictima.get("eps"))||c.setValue(""),null==(c=o.formVictima.get("ips"))?null:c.setValue("")}),i.qZA(),i.TgZ(214,"label",65),i._uU(215," NO "),i.qZA()(),i.TgZ(216,"div",50),i._UZ(217,"input",66),i.TgZ(218,"label",67),i._uU(219," SI "),i.qZA()()(),i.YNc(220,Ui,8,6,"div",47),i.YNc(221,Ji,8,6,"div",47),i.qZA(),i.TgZ(222,"div",68)(223,"button",69),i.NdJ("click",function(){return o.cancelar()}),i._uU(224," Cancelar "),i.qZA(),i.TgZ(225,"button",70),i.NdJ("click",function(){return o.archivarDiligencias()}),i._uU(226," Archivar diligencias "),i.qZA(),i.TgZ(227,"button",70),i.NdJ("click",function(){return o.guardar("victima")}),i._uU(228," Siguiente "),i.qZA()()()(),i.TgZ(229,"mat-step"),i.YNc(230,ki,1,0,"ng-template",2),i.TgZ(231,"form",3)(232,"div",4),i._uU(233," DATOS DE IDENTIFICACI\xd3N DEL ACCIONADO "),i.qZA(),i.TgZ(234,"div",5)(235,"div",11)(236,"label",7),i._uU(237,"Primer nombre"),i.TgZ(238,"span",8),i._uU(239,"*"),i.qZA()(),i._UZ(240,"input",9),i.TgZ(241,"small",28),i._uU(242,"Campo requerido"),i.qZA()(),i.TgZ(243,"div",11)(244,"label",7),i._uU(245,"Segundo nombre"),i.qZA(),i._UZ(246,"input",12),i.qZA(),i.TgZ(247,"div",11)(248,"label",7),i._uU(249,"Primer Apellido"),i.TgZ(250,"span",8),i._uU(251,"*"),i.qZA()(),i._UZ(252,"input",13),i.TgZ(253,"small",28),i._uU(254,"Campo requerido"),i.qZA()(),i.TgZ(255,"div",11)(256,"label",7),i._uU(257,"Segundo Apellido"),i.qZA(),i._UZ(258,"input",14),i.qZA(),i.TgZ(259,"div",11)(260,"label",7),i._uU(261,"tipo de documento"),i.TgZ(262,"span",8),i._uU(263,"*"),i.qZA()(),i.TgZ(264,"select",71)(265,"option",16),i._uU(266,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(267,Fi,2,2,"option",17),i.qZA(),i.TgZ(268,"small",28),i._uU(269," Campo requerido "),i.qZA()(),i.TgZ(270,"div",11)(271,"label",7),i._uU(272,"n\xfamero documento"),i.TgZ(273,"span",8),i._uU(274,"*"),i.qZA()(),i._UZ(275,"input",72),i.TgZ(276,"small",28),i._uU(277," Campo requerido "),i.qZA()(),i.TgZ(278,"div",6)(279,"label",7),i._uU(280,"fecha de expedici\xf3n"),i.TgZ(281,"span",8),i._uU(282,"*"),i.qZA()(),i.TgZ(283,"div",19)(284,"input",20),i.NdJ("click",function(){return i.CHM(t),i.MAs(288).open()}),i.qZA(),i.TgZ(285,"span",21),i._UZ(286,"mat-datepicker-toggle",22)(287,"mat-datepicker",null,73),i.qZA()(),i.TgZ(289,"span",10),i._uU(290,"Campo requerido"),i.qZA()(),i.TgZ(291,"div",6)(292,"label",7),i._uU(293,"Lugar de expedici\xf3n"),i.TgZ(294,"span",8),i._uU(295,"*"),i.qZA()(),i.TgZ(296,"select",24)(297,"option",16),i._uU(298,"Lugar de expedici\xf3n"),i.qZA(),i.YNc(299,Vi,2,2,"option",17),i.qZA(),i.TgZ(300,"span",10),i._uU(301,"Campo requerido"),i.qZA()(),i.TgZ(302,"div",11)(303,"label",74),i._uU(304,"Edad Aproximada"),i.qZA(),i.TgZ(305,"input",75),i.NdJ("input",function(c){return o.inputMeses(c.target,o.formAgresor,"edadAproximadaAgresor")}),i.qZA()(),i.TgZ(306,"div",11)(307,"label",7),i._uU(308,"sexo"),i.TgZ(309,"span",8),i._uU(310,"*"),i.qZA()(),i.TgZ(311,"select",27)(312,"option",16),i._uU(313,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(314,wi,2,2,"option",17),i.qZA(),i.TgZ(315,"small",28),i._uU(316,"Campo requerido"),i.qZA()(),i.TgZ(317,"div",11)(318,"label",7),i._uU(319,"identidad de g\xe9nero"),i.qZA(),i.TgZ(320,"select",76)(321,"option",16),i._uU(322,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(323,Mi,2,2,"option",17),i.YNc(324,Qi,2,2,"option",17),i.qZA()(),i.TgZ(325,"div",6)(326,"label",7),i._uU(327,"ocupaci\xf3n"),i.qZA(),i._UZ(328,"input",77),i.qZA(),i.TgZ(329,"div",6)(330,"label",7),i._uU(331,"escolaridad"),i.qZA(),i.TgZ(332,"select",78)(333,"option",16),i._uU(334,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(335,ji,2,2,"option",17),i.qZA()(),i.TgZ(336,"div",6)(337,"label",7),i._uU(338,"n\xfamero de hijos"),i.qZA(),i.TgZ(339,"input",33),i.NdJ("input",function(c){return o.inputNumber(c.target,0,99),o.changeHijosAgresor()}),i.qZA()()(),i.YNc(340,Yi,2,1,"section",34),i.TgZ(341,"div",35)(342,"div",36)(343,"label",37),i._uU(344," De acuerdo con su cultura, pueblo o rasgo f\xedsico es o se reconoce como "),i.qZA(),i.TgZ(345,"select",38)(346,"option",16),i._uU(347,"Seleccione una opci\xf3n"),i.qZA(),i.YNc(348,zi,2,2,"option",17),i.YNc(349,Li,2,1,"option",17),i.qZA()(),i.TgZ(350,"div",59)(351,"p",45),i._uU(352," \xbfSabe usted si el agresor pertenece a un grupo organizado al margen de la ley o grupo delictivo organizado? "),i.qZA(),i.TgZ(353,"div")(354,"div",50)(355,"input",79),i.NdJ("click",function(){let c;return null==(c=o.formAgresor.get("descripcionOrganizacionCriminal"))?null:c.setValue("")}),i.qZA(),i.TgZ(356,"label",52),i._uU(357," NO "),i.qZA()(),i.TgZ(358,"div",50),i._UZ(359,"input",80),i.TgZ(360,"label",54),i._uU(361," SI "),i.qZA()()()(),i.YNc(362,Gi,4,0,"div",47),i.qZA(),i.TgZ(363,"div",81)(364,"button",69),i.NdJ("click",function(){return o.cancelar()}),i._uU(365," Cancelar "),i.qZA(),i.TgZ(366,"button",70),i.NdJ("click",function(){return i.CHM(t),i.MAs(2).previous()}),i._uU(367," Anterior "),i.qZA(),i.TgZ(368,"button",70),i.NdJ("click",function(){return o.archivarDiligencias()}),i._uU(369," Archivar diligencias "),i.qZA(),i.TgZ(370,"button",70),i.NdJ("click",function(){return o.guardar("agresor")}),i._uU(371," Guardar "),i.qZA(),i.TgZ(372,"button",70),i.NdJ("click",function(){return o.cerrarActuaciones()}),i._uU(373," Cerrar actuaciones "),i.qZA()()()()()}if(2&e){const t=i.MAs(58),a=i.MAs(82),c=i.MAs(288);let l,d,m,h,b,C;i.xp6(1),i.Q6J("orientation",o.orientation),i.xp6(4),i.Q6J("formGroup",o.formVictima),i.xp6(9),i.Q6J("ngClass",i.VKq(82,v,o.isRequiredField(o.formVictima,"primerNombre"))),i.xp6(1),i.Q6J("ngClass",i.VKq(84,f,!o.isRequiredField(o.formVictima,"primerNombre"))),i.xp6(11),i.Q6J("ngClass",i.VKq(86,v,o.isRequiredField(o.formVictima,"primerApellido"))),i.xp6(1),i.Q6J("ngClass",i.VKq(88,f,!o.isRequiredField(o.formVictima,"primerApellido"))),i.xp6(14),i.Q6J("ngForOf",o.listaTipoDocumento),i.xp6(13),i.Q6J("matDatepicker",t)("max",o.dateMax)("min",o.dateMin),i.xp6(2),i.Q6J("for",t),i.xp6(3),i.Q6J("ngClass",i.VKq(90,f,!o.isRequiredField(o.formVictima,"fechaExpedicion"))),i.xp6(7),i.Q6J("ngClass",i.VKq(92,v,o.isRequiredField(o.formVictima,"lugarExpedicion"))),i.xp6(3),i.Q6J("ngForOf",o.listaLugarExpedicion),i.xp6(1),i.Q6J("ngClass",i.VKq(94,f,!o.isRequiredField(o.formVictima,"lugarExpedicion"))),i.xp6(8),i.Q6J("matDatepicker",a)("max",o.dateMax)("min",o.dateMin),i.xp6(2),i.Q6J("for",a),i.xp6(3),i.Q6J("ngClass",i.VKq(96,f,!o.isRequiredField(o.formVictima,"fechaNacimiento"))),i.xp6(7),i.Q6J("ngClass",i.VKq(98,v,o.isRequiredField(o.formVictima,"sexo"))),i.xp6(3),i.Q6J("ngForOf",o.listaSexo),i.xp6(1),i.Q6J("ngClass",i.VKq(100,f,!o.isRequiredField(o.formVictima,"sexo"))),i.xp6(7),i.Q6J("ngClass",i.VKq(102,v,o.isRequiredField(o.formVictima,"identidadGenero"))),i.xp6(3),i.Q6J("ngForOf",o.listaGenero),i.xp6(1),i.Q6J("ngClass",i.VKq(104,f,!o.isRequiredField(o.formVictima,"identidadGenero"))),i.xp6(7),i.Q6J("ngClass",i.VKq(106,v,o.isRequiredField(o.formVictima,"ocupacion"))),i.xp6(1),i.Q6J("ngClass",i.VKq(108,f,!o.isRequiredField(o.formVictima,"ocupacion"))),i.xp6(7),i.Q6J("ngClass",i.VKq(110,v,o.isRequiredField(o.formVictima,"idEscolaridad"))),i.xp6(3),i.Q6J("ngForOf",o.listaNivelAcademico),i.xp6(1),i.Q6J("ngClass",i.VKq(112,f,!o.isRequiredField(o.formVictima,"idEscolaridad"))),i.xp6(7),i.Q6J("ngClass",i.VKq(114,v,o.isRequiredField(o.formVictima,"relacionPareja"))),i.xp6(3),i.Q6J("ngForOf",o.listaEstadoCivil),i.xp6(1),i.Q6J("ngClass",i.VKq(116,f,!o.isRequiredField(o.formVictima,"relacionPareja"))),i.xp6(8),i.Q6J("ngIf",o.formHijosVictima.length),i.xp6(8),i.Q6J("ngForOf",o.listaCultura),i.xp6(1),i.Q6J("ngForOf",o.listaOtros),i.xp6(6),i.Q6J("ngClass",i.VKq(118,v,o.isRequiredField(o.formVictima,"relacionAgresor"))),i.xp6(3),i.Q6J("ngForOf",o.listaTipoRelacion),i.xp6(1),i.Q6J("ngForOf",o.listaOtros),i.xp6(1),i.Q6J("ngClass",i.VKq(120,f,!o.isRequiredField(o.formVictima,"relacionAgresor"))),i.xp6(2),i.Q6J("ngIf",o.listaOtros&&o.listaOtros[0]&&(null==(l=o.formVictima.get("relacionAgresor"))?null:l.value)==o.listaOtros[0].id_Dominio),i.xp6(8),i.Q6J("ngForOf",o.listaDiscapacidad),i.xp6(1),i.Q6J("ngForOf",o.listaOtros),i.xp6(1),i.Q6J("ngIf",o.listaOtros&&o.listaOtros[0]&&(null==(d=o.formVictima.get("idDiscapacidad"))?null:d.value)==o.listaOtros[0].id_Dominio),i.xp6(22),i.Q6J("ngIf","SI"==(null==(m=o.formVictima.get("embarazo"))?null:m.value)),i.xp6(5),i.Q6J("value",!1),i.xp6(4),i.Q6J("value",!0),i.xp6(7),i.Q6J("value",!1),i.xp6(4),i.Q6J("value",!0),i.xp6(3),i.Q6J("ngIf",null==(h=o.formVictima.get("seguridad"))?null:h.value),i.xp6(1),i.Q6J("ngIf",null==(b=o.formVictima.get("seguridad"))?null:b.value),i.xp6(10),i.Q6J("formGroup",o.formAgresor),i.xp6(9),i.Q6J("ngClass",i.VKq(122,v,o.isRequiredField(o.formAgresor,"primerNombre"))),i.xp6(1),i.Q6J("ngClass",i.VKq(124,f,!o.isRequiredField(o.formAgresor,"primerNombre"))),i.xp6(11),i.Q6J("ngClass",i.VKq(126,v,o.isRequiredField(o.formAgresor,"primerApellido"))),i.xp6(1),i.Q6J("ngClass",i.VKq(128,f,!o.isRequiredField(o.formAgresor,"primerApellido"))),i.xp6(11),i.Q6J("ngClass",i.VKq(130,v,o.isRequiredField(o.formAgresor,"tipoDocumento"))),i.xp6(3),i.Q6J("ngForOf",o.listaTipoDocumento),i.xp6(1),i.Q6J("ngClass",i.VKq(132,f,!o.isRequiredField(o.formAgresor,"tipoDocumento"))),i.xp6(7),i.Q6J("ngClass",i.VKq(134,v,o.isRequiredField(o.formAgresor,"numeroDocumento"))),i.xp6(1),i.Q6J("ngClass",i.VKq(136,f,!o.isRequiredField(o.formAgresor,"numeroDocumento"))),i.xp6(8),i.Q6J("matDatepicker",c)("max",o.dateMax)("min",o.dateMin),i.xp6(2),i.Q6J("for",c),i.xp6(3),i.Q6J("ngClass",i.VKq(138,f,!o.isRequiredField(o.formAgresor,"fechaExpedicion"))),i.xp6(7),i.Q6J("ngClass",i.VKq(140,v,o.isRequiredField(o.formAgresor,"lugarExpedicion"))),i.xp6(3),i.Q6J("ngForOf",o.listaLugarExpedicion),i.xp6(1),i.Q6J("ngClass",i.VKq(142,f,!o.isRequiredField(o.formAgresor,"lugarExpedicion"))),i.xp6(11),i.Q6J("ngClass",i.VKq(144,v,o.isRequiredField(o.formAgresor,"sexo"))),i.xp6(3),i.Q6J("ngForOf",o.listaSexo),i.xp6(1),i.Q6J("ngClass",i.VKq(146,f,!o.isRequiredField(o.formAgresor,"sexo"))),i.xp6(8),i.Q6J("ngForOf",o.listaGenero),i.xp6(1),i.Q6J("ngForOf",o.listaOtros),i.xp6(11),i.Q6J("ngForOf",o.listaNivelAcademico),i.xp6(5),i.Q6J("ngIf",o.formHijosAgresor.length),i.xp6(8),i.Q6J("ngForOf",o.listaCultura),i.xp6(1),i.Q6J("ngForOf",o.listaOtros),i.xp6(6),i.Q6J("value",!1),i.xp6(4),i.Q6J("value",!0),i.xp6(3),i.Q6J("ngIf",1==(null==(C=o.formAgresor.get("agresorOrganizacionCriminal"))?null:C.value))}},directives:[L.D,q.Vq,q.C0,q.VY,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,s.nD,g.mk,s.EJ,s.YN,s.Kr,g.sg,D.hl,D.nW,J.R9,D.Mq,s.qQ,s.wV,g.O5,_i,s._],styles:[".background[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px}.background-top[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px 10px 0 0}.background-bottom[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:0 0 10px 10px}  .mat-step-label.mat-step-label{text-overflow:inherit;white-space:normal}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none!important;margin:0!important}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield!important}div[_ngcontent-%COMP%]{animation-delay:1s}mat-stepper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;background-color:#f5f5f5;border:10px}  .mat-horizontal-content-container{padding:0!important;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}  .mat-horizontal-content-container * >{width:100%}  .mat-horizontal-stepper-content{width:100%;padding:5px}  .mat-horizontal-stepper-header{pointer-events:none!important}.form-control[_ngcontent-%COMP%]:not(:focus){box-shadow:none}"]}),n})();var F=p(72),Bi=p(6996),P=p(4464),$i=p(7531);function Ki(n,r){1&n&&(i.TgZ(0,"small",20),i._uU(1,"Campo requerido"),i.qZA())}function Xi(n,r){1&n&&(i.TgZ(0,"small",20),i._uU(1,"Campo requerido"),i.qZA())}function Wi(n,r){1&n&&(i.TgZ(0,"small",20),i._uU(1,"Campo requerido"),i.qZA())}const O=function(n){return{"border-danger":n}};let ie=(()=>{class n{constructor(e,o,t,a){this.modales=e,this.formBuilder=o,this.identificacionDelRiesgoService=t,this.datePipe=a,this.siguientePaso=new i.vpe,this.dateMax=new Date,this.dateMin=new Date((new Date).setDate((new Date).getDate()-3650)),this.tarea=JSON.parse(sessionStorage.getItem("info")),this.camposObligatorios=[],this.showOnSubmitIsRequired=!1,this.formDescripcionHechos=this.formBuilder.group({fecha:[null,[s.kI.required]],hora:[null,[s.kI.required]],descripcionHechos:["",[s.kI.required]],lugarHechos:["",[s.kI.required]]})}ngAfterViewInit(){this.getDescripcionHechos()}isRequiredField(e,o,t=!1){var a,c,l,d,m;t&&!this.camposObligatorios.includes(o)&&this.camposObligatorios.push(o);const h=null===(a=e.get(o))||void 0===a?void 0:a.dirty,b=x.B.findInvalidControls(e).includes(o),C="string"==typeof(null===(c=e.get(o))||void 0===c?void 0:c.value)&&""==(null===(l=e.get(o))||void 0===l?void 0:l.value);return t?h&&C:this.showOnSubmitIsRequired?!(null===(d=e.get(o))||void 0===d?void 0:d.valid)||C:!(!h||!b)&&(!(null===(m=e.get(o))||void 0===m?void 0:m.valid)||C)}getDescripcionHechos(){var e=this;return(0,_.Z)(function*(){var o,t,a,c;try{const l=yield(0,P.n)(e.identificacionDelRiesgoService.getDescripcionHechosPorSolicitud(e.tarea.idSolicitud));if(!l)return void e.modales.modalInformacion("No se encontraron los datosss.");if(200!=l.statusCode)return void e.modales.modalInformacion(l.message);if(!l.data)return void e.modales.modalInformacion(u.q4.MENSAJE_ERROR_G);null===(o=e.formDescripcionHechos.get("hora"))||void 0===o||o.setValue(e.datePipe.transform(new Date(l.data.fecha),"HH:mm")),null===(t=e.formDescripcionHechos.get("fecha"))||void 0===t||t.setValue(new Date(l.data.fecha)),null===(a=e.formDescripcionHechos.get("descripcionHechos"))||void 0===a||a.setValue(l.data.descripcionHechos),null===(c=e.formDescripcionHechos.get("lugarHechos"))||void 0===c||c.setValue(l.data.lugarHechos)}catch(l){e.modales.modalInformacion(u.q4.MENSAJE_ERROR_G)}})()}actualizarDescripcionHechos(){const e=this.formDescripcionHechos.value,o={descripcionHechos:e.descripcionHechos,fecha:this.datePipe.transform(e.fecha,"MM-dd-yyyy"),hora:e.hora,idSolicitudServicio:this.tarea.idSolicitud,lugarHechos:e.lugarHechos};return(0,P.n)(this.identificacionDelRiesgoService.actualizarDescripcionHechosPorSolicitud(o))}cancelar(){this.siguientePaso.emit("Cancelar")}archivarDiligencias(){this.modales.modalArchivarDiligencias(this.tarea,"/psicologia"),this.modales.modalInformacion("Por favor diligencie los campos requeridos")}guardar(){var e=this;return(0,_.Z)(function*(){e.isValidForm()?(e.showOnSubmitIsRequired=!1,yield e.actualizarDescripcionHechos().then(o=>{200==o.statusCode&&e.siguientePaso.emit("Siguiente")}).catch(()=>{e.modales.modalInformacion(u.q4.MENSAJE_ERROR_G)})):e.showOnSubmitIsRequired=!0})()}isValidForm(){let e;return e=x.B.findInvalidControls(this.formDescripcionHechos).concat((t=>{let a=[];return this.camposObligatorios.forEach(c=>{this.isRequiredField(t,c,!0)&&a.push(c)}),a})(this.formDescripcionHechos)),this.formDescripcionHechos.valid&&!e.length}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(A.B),i.Y36(s.qu),i.Y36(S._),i.Y36(g.uU))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-descripcion-hechos"]],outputs:{siguientePaso:"siguientePaso"},decls:39,vars:20,consts:[[1,"mt-5",3,"formGroup"],[1,"mb-5"],[1,"row"],[1,"form-group","col-lg-4","mb-4"],["for","fecha",1,"form-label"],[1,"mx-1"],[1,"input-group"],["matInput","","readonly","","placeholder","DD/MM/YYYY","id","fecha","formControlName","fecha",1,"form-control","form-control-date-Picker","sinborde-DatePicker",3,"matDatepicker","ngClass","max","min","click"],[1,"input-group-text","sinfondo-DatePicker"],["matSuffix","",3,"for"],["picker",""],[1,"form-label","text-capitalize"],["type","text","placeholder","Lugar","formControlName","lugarHechos","required","","maxlength","100",1,"form-control",3,"ngClass"],["class","form-text text-danger",4,"ngIf"],["type","time","placeholder","hh:mm a.m.","formControlName","hora","required","",1,"form-control",3,"ngClass"],[1,"form-group","col-lg-12","mt-4"],["type","text","placeholder","Descripci\xf3n de los hechos","formControlName","descripcionHechos","rows","5","required","","maxlength","10000",1,"form-control",3,"ngClass"],[1,"d-flex","align-items-center","justify-content-end","mt-5",2,"gap","1rem"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"form-text","text-danger"]],template:function(e,o){if(1&e){const t=i.EpF();i.TgZ(0,"form",0)(1,"h4",1),i._uU(2,"DESCRIPCI\xd3N DE LOS HECHOS"),i.qZA(),i.TgZ(3,"div",2)(4,"div",3)(5,"label",4),i._uU(6,"Fecha"),i.TgZ(7,"span",5),i._uU(8,"*"),i.qZA()(),i.TgZ(9,"div",6)(10,"input",7),i.NdJ("click",function(){return i.CHM(t),i.MAs(14).open()}),i.qZA(),i.TgZ(11,"span",8),i._UZ(12,"mat-datepicker-toggle",9)(13,"mat-datepicker",null,10),i.qZA()()(),i.TgZ(15,"div",3)(16,"label",11),i._uU(17,"lugar"),i.TgZ(18,"span",5),i._uU(19,"*"),i.qZA()(),i._UZ(20,"input",12),i.YNc(21,Ki,2,0,"small",13),i.qZA(),i.TgZ(22,"div",3)(23,"label",11),i._uU(24,"hora aproximada"),i.TgZ(25,"span",5),i._uU(26,"*"),i.qZA()(),i._UZ(27,"input",14),i.YNc(28,Xi,2,0,"small",13),i.qZA(),i.TgZ(29,"div",15)(30,"label",11),i._uU(31,"descripci\xf3n de los hechos"),i.qZA(),i._UZ(32,"textarea",16),i.YNc(33,Wi,2,0,"small",13),i.qZA()()(),i.TgZ(34,"div",17)(35,"button",18),i.NdJ("click",function(){return o.cancelar()}),i._uU(36," Cancelar "),i.qZA(),i.TgZ(37,"button",19),i.NdJ("click",function(){return o.guardar()}),i._uU(38," Siguiente "),i.qZA()()}if(2&e){const t=i.MAs(14);i.Q6J("formGroup",o.formDescripcionHechos),i.xp6(10),i.Q6J("matDatepicker",t)("ngClass",i.VKq(12,O,o.isRequiredField(o.formDescripcionHechos,"lugarHechos")))("max",o.dateMax)("min",o.dateMin),i.xp6(2),i.Q6J("for",t),i.xp6(8),i.Q6J("ngClass",i.VKq(14,O,o.isRequiredField(o.formDescripcionHechos,"lugarHechos"))),i.xp6(1),i.Q6J("ngIf",o.isRequiredField(o.formDescripcionHechos,"lugarHechos")),i.xp6(6),i.Q6J("ngClass",i.VKq(16,O,o.isRequiredField(o.formDescripcionHechos,"hora"))),i.xp6(1),i.Q6J("ngIf",o.isRequiredField(o.formDescripcionHechos,"hora")),i.xp6(4),i.Q6J("ngClass",i.VKq(18,O,o.isRequiredField(o.formDescripcionHechos,"descripcionHechos"))),i.xp6(1),i.Q6J("ngIf",o.isRequiredField(o.formDescripcionHechos,"descripcionHechos"))}},directives:[s._Y,s.JL,s.sg,$i.Nt,s.Fj,D.hl,s.JJ,s.u,g.mk,D.nW,J.R9,D.Mq,s.Q7,s.nD,g.O5],styles:[""]}),n})();const ee=function(n,r){return{"btn-outline-primary":n,"btn-primary":r}};function oe(n,r){if(1&n&&(i.TgZ(0,"button",11),i._uU(1),i.qZA()),2&n){const e=r.$implicit,o=i.oxw();i.Q6J("ngClass",i.WLB(2,ee,e.nombre!=o.tipoSeleccionado,e.nombre==o.tipoSeleccionado)),i.xp6(1),i.hij(" ",e.nombre," ")}}function te(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"input",22),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw().$implicit;return i.oxw().habilitarRadioMes(t,a.idTipoViolencia)}),i.qZA()}if(2&n){const e=i.oxw().$implicit;i.s9C("name",e.idQuestionario),i.MGl("id","no",e.idQuestionario,""),i.Q6J("value",!1)}}function ne(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"input",23),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw().$implicit;return i.oxw().habilitarRadioMes(t,a.idTipoViolencia)}),i.qZA()}if(2&n){const e=i.oxw().$implicit;i.s9C("name",e.idQuestionario),i.MGl("id","no",e.idQuestionario,""),i.Q6J("value",!1)}}function ae(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"input",24),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw().$implicit;return i.oxw().habilitarRadioMes(t,a.idTipoViolencia)}),i.qZA()}if(2&n){const e=i.oxw().$implicit;i.s9C("name",e.idQuestionario),i.MGl("id","si",e.idQuestionario,"")}}function re(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"input",25),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw().$implicit;return i.oxw().habilitarRadioMes(t,a.idTipoViolencia)}),i.qZA()}if(2&n){const e=i.oxw().$implicit;i.s9C("name",e.idQuestionario),i.MGl("id","si",e.idQuestionario,"")}}function se(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"div",28)(1,"label",13),i._uU(2,"\xbfHace cuanto?"),i.qZA(),i.TgZ(3,"div",14)(4,"div",29)(5,"input",30),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw(2).$implicit;return i.oxw().setMesListadoRespuestas(t,a.idQuestionario)}),i.qZA(),i.TgZ(6,"label",18),i._uU(7," Menos de 1 mes "),i.qZA()(),i.TgZ(8,"div",15)(9,"input",31),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw(2).$implicit;return i.oxw().setMesListadoRespuestas(t,a.idQuestionario)}),i.qZA(),i.TgZ(10,"label",18),i._uU(11," M\xe1s de 1 mes "),i.qZA()()()()}if(2&n){const e=i.oxw(2).$implicit;i.xp6(5),i.MGl("name","mes",e.idQuestionario,"")("id","mno",e.idQuestionario,""),i.s9C("checked",e.mesPrevio),i.Q6J("value",!0),i.xp6(1),i.MGl("for","mno",e.idQuestionario,""),i.xp6(3),i.MGl("id","msi",e.idQuestionario,"")("name","mes",e.idQuestionario,""),i.Q6J("value",!1),i.xp6(1),i.MGl("for","msi",e.idQuestionario,"")}}function ce(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"div",28)(1,"label",13),i._uU(2,"\xbfHace cuanto?"),i.qZA(),i.TgZ(3,"div",14)(4,"div",29)(5,"input",31),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw(2).$implicit;return i.oxw().setMesListadoRespuestas(t,a.idQuestionario)}),i.qZA(),i.TgZ(6,"label",18),i._uU(7," Menos de 1 mes "),i.qZA()(),i.TgZ(8,"div",15)(9,"input",32),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw(2).$implicit;return i.oxw().setMesListadoRespuestas(t,a.idQuestionario)}),i.qZA(),i.TgZ(10,"label",18),i._uU(11," M\xe1s de 1 mes "),i.qZA()()()()}if(2&n){const e=i.oxw(2).$implicit;i.xp6(5),i.MGl("id","mno",e.idQuestionario,"")("name","mes",e.idQuestionario,""),i.Q6J("value",!0),i.xp6(1),i.MGl("for","mno",e.idQuestionario,""),i.xp6(3),i.MGl("id","msi",e.idQuestionario,"")("name","mes",e.idQuestionario,""),i.s9C("checked",e.mesPrevio),i.Q6J("value",!1),i.xp6(1),i.MGl("for","msi",e.idQuestionario,"")}}function le(n,r){if(1&n&&(i.TgZ(0,"div",26),i.YNc(1,se,12,9,"div",27),i.YNc(2,ce,12,9,"div",27),i.qZA()),2&n){const e=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",e.mesPrevio),i.xp6(1),i.Q6J("ngIf",!e.mesPrevio)}}function ue(n,r){if(1&n&&(i.TgZ(0,"div",1)(1,"div",12)(2,"label",13),i._uU(3),i.qZA(),i.TgZ(4,"div",14)(5,"div",15),i.YNc(6,te,1,3,"input",16),i.YNc(7,ne,1,3,"input",17),i.TgZ(8,"label",18),i._uU(9," NO "),i.qZA()(),i.TgZ(10,"div",15),i.YNc(11,ae,1,2,"input",19),i.YNc(12,re,1,2,"input",20),i.TgZ(13,"label",18),i._uU(14," SI "),i.qZA()()()(),i.YNc(15,le,3,2,"div",21),i.qZA()),2&n){const e=r.$implicit;i.xp6(3),i.Oqu(e.descripcion),i.xp6(3),i.Q6J("ngIf",0===e.puntuacionPrevio||null===e.puntuacionPrevio),i.xp6(1),i.Q6J("ngIf",0!=e.puntuacionPrevio&&null!==e.puntuacionPrevio),i.xp6(1),i.MGl("for","no",e.idQuestionario,""),i.xp6(3),i.Q6J("ngIf",0===e.puntuacionPrevio||null===e.puntuacionPrevio),i.xp6(1),i.Q6J("ngIf",0!=e.puntuacionPrevio&&null!==e.puntuacionPrevio),i.xp6(1),i.MGl("for","si",e.idQuestionario,""),i.xp6(2),i.Q6J("ngIf",0!=e.puntuacionPrevio&&null!==e.puntuacionPrevio)}}let de=(()=>{class n{constructor(e){this.identificacionService=e,this.siguientePaso=new i.vpe,this.tipoSeleccionado="Psicol\xf3gica",this.tipos=[{id:2,nombre:"Psicol\xf3gica"},{id:5,nombre:"Econ\xf3mica"},{id:4,nombre:"Patrimonial"},{id:6,nombre:"Coerci\xf3n o Amenazas"},{id:1,nombre:"F\xedsica"},{id:3,nombre:"Sexual"}],this.currentIndex=0,this.listFormTipoViolencia=[],this.tarea=JSON.parse(sessionStorage.getItem("info"))}ngAfterContentInit(){this.getListFormTipoViolencia(2)}habilitarRadioMes(e,o){const t=e.target.name,a=Boolean(JSON.parse(e.target.value)),c=a?1:0;this.listFormTipoViolencia=this.listFormTipoViolencia.map(l=>l.idTipoViolencia==o&&l.idQuestionario==t?Object.assign(Object.assign({},l),{puntuacionPrevio:c,mesPrevio:a}):l),this.setListadoRespuestas(+t,a)}setListadoRespuestas(e,o){const t=this.dataPost.listadoRespuestas.findIndex(a=>a.idCuestionario==e);this.dataPost.listadoRespuestas[t]={idCuestionario:e,mes:o,puntuacion:o}}setMesListadoRespuestas(e,o){const t=Boolean(JSON.parse(e.target.value));this.dataPost.listadoRespuestas=this.dataPost.listadoRespuestas.map(a=>a.idCuestionario==o?Object.assign(Object.assign({},a),{mes:t}):a)}getListFormTipoViolencia(e){this.dataPost={idTarea:this.tarea.idTarea,idSolicitudServicio:this.tarea.idSolicitud,idTipoViolencia:e,listadoRespuestas:[]},this.identificacionService.getTipoViolencia(this.tarea.idSolicitud,e,this.tarea.idTarea).subscribe(o=>{o.statusCode===u.jh.OK&&(this.listFormTipoViolencia=o.data),this.setInitialDataPost()})}setInitialDataPost(){this.listFormTipoViolencia.forEach(e=>{this.dataPost.listadoRespuestas.push({idCuestionario:e.idQuestionario,mes:null!=e.mesPrevio&&e.mesPrevio,puntuacion:!(null==e.puntuacionPrevio||0==e.puntuacionPrevio)})})}tipoViolencia(e,o,t){this.getListFormTipoViolencia(o),this.tipoSeleccionado=e,this.currentIndex=t}siguiente(){this.identificacionService.postFormTipoViolencia(this.dataPost).subscribe(e=>{if(e.statusCode===u.jh.OK){if(this.currentIndex==this.tipos.length-1)return void this.siguientePaso.emit("Siguiente");this.tipoViolencia(this.tipos[this.currentIndex+1].nombre,this.tipos[this.currentIndex+1].id,this.currentIndex+1)}})}cancelar(){this.siguientePaso.emit("Cancelar")}anterior(){this.identificacionService.postFormTipoViolencia(this.dataPost).subscribe(e=>{if(e.statusCode===u.jh.OK){if(0==this.currentIndex)return void this.siguientePaso.emit("Anterior");this.tipoViolencia(this.tipos[this.currentIndex-1].nombre,this.tipos[this.currentIndex-1].id,this.currentIndex-1)}})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(S._))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-tipos-violencia"]],outputs:{siguientePaso:"siguientePaso"},decls:18,vars:5,consts:[[1,"my-3"],[1,"row"],[1,"mb-3"],[1,"col-12","mt-2","d-flex","flex-wrap",2,"gap","1rem"],["class","btn btn-outline-primary","style","pointer-events: none;",3,"ngClass",4,"ngFor","ngForOf"],[1,"fw-bold","text-secondary","text-uppercase","my-4"],["class","row",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-5","me-5"],[1,"btn","btn-outline-danger","me-3","px-5",3,"click"],[1,"btn","btn-primary","me-3","px-5",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"btn","btn-outline-primary",2,"pointer-events","none",3,"ngClass"],[1,"col-lg-7",2,"height","115px"],[1,"form-label"],[1,"pt-2"],[1,"form-check","form-check-inline"],["class","form-check-input","type","radio","checked","",3,"name","id","value","change",4,"ngIf"],["class","form-check-input","type","radio",3,"name","id","value","change",4,"ngIf"],[1,"form-check-label","form-label",3,"for"],["class","form-check-input","type","radio","value","true",3,"name","id","change",4,"ngIf"],["class","form-check-input","type","radio","checked","","value","true",3,"name","id","change",4,"ngIf"],["class","col-lg-5",4,"ngIf"],["type","radio","checked","",1,"form-check-input",3,"name","id","value","change"],["type","radio",1,"form-check-input",3,"name","id","value","change"],["type","radio","value","true",1,"form-check-input",3,"name","id","change"],["type","radio","checked","","value","true",1,"form-check-input",3,"name","id","change"],[1,"col-lg-5"],["class","col-lg-12",4,"ngIf"],[1,"col-lg-12"],[1,"form-check","form-check-inline","me-3"],["type","radio",1,"form-check-input",3,"name","id","checked","value","change"],["type","radio",1,"form-check-input",3,"id","name","value","change"],["type","radio",1,"form-check-input",3,"id","name","checked","value","change"]],template:function(e,o){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),i._uU(3,"TIPOS DE VIOLENCIA"),i.qZA(),i.TgZ(4,"div",3),i.YNc(5,oe,2,5,"button",4),i.qZA()()(),i.TgZ(6,"form")(7,"h5",5),i._uU(8),i.ALo(9,"uppercase"),i.qZA(),i.YNc(10,ue,16,8,"div",6),i.TgZ(11,"div",7)(12,"button",8),i.NdJ("click",function(){return o.cancelar()}),i._uU(13," Cancelar "),i.qZA(),i.TgZ(14,"button",9),i.NdJ("click",function(){return o.anterior()}),i._uU(15," Anterior "),i.qZA(),i.TgZ(16,"button",10),i.NdJ("click",function(){return o.siguiente()}),i._uU(17," Siguiente "),i.qZA()()()),2&e&&(i.xp6(5),i.Q6J("ngForOf",o.tipos),i.xp6(3),i.hij(" ",i.lcZ(9,3,o.tipoSeleccionado)," "),i.xp6(2),i.Q6J("ngForOf",o.listFormTipoViolencia))},directives:[g.sg,g.mk,s._Y,s.JL,s.F,g.O5],pipes:[g.gd],styles:[""]}),n})();function pe(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"input",15),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw().$implicit;return i.oxw().habilitarRadioMes(t,a.idTipoViolencia)}),i.qZA()}if(2&n){const e=i.oxw().$implicit;i.s9C("name",e.idQuestionario),i.MGl("id","no",e.idQuestionario,""),i.Q6J("value",!1)}}function me(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"input",16),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw().$implicit;return i.oxw().habilitarRadioMes(t,a.idTipoViolencia)}),i.qZA()}if(2&n){const e=i.oxw().$implicit;i.s9C("name",e.idQuestionario),i.MGl("id","no",e.idQuestionario,""),i.Q6J("value",!1)}}function ge(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"input",17),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw().$implicit;return i.oxw().habilitarRadioMes(t,a.idTipoViolencia)}),i.qZA()}if(2&n){const e=i.oxw().$implicit;i.s9C("name",e.idQuestionario),i.MGl("id","si",e.idQuestionario,"")}}function _e(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"input",18),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw().$implicit;return i.oxw().habilitarRadioMes(t,a.idTipoViolencia)}),i.qZA()}if(2&n){const e=i.oxw().$implicit;i.s9C("name",e.idQuestionario),i.MGl("id","si",e.idQuestionario,"")}}function fe(n,r){if(1&n&&(i.TgZ(0,"div",6)(1,"label",7),i._uU(2),i.qZA(),i.TgZ(3,"div",8)(4,"div",9),i.YNc(5,pe,1,3,"input",10),i.YNc(6,me,1,3,"input",11),i.TgZ(7,"label",12),i._uU(8," NO "),i.qZA()(),i.TgZ(9,"div",9),i.YNc(10,ge,1,2,"input",13),i.YNc(11,_e,1,2,"input",14),i.TgZ(12,"label",12),i._uU(13," SI "),i.qZA()()()()),2&n){const e=r.$implicit;i.xp6(2),i.Oqu(e.descripcion),i.xp6(3),i.Q6J("ngIf",0===e.puntuacionPrevio||null===e.puntuacionPrevio),i.xp6(1),i.Q6J("ngIf",0!=e.puntuacionPrevio&&null!==e.puntuacionPrevio),i.xp6(1),i.MGl("for","no",e.idQuestionario,""),i.xp6(3),i.Q6J("ngIf",0===e.puntuacionPrevio||null===e.puntuacionPrevio),i.xp6(1),i.Q6J("ngIf",0!=e.puntuacionPrevio&&null!==e.puntuacionPrevio),i.xp6(1),i.MGl("for","si",e.idQuestionario,"")}}let he=(()=>{class n{constructor(e){this.identificacionService=e,this.siguientePaso=new i.vpe,this.tipos=[{id:7,nombre:"CIRCUNSTANCIAS AGRAVANTES"}],this.currentIndex=0,this.listFormTipoViolencia=[],this.tarea=JSON.parse(sessionStorage.getItem("info"))}ngAfterViewInit(){this.getListFormTipoViolencia(7)}habilitarRadioMes(e,o){const t=e.target.name,a=Boolean(JSON.parse(e.target.value)),c=a?1:0;this.listFormTipoViolencia=this.listFormTipoViolencia.map(l=>l.idTipoViolencia==o&&l.idQuestionario==t?Object.assign(Object.assign({},l),{puntuacionPrevio:c,mesPrevio:a}):l),this.setListadoRespuestas(+t,a)}setListadoRespuestas(e,o){const t=this.dataPost.listadoRespuestas.findIndex(a=>a.idCuestionario==e);this.dataPost.listadoRespuestas[t]={idCuestionario:e,mes:o,puntuacion:o}}setMesListadoRespuestas(e,o){const t=Boolean(JSON.parse(e.target.value));this.dataPost.listadoRespuestas=this.dataPost.listadoRespuestas.map(a=>a.idCuestionario==o?Object.assign(Object.assign({},a),{mes:t}):a)}getListFormTipoViolencia(e){this.dataPost={idTarea:this.tarea.idTarea,idSolicitudServicio:this.tarea.idSolicitud,idTipoViolencia:e,listadoRespuestas:[]},this.identificacionService.getTipoViolencia(this.tarea.idSolicitud,e,this.tarea.idTarea).subscribe(o=>{o.statusCode===u.jh.OK&&(this.listFormTipoViolencia=o.data),this.setInitialDataPost()})}setInitialDataPost(){this.listFormTipoViolencia.forEach(e=>{this.dataPost.listadoRespuestas.push({idCuestionario:e.idQuestionario,mes:null!=e.mesPrevio&&e.mesPrevio,puntuacion:!(null==e.puntuacionPrevio||0==e.puntuacionPrevio)})})}tipoViolencia(e,o,t){this.getListFormTipoViolencia(o),this.currentIndex=t}siguiente(){this.identificacionService.postFormTipoViolencia(this.dataPost).subscribe(e=>{if(e.statusCode===u.jh.OK){if(this.currentIndex==this.tipos.length-1)return void this.siguientePaso.emit("Siguiente");this.tipoViolencia(this.tipos[this.currentIndex+1].nombre,this.tipos[this.currentIndex+1].id,this.currentIndex+1)}})}cancelar(){this.siguientePaso.emit("Cancelar")}anterior(){this.identificacionService.postFormTipoViolencia(this.dataPost).subscribe(e=>{e.statusCode!==u.jh.OK||0!=this.currentIndex||this.siguientePaso.emit("Anterior")})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(S._))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-circunstancias-agravantes"]],outputs:{siguientePaso:"siguientePaso"},decls:11,vars:1,consts:[[1,"mb-4"],["class","row","style","height: 115px",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-5","me-5"],[1,"btn","btn-outline-danger","me-3","px-5",3,"click"],[1,"btn","btn-primary","me-3","px-5",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"row",2,"height","115px"],[1,"form-label"],[1,"pt-2"],[1,"form-check","form-check-inline"],["class","form-check-input","type","radio","checked","",3,"name","id","value","change",4,"ngIf"],["class","form-check-input","type","radio",3,"name","id","value","change",4,"ngIf"],[1,"form-check-label","form-label",3,"for"],["class","form-check-input","type","radio","value","true",3,"name","id","change",4,"ngIf"],["class","form-check-input","type","radio","checked","","value","true",3,"name","id","change",4,"ngIf"],["type","radio","checked","",1,"form-check-input",3,"name","id","value","change"],["type","radio",1,"form-check-input",3,"name","id","value","change"],["type","radio","value","true",1,"form-check-input",3,"name","id","change"],["type","radio","checked","","value","true",1,"form-check-input",3,"name","id","change"]],template:function(e,o){1&e&&(i.TgZ(0,"form")(1,"h4",0),i._uU(2,"CIRCUNSTANCIAS AGRAVANTES"),i.qZA(),i.YNc(3,fe,14,7,"div",1),i.TgZ(4,"div",2)(5,"button",3),i.NdJ("click",function(){return o.cancelar()}),i._uU(6," Cancelar "),i.qZA(),i.TgZ(7,"button",4),i.NdJ("click",function(){return o.anterior()}),i._uU(8," Anterior "),i.qZA(),i.TgZ(9,"button",5),i.NdJ("click",function(){return o.siguiente()}),i._uU(10," Siguiente "),i.qZA()()()),2&e&&(i.xp6(3),i.Q6J("ngForOf",o.listFormTipoViolencia))},directives:[s._Y,s.JL,s.F,g.sg,g.O5],styles:[""]}),n})();function ve(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"input",15),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw().$implicit;return i.oxw().habilitarRadioMes(t,a.idTipoViolencia)}),i.qZA()}if(2&n){const e=i.oxw().$implicit;i.s9C("name",e.idQuestionario),i.MGl("id","no",e.idQuestionario,""),i.Q6J("value",!1)}}function be(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"input",16),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw().$implicit;return i.oxw().habilitarRadioMes(t,a.idTipoViolencia)}),i.qZA()}if(2&n){const e=i.oxw().$implicit;i.s9C("name",e.idQuestionario),i.MGl("id","no",e.idQuestionario,""),i.Q6J("value",!1)}}function Ce(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"input",17),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw().$implicit;return i.oxw().habilitarRadioMes(t,a.idTipoViolencia)}),i.qZA()}if(2&n){const e=i.oxw().$implicit;i.s9C("name",e.idQuestionario),i.MGl("id","si",e.idQuestionario,"")}}function Ae(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"input",18),i.NdJ("change",function(t){i.CHM(e);const a=i.oxw().$implicit;return i.oxw().habilitarRadioMes(t,a.idTipoViolencia)}),i.qZA()}if(2&n){const e=i.oxw().$implicit;i.s9C("name",e.idQuestionario),i.MGl("id","si",e.idQuestionario,"")}}function Ze(n,r){if(1&n&&(i.TgZ(0,"div",6)(1,"label",7),i._uU(2),i.qZA(),i.TgZ(3,"div",8)(4,"div",9),i.YNc(5,ve,1,3,"input",10),i.YNc(6,be,1,3,"input",11),i.TgZ(7,"label",12),i._uU(8," NO "),i.qZA()(),i.TgZ(9,"div",9),i.YNc(10,Ce,1,2,"input",13),i.YNc(11,Ae,1,2,"input",14),i.TgZ(12,"label",12),i._uU(13," SI "),i.qZA()()()()),2&n){const e=r.$implicit;i.xp6(2),i.Oqu(e.descripcion),i.xp6(3),i.Q6J("ngIf",0===e.puntuacionPrevio||null===e.puntuacionPrevio),i.xp6(1),i.Q6J("ngIf",0!=e.puntuacionPrevio&&null!==e.puntuacionPrevio),i.xp6(1),i.MGl("for","no",e.idQuestionario,""),i.xp6(3),i.Q6J("ngIf",0===e.puntuacionPrevio||null===e.puntuacionPrevio),i.xp6(1),i.Q6J("ngIf",0!=e.puntuacionPrevio&&null!==e.puntuacionPrevio),i.xp6(1),i.MGl("for","si",e.idQuestionario,"")}}let Te=(()=>{class n{constructor(e){this.identificacionService=e,this.siguientePaso=new i.vpe,this.tipos=[{id:8,nombre:"PERCEPCI\xd3N DE LA V\xcdCTIMA FRENTE AL RRIEGO DE LA VIOLENCIA"}],this.currentIndex=0,this.listFormTipoViolencia=[],this.tarea=JSON.parse(sessionStorage.getItem("info"))}ngAfterViewInit(){this.getListFormTipoViolencia(8)}habilitarRadioMes(e,o){const t=e.target.name,a=Boolean(JSON.parse(e.target.value)),c=a?1:0;this.listFormTipoViolencia=this.listFormTipoViolencia.map(l=>l.idTipoViolencia==o&&l.idQuestionario==t?Object.assign(Object.assign({},l),{puntuacionPrevio:c,mesPrevio:a}):l),this.setListadoRespuestas(+t,a)}setListadoRespuestas(e,o){const t=this.dataPost.listadoRespuestas.findIndex(a=>a.idCuestionario==e);this.dataPost.listadoRespuestas[t]={idCuestionario:e,mes:o,puntuacion:o}}setMesListadoRespuestas(e,o){const t=Boolean(JSON.parse(e.target.value));this.dataPost.listadoRespuestas=this.dataPost.listadoRespuestas.map(a=>a.idCuestionario==o?Object.assign(Object.assign({},a),{mes:t}):a)}getListFormTipoViolencia(e){this.dataPost={idTarea:this.tarea.idTarea,idSolicitudServicio:this.tarea.idSolicitud,idTipoViolencia:e,listadoRespuestas:[]},this.identificacionService.getTipoViolencia(this.tarea.idSolicitud,e,this.tarea.idTarea).subscribe(o=>{o.statusCode===u.jh.OK&&(this.listFormTipoViolencia=o.data),this.setInitialDataPost()})}setInitialDataPost(){this.listFormTipoViolencia.forEach(e=>{this.dataPost.listadoRespuestas.push({idCuestionario:e.idQuestionario,mes:null!=e.mesPrevio&&e.mesPrevio,puntuacion:!(null==e.puntuacionPrevio||0==e.puntuacionPrevio)})})}tipoViolencia(e,o,t){this.getListFormTipoViolencia(o),this.currentIndex=t}siguiente(){this.identificacionService.postFormTipoViolencia(this.dataPost).subscribe(e=>{if(e.statusCode===u.jh.OK){if(this.currentIndex==this.tipos.length-1)return void this.siguientePaso.emit("Siguiente");this.tipoViolencia(this.tipos[this.currentIndex+1].nombre,this.tipos[this.currentIndex+1].id,this.currentIndex+1)}})}cancelar(){this.siguientePaso.emit("Cancelar")}anterior(){this.identificacionService.postFormTipoViolencia(this.dataPost).subscribe(e=>{e.statusCode!==u.jh.OK||0!=this.currentIndex||this.siguientePaso.emit("Anterior")})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(S._))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-percepcion-victima"]],outputs:{siguientePaso:"siguientePaso"},decls:11,vars:1,consts:[[1,"mb-4"],["class","row","style","height: 115px",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-5","me-5"],[1,"btn","btn-outline-danger","me-3","px-5",3,"click"],[1,"btn","btn-primary","me-3","px-5",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"row",2,"height","115px"],[1,"form-label"],[1,"pt-2"],[1,"form-check","form-check-inline"],["class","form-check-input","type","radio","checked","",3,"name","id","value","change",4,"ngIf"],["class","form-check-input","type","radio",3,"name","id","value","change",4,"ngIf"],[1,"form-check-label","form-label",3,"for"],["class","form-check-input","type","radio","value","true",3,"name","id","change",4,"ngIf"],["class","form-check-input","type","radio","checked","","value","true",3,"name","id","change",4,"ngIf"],["type","radio","checked","",1,"form-check-input",3,"name","id","value","change"],["type","radio",1,"form-check-input",3,"name","id","value","change"],["type","radio","value","true",1,"form-check-input",3,"name","id","change"],["type","radio","checked","","value","true",1,"form-check-input",3,"name","id","change"]],template:function(e,o){1&e&&(i.TgZ(0,"form")(1,"h4",0),i._uU(2,"PERCEPCI\xd3N DE LA V\xcdCTIMA FRENTE AL RIESGO DE LA VIOLENCIA"),i.qZA(),i.YNc(3,Ze,14,7,"div",1),i.TgZ(4,"div",2)(5,"button",3),i.NdJ("click",function(){return o.cancelar()}),i._uU(6," Cancelar "),i.qZA(),i.TgZ(7,"button",4),i.NdJ("click",function(){return o.anterior()}),i._uU(8," Anterior "),i.qZA(),i.TgZ(9,"button",5),i.NdJ("click",function(){return o.siguiente()}),i._uU(10," Siguiente "),i.qZA()()()),2&e&&(i.xp6(3),i.Q6J("ngForOf",o.listFormTipoViolencia))},directives:[s._Y,s.JL,s.F,g.sg,g.O5],styles:[""]}),n})();var V=p(1763);const w=function(n){return{active:n}},xe=function(n){return{"border-danger":n}},qe=function(n){return{"opacity-0":n}};let De=(()=>{class n{constructor(e,o,t,a){this.formBuilder=e,this.identificacionService=o,this.modales=t,this.sharedService=a,this.siguientePaso=new i.vpe,this.siguienteTab=new i.vpe,this.imprimirPDFCompleto=new i.vpe,this.tipoPdf=u.H6.IDENTIFICACION_RIESGO,this.tarea=JSON.parse(sessionStorage.getItem("info")),this.showIsRequiredOnSubmit=!1,this.form=this.formBuilder.group({recomendaciones:["",[s.kI.required]],file:[null,[s.kI.required]]})}ngOnChanges(e){}ngAfterViewInit(){this.cargarRespuestas(),this.obtenerArchivoCargado()}isRequiredField(e,o){var t,a,c,l,d;const m=null===(t=e.get(o))||void 0===t?void 0:t.dirty,h=x.B.findInvalidControls(e).includes(o),b="string"==typeof(null===(a=e.get(o))||void 0===a?void 0:a.value)&&""==(null===(c=e.get(o))||void 0===c?void 0:c.value);return this.showIsRequiredOnSubmit?!(null===(l=e.get(o))||void 0===l?void 0:l.valid)||b:!(!m||!h)&&(!(null===(d=e.get(o))||void 0===d?void 0:d.valid)||b)}cargarRespuestas(){this.identificacionService.getEvaluacionRiegos(this.tarea.idSolicitud).subscribe(e=>{var o;e&&e.data&&(this.valoracion=e.data,null===(o=this.form.get("recomendaciones"))||void 0===o||o.setValue(this.valoracion.descripcion))})}anterior(){this.postRegistrarRecomendaciones("Anterior")}guardar(){this.postRegistrarRecomendaciones("Guardar")}cancelar(){this.siguientePaso.emit("Cancelar")}postRegistrarRecomendaciones(e){var o,t;"Anterior"!=e||(null===(o=this.form.get("recomendaciones"))||void 0===o?void 0:o.value)?this.identificacionService.postRegistrarRecomendaciones({idSolicitudServicio:this.tarea.idSolicitud,decripcion:null===(t=this.form.get("recomendaciones"))||void 0===t?void 0:t.value}).subscribe(a=>{a&&200==a.statusCode&&this.modales.modalExito("Informaci\xf3n guardada exitosamente").subscribe(()=>{"Siguiente"==e?this.siguienteTab.emit(e):"Anterior"==e&&this.siguientePaso.emit("Anterior")})}):this.siguientePaso.emit("Anterior")}cargarArchivo(e){var o=this;e&&this.sharedService.guardarArchivo({idSolicitudServicio:this.tarea.idSolicitud,entrada:e,nombrearchivo:null,tipoDocumento:u.n7.IDENTIFICACION_DEL_RIESGO}).subscribe(function(){var t=(0,_.Z)(function*(a){a&&200==a.statusCode&&(yield o.obtenerArchivoCargado(),o.modales.modalExito("Archivo cargado exitosamente"))});return function(a){return t.apply(this,arguments)}}())}obtenerArchivoCargado(){var e=this;return(0,_.Z)(function*(){var o;const t=yield(0,P.n)(e.sharedService.ConsultarArchivos(e.tarea.idSolicitud,u.n7.IDENTIFICACION_DEL_RIESGO));t&&200==t.statusCode&&t.data&&t.data[0]&&(e.file={idSolicitud:e.tarea.idSolicitud,idArchivo:t.data[0].idSolicitudDocumento,nombreArchivo:t.data[0].nombreDocumento},null===(o=e.form.get("file"))||void 0===o||o.setValue(!0))})()}archivarDiligencias(){this.modales.modalArchivarDiligencias(this.tarea,"/psicologia")}imprimirCompleto(){this.tarea&&this.tarea.idSolicitud?this.imprimirPDFCompleto.emit():this.modales.modalInformacion("Para imprimir el documento completo debes completar todos los pasos de identificacion del riesgo primero.")}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(s.qu),i.Y36(S._),i.Y36(A.B),i.Y36(R.F))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-valoracion"]],outputs:{siguientePaso:"siguientePaso",siguienteTab:"siguienteTab",imprimirPDFCompleto:"imprimirPDFCompleto"},features:[i.TTD],decls:50,vars:19,consts:[[3,"formGroup"],[1,"mb-5"],[1,"d-flex","align-items-center","flex-wrap",2,"gap","2rem"],[1,"p-2","pe-3","ps-3","bg-white","shadow","rounded-3","h3",2,"color","#004884"],[1,"mt-5","mb-5"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","flex-lg-nowrap",2,"gap","1rem"],[1,"border-alert","success","p-2",3,"ngClass"],[1,"alert","alert-success","text-center","p-2"],[1,"m-0"],[1,"border-alert","warning","p-2",3,"ngClass"],[1,"alert","alert-warning","text-center","p-2"],[1,"border-alert","danger","p-2",3,"ngClass"],[1,"alert","alert-danger","text-center","p-2"],[1,"form-group","w-100","mt-4"],[1,"form-label","text-capitalize"],["type","text","placeholder","Recomendaciones","rows","5","required","required","formControlName","recomendaciones","maxlength","5000",1,"form-control",3,"ngClass"],[1,"form-text","text-danger",3,"ngClass"],[1,"d-flex","align-items-center","mt-3","text-nowrap","flex-wrap","flex-lg-nowrap",2,"gap","1rem"],["type","button",1,"btn","btn-warning",3,"click"],[3,"archivoCargado","baseArchivo"],[1,"d-flex","justify-content-end","mt-5","me-5","flex-wrap","flex-lg-nowrap","text-nowrap",2,"gap","1rem"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,o){1&e&&(i.TgZ(0,"form",0)(1,"h3",1),i._uU(2,"VALORACI\xd3N"),i.qZA(),i.TgZ(3,"div",2)(4,"strong"),i._uU(5,"PUNTAJE FINAL VALORACI\xd3N"),i.qZA(),i.TgZ(6,"span",3),i._uU(7),i.qZA()(),i.TgZ(8,"p",4),i._uU(9," Recuerde que el riesgo se entiende como un peligro que puede suceder con cierta probabilidad en el futuro y del que no se pueden controlar sus causas de manera absoluta. Para efectos de las decisiones a tomar por parte del comisario/a se considera: "),i.qZA(),i.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"h4",8),i._uU(14,"Riesgo Bajo"),i.qZA(),i.TgZ(15,"p",8),i._uU(16,"Puntuaci\xf3n menor o igual a 15pts"),i.qZA()()(),i.TgZ(17,"div",9)(18,"div",10)(19,"h4",8),i._uU(20,"Riesgo Medio"),i.qZA(),i.TgZ(21,"p",8),i._uU(22,"Puntuaci\xf3n entre 20 y 40pts"),i.qZA()()(),i.TgZ(23,"div",11)(24,"div",12)(25,"h4",8),i._uU(26,"Riesgo Alto"),i.qZA(),i.TgZ(27,"p",8),i._uU(28,"Puntuaci\xf3n mayor a 40pts"),i.qZA()()()(),i.TgZ(29,"div",13)(30,"label",14),i._uU(31,"Recomendaciones*"),i.qZA(),i._UZ(32,"textarea",15),i.TgZ(33,"small",16),i._uU(34,"Campo requerido"),i.qZA()(),i.TgZ(35,"div",17)(36,"button",18),i.NdJ("click",function(){return o.imprimirCompleto()}),i._uU(37," Imprimir formato completo "),i.qZA(),i.TgZ(38,"app-carga-archivo",19),i.NdJ("baseArchivo",function(a){return o.cargarArchivo(a)}),i.qZA()(),i.TgZ(39,"div",20)(40,"button",21),i.NdJ("click",function(){return o.cancelar()}),i._uU(41," Cancelar "),i.qZA(),i.TgZ(42,"button",22),i.NdJ("click",function(){return o.anterior()}),i._uU(43," Anterior "),i.qZA(),i.TgZ(44,"button",22),i.NdJ("click",function(){return o.archivarDiligencias()}),i._uU(45," Archivar diligencias "),i.qZA(),i.TgZ(46,"button",22),i.NdJ("click",function(){return o.guardar()}),i._uU(47," Guardar "),i.qZA(),i.TgZ(48,"button",23),i.NdJ("click",function(){return o.postRegistrarRecomendaciones("Siguiente")}),i._uU(49," Finalizar "),i.qZA()()()),2&e&&(i.Q6J("formGroup",o.form),i.xp6(7),i.hij(" ",o.valoracion&&o.valoracion.puntuacion?o.valoracion.puntuacion:0," "),i.xp6(4),i.Q6J("ngClass",i.VKq(9,w,o.valoracion&&o.valoracion.indicadorRiesgo.toLowerCase().includes("bajo"))),i.xp6(6),i.Q6J("ngClass",i.VKq(11,w,o.valoracion&&o.valoracion.indicadorRiesgo.toLowerCase().includes("medio"))),i.xp6(6),i.Q6J("ngClass",i.VKq(13,w,o.valoracion&&o.valoracion.indicadorRiesgo.toLowerCase().includes("alto"))),i.xp6(9),i.Q6J("ngClass",i.VKq(15,xe,o.isRequiredField(o.form,"recomendaciones"))),i.xp6(1),i.Q6J("ngClass",i.VKq(17,qe,!o.isRequiredField(o.form,"recomendaciones"))),i.xp6(5),i.Q6J("archivoCargado",o.file),i.xp6(10),i.Q6J("disabled",!o.form.valid))},directives:[s._Y,s.JL,s.sg,g.mk,s.Fj,s.Q7,s.JJ,s.u,s.nD,V.k],styles:[".border-alert[_ngcontent-%COMP%]{border-radius:10px}.border-alert[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{box-shadow:0 3px 6px #00000029;border-radius:10px;opacity:.57;margin:0;width:265px;height:85px}.border-alert[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#212529;font-size:25px}.border-alert[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#212529;font-size:14px}.border-alert[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background-color:#74c686;border:4px solid #11b43d}.border-alert[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]{background-color:#e97b86;border:4px solid #ec0f25}.border-alert[_ngcontent-%COMP%]   .alert.alert-warning[_ngcontent-%COMP%]{background-color:#ffd75e;border:4px solid #ffc107}.border-alert.active[_ngcontent-%COMP%]{opacity:1}.border-alert.active.success[_ngcontent-%COMP%]{border:4px solid #11b43d}.border-alert.active.danger[_ngcontent-%COMP%]{border:4px solid #ec0f25}.border-alert.active.warning[_ngcontent-%COMP%]{border:4px solid #ffc107}mat-icon.description[_ngcontent-%COMP%]{color:#004884;font-size:40px;width:40px;height:40px}.file[_ngcontent-%COMP%]{width:380px}"]}),n})();const Ie=["stepper"];function Ee(n,r){1&n&&i._uU(0," Descripci\xf3n de los hechos ")}function Se(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"app-descripcion-hechos",9),i.NdJ("siguientePaso",function(t){return i.CHM(e),i.oxw().cambiarPasoIdentificacionDelRiesgo(t)}),i.qZA()}}function Ne(n,r){1&n&&i._uU(0," Tipos de violencia ")}function Pe(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"app-tipos-violencia",9),i.NdJ("siguientePaso",function(t){return i.CHM(e),i.oxw().cambiarPasoIdentificacionDelRiesgo(t)}),i.qZA()}}function ye(n,r){1&n&&i._uU(0," Circunstancias agravantes ")}function Re(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"app-circunstancias-agravantes",9),i.NdJ("siguientePaso",function(t){return i.CHM(e),i.oxw().cambiarPasoIdentificacionDelRiesgo(t)}),i.qZA()}}function Oe(n,r){1&n&&i._uU(0," Percepci\xf3n de la v\xedctima ")}function Ue(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"app-percepcion-victima",9),i.NdJ("siguientePaso",function(t){return i.CHM(e),i.oxw().cambiarPasoIdentificacionDelRiesgo(t)}),i.qZA()}}function Je(n,r){1&n&&i._uU(0," Valoraci\xf3n ")}function ke(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"app-valoracion",10),i.NdJ("imprimirPDFCompleto",function(){return i.CHM(e),i.oxw().imprimirPDFCompleto()})("siguientePaso",function(t){return i.CHM(e),i.oxw().cambiarPasoIdentificacionDelRiesgo(t)})("siguienteTab",function(t){return i.CHM(e),i.oxw().cambiarTab(t)}),i.qZA()}}let Fe=(()=>{class n{constructor(e,o,t){this.modales=e,this.title=o,this.spinner=t,this.siguienteTab=new i.vpe,this.orientation="horizontal",this.tipoPdf=u.H6.IDENTIFICACION_RIESGO,this.tarea=JSON.parse(sessionStorage.getItem("info")),this.idSolicitudInput=0,this.mostrarHtml=!1,this.filasHijos=0,this.temp=0,this.title.setTitle("SICOFA - Identificaci\xf3n riesgo - Identificaci\xf3n del riesgo"),this.orientation=window.screen.width<=768?"vertical":"horizontal"}cambiarPasoIdentificacionDelRiesgo(e){switch(e){case"Anterior":this.stepper.previous();break;case"Siguiente":this.stepper.next();break;case"Cancelar":this.modales.modalCancelar("/psicologia")}}cambiarTab(e){this.siguienteTab.emit(e)}getFilasHijos(e){this.filasHijos=e}imprimirPDFVacio(){this.mostrarHtml=!0,this.idSolicitudInput=0,this.temp=Date.now()}imprimirPDFCompleto(){this.mostrarHtml=!0,this.idSolicitudInput=this.tarea.idSolicitud,this.temp=Date.now()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(A.B),i.Y36(N.Dx),i.Y36(F.t2))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-identificacion-del-riesgo"]],viewQuery:function(e,o){if(1&e&&i.Gf(Ie,5),2&e){let t;i.iGM(t=i.CRH())&&(o.stepper=t.first)}},outputs:{siguienteTab:"siguienteTab"},decls:23,vars:8,consts:[[1,"background","p-5"],[1,"text-blue",2,"font-weight","bold","font-size","20px","max-width","929px"],[3,"temp","idSolicitud","filasHijos"],["type","button",1,"btn","btn-primary",3,"click"],["labelPosition","bottom","linear","",1,"mt-4",3,"orientation"],["stepper",""],["matStepLabel",""],[3,"siguientePaso",4,"ngIf"],[3,"imprimirPDFCompleto","siguientePaso","siguienteTab",4,"ngIf"],[3,"siguientePaso"],[3,"imprimirPDFCompleto","siguientePaso","siguienteTab"]],template:function(e,o){if(1&e&&(i.TgZ(0,"section",0)(1,"div",1),i._uU(2," INSTRUMENTO DE VALORACI\xd3N DEL RIESGO PARA LA VIDA Y LA INTEGRIDAD PERSONAL POR VIOLENCIA DE G\xc9NERO AL INTERIOR DE LA FAMILIA. "),i.qZA(),i.TgZ(3,"app-instrumento-riesgo-pdf",2),i.NdJ("filasHijos",function(a){return o.idSolicitudInput>0?o.getFilasHijos(a):""}),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return o.imprimirPDFVacio()}),i._uU(5," Imprimir formato vac\xedo "),i.qZA(),i.TgZ(6,"mat-stepper",4,5)(8,"mat-step"),i.YNc(9,Ee,1,0,"ng-template",6),i.YNc(10,Se,1,0,"app-descripcion-hechos",7),i.qZA(),i.TgZ(11,"mat-step"),i.YNc(12,Ne,1,0,"ng-template",6),i.YNc(13,Pe,1,0,"app-tipos-violencia",7),i.qZA(),i.TgZ(14,"mat-step"),i.YNc(15,ye,1,0,"ng-template",6),i.YNc(16,Re,1,0,"app-circunstancias-agravantes",7),i.qZA(),i.TgZ(17,"mat-step"),i.YNc(18,Oe,1,0,"ng-template",6),i.YNc(19,Ue,1,0,"app-percepcion-victima",7),i.qZA(),i.TgZ(20,"mat-step"),i.YNc(21,Je,1,0,"ng-template",6),i.YNc(22,ke,1,0,"app-valoracion",8),i.qZA()()()),2&e){const t=i.MAs(7);i.xp6(3),i.Q6J("temp",o.temp)("idSolicitud",o.idSolicitudInput>0?o.idSolicitudInput:0),i.xp6(3),i.Q6J("orientation",o.orientation),i.xp6(4),i.Q6J("ngIf",0==t.selectedIndex),i.xp6(3),i.Q6J("ngIf",1==t.selectedIndex),i.xp6(3),i.Q6J("ngIf",2==t.selectedIndex),i.xp6(3),i.Q6J("ngIf",3==t.selectedIndex),i.xp6(3),i.Q6J("ngIf",4==t.selectedIndex)}},directives:[Bi.z,q.Vq,q.C0,q.VY,g.O5,ie,de,he,Te,De],styles:[".background[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px}.background-top[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px 10px 0 0}.background-bottom[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:0 0 10px 10px}  .mat-step-label.mat-step-label{text-overflow:inherit;white-space:normal}div[_ngcontent-%COMP%]{animation-delay:1s}mat-stepper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;background-color:#f5f5f5;border:10px}  .mat-horizontal-content-container{padding:0!important;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}  .mat-horizontal-content-container * >{width:100%}  .mat-horizontal-stepper-content{width:100%}  .mat-horizontal-stepper-header{pointer-events:none!important}"]}),n})();var Ve=p(5502),Z=p(5698),we=p(520);let I=(()=>{class n{constructor(e){this.http=e,this.api=u.n6}getSeguridad(e){return this.http.get(`${this.api}/EvaluacionPsicologica/EvaluacionOrientacion/${e}/Seguridad`).pipe((0,Z.q)(1))}getRedesApoyo(e){return this.http.get(`${this.api}/EvaluacionPsicologica/EvaluacionOrientacion/${e}/Red_apoyo_externo`).pipe((0,Z.q)(1))}postGuardarRespuestasEntrevista(e){return this.http.post(`${this.api}/EvaluacionPsicologica/EvaluacionOrientacion`,e).pipe((0,Z.q)(1))}getRedesApoyoChecks(e){return this.http.get(`${this.api}/EvaluacionPsicologica/EvaluacionOrientacion/${e}/${u.R8.Red_apoyo}`).pipe((0,Z.q)(1))}getPersistenciaChecks(e){return this.http.get(`${this.api}/EvaluacionPsicologica/EvaluacionOrientacion/${e}/${u.R8.Persistencia}`).pipe((0,Z.q)(1))}getTipoRedApoyoChecks(e){return this.http.get(`${this.api}/EvaluacionPsicologica/EvaluacionOrientacion/${e}/${u.R8.Tipo_red_apoyo}`).pipe((0,Z.q)(1))}getDescripciones(e,o){return this.http.get(`${this.api}/EvaluacionPsicologica/ObtenerEvaluacionPsicologicaEmocional/${e}/${o}`).pipe((0,Z.q)(1))}actualizarEvaluacionPsicologica(e){return this.http.post(`${this.api}/EvaluacionPsicologica/ActualizarEvaluacionPsicologica`,e).pipe((0,Z.q)(1))}actualizarDatosIdentificacion(e){return this.http.post(`${this.api}/EvaluacionPsicologica/ActualizaEvaluacionPsicologicaEntrevista`,e).pipe((0,Z.q)(1))}getDatosIdentificacion(e){return this.http.get(`${this.api}/EvaluacionPsicologica/ObtenerVictimaPrincipal/${e}`).pipe((0,Z.q)(1))}getEvaluacionPsicologicaEntrevista(e){return this.http.get(`${this.api}/EvaluacionPsicologica/ObtenerEvaluacionPsicologicaEntrevista/${e}`).pipe((0,Z.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(i.LFG(we.eN))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M=function(n){return{"opacity-0":n}},B=function(n){return{"border-danger":n}};let Me=(()=>{class n{constructor(e,o,t,a){this.modales=e,this.formBuilder=o,this.entrevistaServices=t,this.datePipe=a,this.siguientePaso=new i.vpe,this.tarea=JSON.parse(sessionStorage.getItem("info")),this.dateMax=new Date,this.dateMin=new Date((new Date).setDate((new Date).getDate()-30)),this.camposObligatorios=[],this.showOnSubmitIsRequired=!1,this.form=this.formBuilder.group({fechaEntrevista:[this.dateMax,[s.kI.required]],fechaInforme:[this.dateMax],nombres:[{value:"",disabled:!0}],apellidos:[{value:"",disabled:!0}],tipoDocumento:[{value:"",disabled:!0}],numeroDocumento:[{value:"",disabled:!0}],fechaNacimiento:[{value:"",disabled:!0}],edad:[{value:"",disabled:!0}],eps:[{value:"",disabled:!0}],escolaridad:[{value:"",disabled:!0}],telefono:[{value:"",disabled:!0}],direccion:[{value:"",disabled:!0}],barrio:[{value:"",disabled:!0}],nombreContacto:["",s.kI.required],telefonoContacto:["",s.kI.required],direccionContacto:[""]})}ngAfterViewInit(){this.getInitialData()}isRequiredField(e,o,t=!1){var a,c,l,d,m;t&&!this.camposObligatorios.includes(o)&&this.camposObligatorios.push(o);const h=null===(a=e.get(o))||void 0===a?void 0:a.dirty,b=x.B.findInvalidControls(e).includes(o),C="string"==typeof(null===(c=e.get(o))||void 0===c?void 0:c.value)&&""==(null===(l=e.get(o))||void 0===l?void 0:l.value);return t?h&&C:this.showOnSubmitIsRequired?!(null===(d=e.get(o))||void 0===d?void 0:d.valid)||C:!(!h||!b)&&(!(null===(m=e.get(o))||void 0===m?void 0:m.valid)||C)}getInitialData(){this.entrevistaServices.getDatosIdentificacion(this.tarea.idSolicitud).subscribe(e=>{var o,t,a,c,l,d,m,h,b,C,y;e&&200==e.statusCode&&e.data&&(this.involucrado=Object.assign({},e.data),null===(o=this.form.get("nombres"))||void 0===o||o.setValue(this.involucrado.nombres?this.involucrado.nombres:""),null===(t=this.form.get("apellidos"))||void 0===t||t.setValue(this.involucrado.apellidos?this.involucrado.apellidos:""),null===(a=this.form.get("tipoDocumento"))||void 0===a||a.setValue(this.involucrado.tipoDocumento?this.involucrado.tipoDocumento:""),null===(c=this.form.get("numeroDocumento"))||void 0===c||c.setValue(this.involucrado.numeroDocumento?this.involucrado.numeroDocumento:""),null===(l=this.form.get("fechaNacimiento"))||void 0===l||l.setValue(this.involucrado.fechaNacimiento?this.datePipe.transform(this.involucrado.fechaNacimiento,"dd/MM/yyyy"):""),null===(d=this.form.get("edad"))||void 0===d||d.setValue(this.involucrado.edad?this.involucrado.edad:""),null===(m=this.form.get("eps"))||void 0===m||m.setValue(this.involucrado.eps?this.involucrado.eps:""),null===(h=this.form.get("escolaridad"))||void 0===h||h.setValue(this.involucrado.escolaridad?this.involucrado.escolaridad:""),null===(b=this.form.get("telefono"))||void 0===b||b.setValue(this.involucrado.telefono?this.involucrado.telefono:""),null===(C=this.form.get("direccion"))||void 0===C||C.setValue(this.involucrado.direccion?this.involucrado.direccion:""),null===(y=this.form.get("barrio"))||void 0===y||y.setValue(this.involucrado.barrio?this.involucrado.barrio:""))}),this.entrevistaServices.getEvaluacionPsicologicaEntrevista(this.tarea.idSolicitud).subscribe(e=>{var o,t,a,c,l;e&&200==e.statusCode&&e.data&&(this.involucrado=Object.assign(Object.assign({},e.data),this.involucrado),null===(o=this.form.get("fechaEntrevista"))||void 0===o||o.setValue(this.involucrado.fechaEntrevista?this.involucrado.fechaEntrevista:""),null===(t=this.form.get("fechaInforme"))||void 0===t||t.setValue(this.involucrado.fechaElaboracionInforme?this.involucrado.fechaElaboracionInforme:""),null===(a=this.form.get("nombreContacto"))||void 0===a||a.setValue(this.involucrado.nombreContacto?this.involucrado.nombreContacto:""),null===(c=this.form.get("telefonoContacto"))||void 0===c||c.setValue(this.involucrado.telefonoContacto?this.involucrado.telefonoContacto:""),null===(l=this.form.get("direccionContacto"))||void 0===l||l.setValue(this.involucrado.direccionContacto?this.involucrado.direccionContacto:""))})}actualizar(){const e=this.form.value,o={idSolicitudServicio:this.tarea.idSolicitud,fechaElaboracionInforme:this.datePipe.transform(e.fechaInforme,"yyyy-MM-dd"),fechaEntrevista:this.datePipe.transform(e.fechaEntrevista,"yyyy-MM-dd"),idInvolucrado:this.involucrado.idInvolucrado,nombreContacto:e.nombreContacto,telefonoContacto:e.telefonoContacto,direccionContacto:e.direccionContacto};return this.entrevistaServices.actualizarDatosIdentificacion(o)}cancelar(){this.siguientePaso.emit("Cancelar")}archivarDiligencias(){this.modales.modalArchivarDiligencias(this.tarea,"/psicologia")}guardar(){this.isValidForm()?(this.showOnSubmitIsRequired=!1,this.actualizar().subscribe({next:e=>{e&&200==e.statusCode&&this.siguientePaso.emit("Siguiente")},error:()=>{this.modales.modalInformacion(u.q4.MENSAJE_ERROR_G)}})):this.showOnSubmitIsRequired=!0}isValidForm(){let e;return e=x.B.findInvalidControls(this.form).concat((a=>{let c=[];return this.camposObligatorios.forEach(l=>{var d;this.isRequiredField(a,l,!0)&&("ips"==l||"eps"==l?(null===(d=a.get("seguridad"))||void 0===d?void 0:d.value)&&c.push(l):c.push(l))}),c})(this.form)),this.form.valid&&!e.length&&!0}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(A.B),i.Y36(s.qu),i.Y36(I),i.Y36(g.uU))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-datos-identificacion"]],outputs:{siguientePaso:"siguientePaso"},decls:94,vars:24,consts:[[1,"mt-5",3,"formGroup"],[1,"mb-5"],[1,"row"],[1,"form-group","col-lg-4","mb-1"],["for","fecha",1,"form-label"],[1,"input-group"],["readonly","","placeholder","DD/MM/YYYY","formControlName","fechaEntrevista",1,"form-control","border-end-0","bg-white",3,"matDatepicker","max","min","click"],[1,"input-group-text","border-start-0","p-0","bg-white"],["matSuffix","",3,"for"],["picker1",""],[1,"text-danger",3,"ngClass"],["readonly","","placeholder","DD/MM/YYYY","formControlName","fechaInforme",1,"form-control","border-end-0","bg-white",3,"matDatepicker","max","min","click"],["picker2",""],[1,"form-group","col-lg-4","mb-4"],[1,"form-label","text-capitalize"],["type","text","placeholder","Nombres","formControlName","nombres",1,"form-control","text-capitalize"],["type","text","placeholder","Apellidos","formControlName","apellidos",1,"form-control","text-capitalize"],["type","text","placeholder","Tipo de Documento","formControlName","tipoDocumento",1,"form-control","text-capitalize"],["type","text","placeholder","N\xfamero de Documento","formControlName","numeroDocumento",1,"form-control","text-capitalize"],["type","text","placeholder","Fecha de Nacimiento","formControlName","fechaNacimiento",1,"form-control","text-capitalize"],["type","text","placeholder","Edad","formControlName","edad",1,"form-control","text-capitalize"],["type","text","placeholder","Servicio de Salud","formControlName","eps",1,"form-control","text-capitalize"],["type","text","placeholder","Escolaridad","formControlName","escolaridad",1,"form-control","text-capitalize"],["type","text","placeholder","Tel\xe9fono","formControlName","telefono",1,"form-control","text-capitalize"],["type","text","placeholder","Direcci\xf3n","formControlName","direccion",1,"form-control","text-capitalize"],["type","text","placeholder","Barrio","formControlName","barrio",1,"form-control","text-capitalize"],[1,"mt-4"],[1,"mb-4",2,"color","#707070","font-size","20px"],["type","text","placeholder","Nombre contacto de confianza","maxlength","50","formControlName","nombreContacto",1,"form-control","text-capitalize",3,"ngClass"],["type","text","placeholder","Tel\xe9fono Contacto","formControlName","telefonoContacto","maxlength","10",1,"form-control","text-capitalize",3,"ngClass"],["type","text","placeholder","Direcci\xf3n Contacto","formControlName","direccionContacto","maxlength","100",1,"form-control","text-capitalize"],[1,"d-flex","align-items-center","justify-content-end","mt-5",2,"gap","1rem"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,o){if(1&e){const t=i.EpF();i.TgZ(0,"form",0)(1,"h4",1),i._uU(2,"DATOS DE IDENTIFICACI\xd3N DE LA V\xcdCTIMA"),i.qZA(),i.TgZ(3,"div",2)(4,"div",3)(5,"label",4),i._uU(6,"Fecha Entrevista*"),i.qZA(),i.TgZ(7,"div",5)(8,"input",6),i.NdJ("click",function(){return i.CHM(t),i.MAs(12).open()}),i.qZA(),i.TgZ(9,"span",7),i._UZ(10,"mat-datepicker-toggle",8)(11,"mat-datepicker",null,9),i.qZA()(),i.TgZ(13,"span",10),i._uU(14,"Campo requerido"),i.qZA()(),i.TgZ(15,"div",3)(16,"label",4),i._uU(17,"Fecha Elaboraci\xf3n Informe"),i.qZA(),i.TgZ(18,"div",5)(19,"input",11),i.NdJ("click",function(){return i.CHM(t),i.MAs(23).open()}),i.qZA(),i.TgZ(20,"span",7),i._UZ(21,"mat-datepicker-toggle",8)(22,"mat-datepicker",null,12),i.qZA()()()(),i.TgZ(24,"div",2)(25,"div",13)(26,"label",14),i._uU(27,"nombres"),i.qZA(),i._UZ(28,"input",15),i.qZA(),i.TgZ(29,"div",13)(30,"label",14),i._uU(31,"apellidos"),i.qZA(),i._UZ(32,"input",16),i.qZA(),i.TgZ(33,"div",13)(34,"label",14),i._uU(35,"Tipo de Documento"),i.qZA(),i._UZ(36,"input",17),i.qZA(),i.TgZ(37,"div",13)(38,"label",14),i._uU(39,"N\xfamero de Documento"),i.qZA(),i._UZ(40,"input",18),i.qZA(),i.TgZ(41,"div",13)(42,"label",14),i._uU(43,"Fecha de Nacimiento"),i.qZA(),i._UZ(44,"input",19),i.qZA(),i.TgZ(45,"div",13)(46,"label",14),i._uU(47,"Edad"),i.qZA(),i._UZ(48,"input",20),i.qZA(),i.TgZ(49,"div",13)(50,"label",14),i._uU(51,"Servicio de Salud"),i.qZA(),i._UZ(52,"input",21),i.qZA(),i.TgZ(53,"div",13)(54,"label",14),i._uU(55,"Escolaridad"),i.qZA(),i._UZ(56,"input",22),i.qZA(),i.TgZ(57,"div",13)(58,"label",14),i._uU(59,"Tel\xe9fono"),i.qZA(),i._UZ(60,"input",23),i.qZA(),i.TgZ(61,"div",13)(62,"label",14),i._uU(63,"Direcci\xf3n"),i.qZA(),i._UZ(64,"input",24),i.qZA(),i.TgZ(65,"div",13)(66,"label",14),i._uU(67,"Barrio"),i.qZA(),i._UZ(68,"input",25),i.qZA(),i.TgZ(69,"h4",26),i._uU(70,"DATOS DE CONTACTO ADICIONALES"),i.qZA(),i.TgZ(71,"h5",27),i._uU(72," Datos de una persona de confianza de la v\xedctima "),i.qZA(),i.TgZ(73,"div",3)(74,"label",14),i._uU(75,"Nombre contacto de confianza*"),i.qZA(),i._UZ(76,"input",28),i.TgZ(77,"span",10),i._uU(78," Campo requerido "),i.qZA()(),i.TgZ(79,"div",3)(80,"label",14),i._uU(81,"Tel\xe9fono Contacto*"),i.qZA(),i._UZ(82,"input",29),i.TgZ(83,"span",10),i._uU(84," Campo requerido "),i.qZA()(),i.TgZ(85,"div",13)(86,"label",14),i._uU(87,"Direcci\xf3n Contacto"),i.qZA(),i._UZ(88,"input",30),i.qZA()()(),i.TgZ(89,"div",31)(90,"button",32),i.NdJ("click",function(){return o.cancelar()}),i._uU(91," Cancelar "),i.qZA(),i.TgZ(92,"button",33),i.NdJ("click",function(){return o.guardar()}),i._uU(93," Siguiente "),i.qZA()()}if(2&e){const t=i.MAs(12),a=i.MAs(23);i.Q6J("formGroup",o.form),i.xp6(8),i.Q6J("matDatepicker",t)("max",o.dateMax)("min",o.dateMin),i.xp6(2),i.Q6J("for",t),i.xp6(3),i.Q6J("ngClass",i.VKq(14,M,!o.isRequiredField(o.form,"fechaEntrevista"))),i.xp6(6),i.Q6J("matDatepicker",a)("max",o.dateMax)("min",o.dateMin),i.xp6(2),i.Q6J("for",a),i.xp6(55),i.Q6J("ngClass",i.VKq(16,B,o.isRequiredField(o.form,"nombreContacto"))),i.xp6(1),i.Q6J("ngClass",i.VKq(18,M,!o.isRequiredField(o.form,"nombreContacto"))),i.xp6(5),i.Q6J("ngClass",i.VKq(20,B,o.isRequiredField(o.form,"telefonoContacto"))),i.xp6(1),i.Q6J("ngClass",i.VKq(22,M,!o.isRequiredField(o.form,"telefonoContacto")))}},directives:[s._Y,s.JL,s.sg,s.Fj,D.hl,s.JJ,s.u,D.nW,J.R9,D.Mq,g.mk,s.nD],styles:[".form-control[_ngcontent-%COMP%]:not(:focus){box-shadow:none}"]}),n})(),Qe=(()=>{class n{constructor(e,o,t){this.modales=e,this.formBuilder=o,this.entrevistaService=t,this.siguientePaso=new i.vpe,this.tarea=JSON.parse(sessionStorage.getItem("info")),this.tipoDominio=u.R8.Motivo,this.date=new Date,this.showOnSubmitIsRequired=!1,this.form=this.formBuilder.group({descripcionA:["",[]],descripcionB:["",[]]})}ngAfterViewInit(){this.getInitialData()}getInitialData(){var e=this;return(0,_.Z)(function*(){e.entrevistaService.getDescripciones(e.tarea.idSolicitud,e.tipoDominio).subscribe({next:o=>{var t,a;if(o&&200==o.statusCode&&o.data){const c={descripcionA:o.data.descripcionA,descripcionB:o.data.descripcionB};null===(t=e.form.get("descripcionA"))||void 0===t||t.setValue(c.descripcionA),null===(a=e.form.get("descripcionB"))||void 0===a||a.setValue(c.descripcionB)}}})})()}actualizar(){var e,o;let t=new T.x;if(this.tarea.idSolicitud){const a={idSolicitudServicio:this.tarea.idSolicitud,tipoDominio:this.tipoDominio,descripcionA:null===(e=this.form.get("descripcionA"))||void 0===e?void 0:e.value,descripcionB:null===(o=this.form.get("descripcionB"))||void 0===o?void 0:o.value,respuestas:[]};this.entrevistaService.actualizarEvaluacionPsicologica(a).subscribe({next:c=>{c&&200==c.statusCode&&t.next(!0)},error:()=>{t.next(!1)}})}return t.asObservable()}cancelar(){this.siguientePaso.emit("Cancelar")}archivarDiligencias(){this.modales.modalArchivarDiligencias(this.tarea,"/psicologia")}guardar(e){this.showOnSubmitIsRequired=!1,this.actualizar().subscribe(o=>{o?this.siguientePaso.emit(e):this.modales.modalInformacion(u.q4.MENSAJE_ERROR_G)})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(A.B),i.Y36(s.qu),i.Y36(I))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-motivo"]],outputs:{siguientePaso:"siguientePaso"},decls:12,vars:1,consts:[[1,"mt-3",3,"formGroup"],[1,"mb-3"],[1,"form-group","col-lg-12","mt-4"],["type","text","placeholder","Motivo","formControlName","descripcionA","rows","5","maxlength","5000",1,"form-control"],[1,"d-flex","align-items-center","justify-content-end","mt-5",2,"gap","1rem"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,o){1&e&&(i.TgZ(0,"form",0)(1,"h4",1),i._uU(2,"MOTIVO"),i.qZA(),i.TgZ(3,"div",2),i._UZ(4,"textarea",3),i.qZA()(),i.TgZ(5,"div",4)(6,"button",5),i.NdJ("click",function(){return o.cancelar()}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",6),i.NdJ("click",function(){return o.guardar("Anterior")}),i._uU(9,"Anterior"),i.qZA(),i.TgZ(10,"button",6),i.NdJ("click",function(){return o.guardar("Siguiente")}),i._uU(11,"Siguiente"),i.qZA()()),2&e&&i.Q6J("formGroup",o.form)},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,s.nD],styles:[""]}),n})(),je=(()=>{class n{constructor(e,o,t){this.modales=e,this.formBuilder=o,this.entrevistaService=t,this.siguientePaso=new i.vpe,this.tarea=JSON.parse(sessionStorage.getItem("info")),this.tipoDominio=u.R8.antecedente,this.date=new Date,this.showOnSubmitIsRequired=!1,this.form=this.formBuilder.group({descripcionA:["",[]],descripcionB:["",[]]})}ngAfterViewInit(){this.getInitialData()}getInitialData(){var e=this;return(0,_.Z)(function*(){e.entrevistaService.getDescripciones(e.tarea.idSolicitud,e.tipoDominio).subscribe({next:o=>{var t,a;if(o&&200==o.statusCode&&o.data){const c={descripcionA:o.data.descripcionA,descripcionB:o.data.descripcionB};null===(t=e.form.get("descripcionA"))||void 0===t||t.setValue(c.descripcionA),null===(a=e.form.get("descripcionB"))||void 0===a||a.setValue(c.descripcionB)}}})})()}actualizar(){var e,o;let t=new T.x;if(this.tarea.idSolicitud){const a={idSolicitudServicio:this.tarea.idSolicitud,tipoDominio:this.tipoDominio,descripcionA:null===(e=this.form.get("descripcionA"))||void 0===e?void 0:e.value,descripcionB:null===(o=this.form.get("descripcionB"))||void 0===o?void 0:o.value,respuestas:[]};this.entrevistaService.actualizarEvaluacionPsicologica(a).subscribe({next:c=>{c&&200==c.statusCode&&t.next(!0)},error:()=>{t.next(!1)}})}return t.asObservable()}cancelar(){this.siguientePaso.emit("Cancelar")}archivarDiligencias(){this.modales.modalArchivarDiligencias(this.tarea,"/psicologia")}guardar(e){this.showOnSubmitIsRequired=!1,this.actualizar().subscribe(o=>{o?this.siguientePaso.emit(e):this.modales.modalInformacion(u.q4.MENSAJE_ERROR_G)})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(A.B),i.Y36(s.qu),i.Y36(I))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-antecedentes"]],outputs:{siguientePaso:"siguientePaso"},decls:12,vars:1,consts:[[1,"mt-3",3,"formGroup"],[1,"mb-3"],[1,"form-group","col-lg-12","mt-4"],["type","text","placeholder","Antecedentes Importantes y Situaci\xf3n Actual","formControlName","descripcionA","rows","5","maxlength","5000",1,"form-control"],[1,"d-flex","align-items-center","justify-content-end","mt-5",2,"gap","1rem"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,o){1&e&&(i.TgZ(0,"form",0)(1,"h4",1),i._uU(2,"ANTECEDENTES IMPORTANTES Y SITUACI\xd3N ACTUAL"),i.qZA(),i.TgZ(3,"div",2),i._UZ(4,"textarea",3),i.qZA()(),i.TgZ(5,"div",4)(6,"button",5),i.NdJ("click",function(){return o.cancelar()}),i._uU(7,"Cancelar"),i.qZA(),i.TgZ(8,"button",6),i.NdJ("click",function(){return o.guardar("Anterior")}),i._uU(9,"Anterior"),i.qZA(),i.TgZ(10,"button",6),i.NdJ("click",function(){return o.guardar("Siguiente")}),i._uU(11,"Siguiente"),i.qZA()()),2&e&&i.Q6J("formGroup",o.form)},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,s.nD],styles:[""]}),n})();var Q=p(7836);let He=(()=>{class n{constructor(e,o,t){this.modales=e,this.formBuilder=o,this.entrevistaService=t,this.siguientePaso=new i.vpe,this.tarea=JSON.parse(sessionStorage.getItem("info")),this.tipoDominio=u.R8.metodologia,this.date=new Date,this.showOnSubmitIsRequired=!1,this.form=this.formBuilder.group({descripcionA:["",[]],descripcionB:["",[]]})}ngAfterViewInit(){this.getInitialData()}getInitialData(){var e=this;return(0,_.Z)(function*(){e.entrevistaService.getDescripciones(e.tarea.idSolicitud,e.tipoDominio).subscribe({next:o=>{var t,a;if(o&&200==o.statusCode&&o.data){const c={descripcionA:o.data.descripcionA,descripcionB:o.data.descripcionB};null===(t=e.form.get("descripcionA"))||void 0===t||t.setValue(c.descripcionA),null===(a=e.form.get("descripcionB"))||void 0===a||a.setValue(c.descripcionB)}}})})()}actualizar(){var e,o;let t=new T.x;if(this.tarea.idSolicitud){const a={idSolicitudServicio:this.tarea.idSolicitud,tipoDominio:this.tipoDominio,descripcionA:null===(e=this.form.get("descripcionA"))||void 0===e?void 0:e.value,descripcionB:null===(o=this.form.get("descripcionB"))||void 0===o?void 0:o.value,respuestas:[]};this.entrevistaService.actualizarEvaluacionPsicologica(a).subscribe({next:c=>{c&&200==c.statusCode&&t.next(!0)},error:()=>{t.next(!1)}})}return t.asObservable()}cancelar(){this.siguientePaso.emit("Cancelar")}archivarDiligencias(){this.modales.modalArchivarDiligencias(this.tarea,"/psicologia")}guardar(e){this.showOnSubmitIsRequired=!1,this.actualizar().subscribe(o=>{o?this.siguientePaso.emit(e):this.modales.modalInformacion(u.q4.MENSAJE_ERROR_G)})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(A.B),i.Y36(s.qu),i.Y36(I))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-procedimiento-metodologia"]],outputs:{siguientePaso:"siguientePaso"},decls:15,vars:1,consts:[[1,"mt-3",3,"formGroup"],[1,"mb-3"],["mensaje","Contarle a la mujer el objetivo de este proceso y el paso a paso que contiene. Es importante partir de que las mujeres pueden tener afectaciones emocionales en el momento de la entrevista, por esta raz\xf3n es importante hablar en un tono de voz bajo, de manera pausada y asegurarse de que ella ha entendido lo explicado, tambi\xe9n es pertinente abrir un espacio para que la mujer haga las preguntas que tenga del proceso."],[1,"form-group","col-lg-12","mt-4"],[1,"form-label","text-capitalize"],["type","text","placeholder","Procedimiento - Metodolog\xeda","formControlName","descripcionA","rows","5","maxlength","5000",1,"form-control"],[1,"d-flex","align-items-center","justify-content-end","mt-5",2,"gap","1rem"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,o){1&e&&(i.TgZ(0,"form",0)(1,"h4",1),i._uU(2,"PROCEDIMIENTO - METODOLOG\xcdA"),i.qZA(),i._UZ(3,"app-no-data",2),i.TgZ(4,"div",3)(5,"label",4),i._uU(6,"Procedimiento - Metodolog\xeda"),i.qZA(),i._UZ(7,"textarea",5),i.qZA()(),i.TgZ(8,"div",6)(9,"button",7),i.NdJ("click",function(){return o.cancelar()}),i._uU(10,"Cancelar"),i.qZA(),i.TgZ(11,"button",8),i.NdJ("click",function(){return o.guardar("Anterior")}),i._uU(12,"Anterior"),i.qZA(),i.TgZ(13,"button",8),i.NdJ("click",function(){return o.guardar("Siguiente")}),i._uU(14,"Siguiente"),i.qZA()()),2&e&&i.Q6J("formGroup",o.form)},directives:[s._Y,s.JL,s.sg,Q.d,s.Fj,s.JJ,s.u,s.nD],styles:[""]}),n})(),Ye=(()=>{class n{constructor(e,o,t){this.modales=e,this.formBuilder=o,this.entrevistaService=t,this.siguientePaso=new i.vpe,this.tarea=JSON.parse(sessionStorage.getItem("info")),this.tipoDominio=u.R8.relato,this.date=new Date,this.showOnSubmitIsRequired=!1,this.form=this.formBuilder.group({descripcionA:["",[]],descripcionB:["",[]]})}ngAfterViewInit(){this.getInitialData()}getInitialData(){var e=this;return(0,_.Z)(function*(){e.entrevistaService.getDescripciones(e.tarea.idSolicitud,e.tipoDominio).subscribe({next:o=>{var t,a;if(o&&200==o.statusCode&&o.data){const c={descripcionA:o.data.descripcionA,descripcionB:o.data.descripcionB};null===(t=e.form.get("descripcionA"))||void 0===t||t.setValue(c.descripcionA),null===(a=e.form.get("descripcionB"))||void 0===a||a.setValue(c.descripcionB)}}})})()}actualizar(){var e,o;let t=new T.x;if(this.tarea.idSolicitud){const a={idSolicitudServicio:this.tarea.idSolicitud,tipoDominio:this.tipoDominio,descripcionA:null===(e=this.form.get("descripcionA"))||void 0===e?void 0:e.value,descripcionB:null===(o=this.form.get("descripcionB"))||void 0===o?void 0:o.value,respuestas:[]};this.entrevistaService.actualizarEvaluacionPsicologica(a).subscribe({next:c=>{c&&200==c.statusCode&&t.next(!0)},error:()=>{t.next(!1)}})}return t.asObservable()}cancelar(){this.siguientePaso.emit("Cancelar")}archivarDiligencias(){this.modales.modalArchivarDiligencias(this.tarea,"/psicologia")}guardar(e){this.showOnSubmitIsRequired=!1,this.actualizar().subscribe(o=>{o?this.siguientePaso.emit(e):this.modales.modalInformacion(u.q4.MENSAJE_ERROR_G)})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(A.B),i.Y36(s.qu),i.Y36(I))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-relato-hechos"]],outputs:{siguientePaso:"siguientePaso"},decls:13,vars:1,consts:[[1,"mt-3",3,"formGroup"],[1,"mb-3"],["mensaje","Es importante indagar en los hechos de violencia de los que ha sido v\xedctima la mujer, no solo los \xfaltimos, sino tambi\xe9n indagar la historia de violencias. Las afectaciones que estas han producido en la mujer a nivel emocional, familiar, laboral y social. As\xed mismo es importante indagar y resaltar la capacidad de agencia que ha tenido la mujer y las acciones que ha generado para afrontar o salir de los escenarios de riesgo y los ciclos de violencias."],[1,"form-group","col-lg-12","mt-4"],["type","text","placeholder","Relato de los Hechos","formControlName","descripcionA","rows","5","maxlength","5000",1,"form-control"],[1,"d-flex","align-items-center","justify-content-end","mt-5",2,"gap","1rem"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,o){1&e&&(i.TgZ(0,"form",0)(1,"h4",1),i._uU(2,"RELATO DE LOS HECHOS"),i.qZA(),i._UZ(3,"app-no-data",2),i.TgZ(4,"div",3),i._UZ(5,"textarea",4),i.qZA()(),i.TgZ(6,"div",5)(7,"button",6),i.NdJ("click",function(){return o.cancelar()}),i._uU(8,"Cancelar"),i.qZA(),i.TgZ(9,"button",7),i.NdJ("click",function(){return o.guardar("Anterior")}),i._uU(10,"Anterior"),i.qZA(),i.TgZ(11,"button",7),i.NdJ("click",function(){return o.guardar("Siguiente")}),i._uU(12,"Siguiente"),i.qZA()()),2&e&&i.Q6J("formGroup",o.form)},directives:[s._Y,s.JL,s.sg,Q.d,s.Fj,s.JJ,s.u,s.nD],styles:[""]}),n})();function ze(n,r){if(1&n&&(i.TgZ(0,"div",12),i._UZ(1,"input",13),i.TgZ(2,"label",14),i._uU(3),i.qZA()()),2&n){const e=r.$implicit;i.xp6(1),i.MGl("formControlName","idDominio",e.idDominio,""),i.Q6J("value",!0),i.xp6(2),i.hij(" ",e.nombreDominio," ")}}function Le(n,r){if(1&n&&(i.TgZ(0,"div",12),i._UZ(1,"input",13),i.TgZ(2,"label",14),i._uU(3),i.qZA()()),2&n){const e=r.$implicit;i.xp6(1),i.MGl("formControlName","idDominio",e.idDominio,""),i.Q6J("value",!0),i.xp6(2),i.hij(" ",e.nombreDominio," ")}}let Ge=(()=>{class n{constructor(e,o,t){this.modales=e,this.formBuilder=o,this.entrevistaService=t,this.siguientePaso=new i.vpe,this.tarea=JSON.parse(sessionStorage.getItem("info")),this.tipoDominio=u.R8.Red_apoyo,this.date=new Date,this.respuestasRedApoyo=[],this.respuestasTipoRedApoyo=[],this.showOnSubmitIsRequired=!1,this.form=this.formBuilder.group({descripcionA:["",[]],descripcionB:["",[]]})}ngAfterViewInit(){this.getDescripciones(),this.getRedesApoyoChecks(),this.getTipoRedApoyoChecks()}getDescripciones(){this.entrevistaService.getDescripciones(this.tarea.idSolicitud,this.tipoDominio).subscribe({next:e=>{var o,t;if(e&&e.statusCode===u.jh.OK&&e.data){const a={descripcionA:e.data.descripcionA,descripcionB:e.data.descripcionB};null===(o=this.form.get("descripcionA"))||void 0===o||o.setValue(a.descripcionA),null===(t=this.form.get("descripcionB"))||void 0===t||t.setValue(a.descripcionB)}}})}getRedesApoyoChecks(){this.entrevistaService.getRedesApoyoChecks(this.tarea.idSolicitud).subscribe({next:e=>{e&&e.statusCode===u.jh.OK&&e.data&&(this.respuestasRedApoyo=e.data,this.respuestasRedApoyo.forEach(o=>{this.form.addControl("idDominio"+o.idDominio,new s.NI(o.respuesta))}))}})}getTipoRedApoyoChecks(){this.entrevistaService.getTipoRedApoyoChecks(this.tarea.idSolicitud).subscribe({next:e=>{e&&e.statusCode===u.jh.OK&&e.data&&(this.respuestasTipoRedApoyo=e.data,this.respuestasTipoRedApoyo.forEach(o=>{this.form.addControl("idDominio"+o.idDominio,new s.NI(o.respuesta))}))}})}actualizar(){var e,o;let t=new T.x;if(this.tarea.idSolicitud){const a=[],c={idSolicitudServicio:this.tarea.idSolicitud,tipoDominio:this.tipoDominio,descripcionA:null===(e=this.form.get("descripcionA"))||void 0===e?void 0:e.value,descripcionB:null===(o=this.form.get("descripcionB"))||void 0===o?void 0:o.value,respuestas:[]};this.respuestasRedApoyo.forEach(l=>{var d;const m=null===(d=this.form.get("idDominio"+l.idDominio))||void 0===d?void 0:d.value;a.push({idDominio:l.idDominio,respuesta:!!m,nombreDominio:l.nombreDominio})}),this.respuestasTipoRedApoyo.forEach(l=>{var d;const m=null===(d=this.form.get("idDominio"+l.idDominio))||void 0===d?void 0:d.value;a.push({idDominio:l.idDominio,respuesta:!!m,nombreDominio:l.nombreDominio})}),c.respuestas=a,this.entrevistaService.actualizarEvaluacionPsicologica(c).subscribe({next:l=>{l&&l.statusCode===u.jh.OK&&t.next(!0)},error:()=>{t.next(!1)}})}return t.asObservable()}cancelar(){this.siguientePaso.emit("Cancelar")}archivarDiligencias(){this.modales.modalArchivarDiligencias(this.tarea,"/psicologia")}guardar(e){this.showOnSubmitIsRequired=!1,this.actualizar().subscribe(o=>{o?this.siguientePaso.emit(e):this.modales.modalInformacion(u.q4.MENSAJE_ERROR_G)})}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(A.B),i.Y36(s.qu),i.Y36(I))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-redes-apoyo"]],outputs:{siguientePaso:"siguientePaso"},decls:28,vars:3,consts:[[1,"mt-3",3,"formGroup"],[1,"mb-3"],[1,"d-flex","flex-column","mb-4",2,"gap",".5rem"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-group","col-lg-12"],[1,"form-label","text-capitalize"],["type","text","placeholder","Ampl\xede informaci\xf3n de redes de apoyo informadas por la persona","formControlName","descripcionA","rows","5","maxlength","5000",1,"form-control"],[1,"mb-3","mt-4"],["type","text","placeholder","Ampl\xede informaci\xf3n de los tipos de redes de apoyo informadas por la persona","formControlName","descripcionB","rows","5","maxlength","5000",1,"form-control"],[1,"d-flex","align-items-center","justify-content-end","mt-5",2,"gap","1rem"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"value","formControlName"],[1,"form-check-label"]],template:function(e,o){1&e&&(i.TgZ(0,"form",0)(1,"h4",1),i._uU(2,"REDES DE APOYO"),i.qZA(),i.TgZ(3,"p"),i._uU(4,"Escenarios y relaciones personales, familiares, laborales, organizativas o sociales que podr\xedan favorecer la seguridad y protecci\xf3n de la mujer:"),i.qZA(),i.TgZ(5,"div",2),i.YNc(6,ze,4,3,"div",3),i.qZA(),i.TgZ(7,"div",4)(8,"label",5),i._uU(9,"Ampl\xede informaci\xf3n de redes de apoyo informadas por la persona:"),i.qZA(),i._UZ(10,"textarea",6),i.qZA(),i.TgZ(11,"h4",7),i._uU(12,"TIPOS DE REDES DE APOYO"),i.qZA(),i.TgZ(13,"p"),i._uU(14,"Respaldo concreto que puede recibir la mujer por parte de sus redes de apoyo: econ\xf3mico, emocional, cuidado de sus hijos o hijas, refugio, asesor\xeda jur\xeddica, etc. de tipo:"),i.qZA(),i.TgZ(15,"div",2),i.YNc(16,Le,4,3,"div",3),i.qZA(),i.TgZ(17,"div",4)(18,"label",5),i._uU(19,"Ampl\xede informaci\xf3n de los tipos de redes de apoyo informadas por la persona:"),i.qZA(),i._UZ(20,"textarea",8),i.qZA()(),i.TgZ(21,"div",9)(22,"button",10),i.NdJ("click",function(){return o.cancelar()}),i._uU(23,"Cancelar"),i.qZA(),i.TgZ(24,"button",11),i.NdJ("click",function(){return o.guardar("Anterior")}),i._uU(25,"Anterior"),i.qZA(),i.TgZ(26,"button",11),i.NdJ("click",function(){return o.guardar("Siguiente")}),i._uU(27,"Siguiente"),i.qZA()()),2&e&&(i.Q6J("formGroup",o.form),i.xp6(6),i.Q6J("ngForOf",o.respuestasRedApoyo),i.xp6(10),i.Q6J("ngForOf",o.respuestasTipoRedApoyo))},directives:[s._Y,s.JL,s.sg,g.sg,s.Wl,s.JJ,s.u,s.Fj,s.nD],styles:[""]}),n})();var Be=p(8966);function $e(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"div",14)(1,"input",15),i.NdJ("click",function(){const a=i.CHM(e).$implicit,c=i.oxw();return c.cambiarFn(c.respuestasPersistencia,a.idDominio)}),i.qZA(),i.TgZ(2,"label",16),i._uU(3),i.qZA()()}if(2&n){const e=r.$implicit;i.xp6(1),i.s9C("id",e.idDominio),i.MGl("formControlName","idDominio",e.idDominio,""),i.Q6J("checked",e.respuesta),i.xp6(1),i.s9C("for",e.idDominio),i.xp6(1),i.hij(" ",e.nombreDominio," ")}}let Ke=(()=>{class n{constructor(e,o,t,a){this.modales=e,this.formBuilder=o,this.entrevistaService=t,this.dialog=a,this.siguientePaso=new i.vpe,this.tarea=JSON.parse(sessionStorage.getItem("info")),this.tipoDominio=u.R8.Persistencia,this.date=new Date,this.respuestasPersistencia=[],this.respuestasTipoRedApoyo=[],this.showOnSubmitIsRequired=!1,this.form=this.formBuilder.group({descripcionA:["",[]],descripcionB:["",[]]})}ngAfterViewInit(){this.getDescripciones(),this.getPersistenciaChecks()}getDescripciones(){this.entrevistaService.getDescripciones(this.tarea.idSolicitud,this.tipoDominio).subscribe({next:e=>{var o,t;if(e&&e.statusCode===u.jh.OK&&e.data){const a={descripcionA:e.data.descripcionA,descripcionB:e.data.descripcionB};null===(o=this.form.get("descripcionA"))||void 0===o||o.setValue(a.descripcionA),null===(t=this.form.get("descripcionB"))||void 0===t||t.setValue(a.descripcionB)}}})}getPersistenciaChecks(){this.entrevistaService.getPersistenciaChecks(this.tarea.idSolicitud).subscribe({next:e=>{e&&200==e.statusCode&&e.data&&(this.respuestasPersistencia=e.data,this.respuestasPersistencia.forEach(o=>{this.form.addControl("idDominio"+o.idDominio,new s.NI(o.respuesta))}))}})}isValidForm(){return this.respuestasPersistencia.filter(o=>o.respuesta).length>0}cambiarFn(e,o){setTimeout(()=>{e.forEach(t=>{t.idDominio===o&&(t.respuesta=!t.respuesta)})},100)}actualizar(){var e,o;let t=new T.x;if(this.tarea.idSolicitud){const a=[],c={idSolicitudServicio:this.tarea.idSolicitud,tipoDominio:this.tipoDominio,descripcionA:null===(e=this.form.get("descripcionA"))||void 0===e?void 0:e.value,descripcionB:null===(o=this.form.get("descripcionB"))||void 0===o?void 0:o.value,respuestas:[]};this.respuestasPersistencia.forEach(l=>{var d;const m=null===(d=this.form.get("idDominio"+l.idDominio))||void 0===d?void 0:d.value;a.push({idDominio:l.idDominio,respuesta:!!m,nombreDominio:l.nombreDominio})}),this.respuestasTipoRedApoyo.forEach(l=>{var d;const m=null===(d=this.form.get("idDominio"+l.idDominio))||void 0===d?void 0:d.value;a.push({idDominio:l.idDominio,respuesta:!!m,nombreDominio:l.nombreDominio})}),c.respuestas=a,this.entrevistaService.actualizarEvaluacionPsicologica(c).subscribe({next:l=>{l&&l.statusCode===u.jh.OK&&t.next(!0)},error:()=>{t.next(!1)}})}return t.asObservable()}cancelar(){this.siguientePaso.emit("Cancelar")}archivarDiligencias(){this.modales.modalArchivarDiligencias(this.tarea,"/psicologia")}guardar(e){this.showOnSubmitIsRequired=!1,this.isValidForm()?this.actualizar().subscribe(o=>{o?this.siguientePaso.emit(e):this.modales.modalInformacion(u.q4.MENSAJE_ERROR_G)}):A.B.modalInformacion("Debe seleccionar por lo menos una opci\xf3n de persistencia o evidencia de nuevos factores de riesgo",this.dialog,"assets/images/exclamacion.svg")}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(A.B),i.Y36(s.qu),i.Y36(I),i.Y36(Be.uw))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-percepcion-victima-entrevista"]],outputs:{siguientePaso:"siguientePaso"},decls:25,vars:2,consts:[[1,"mt-3",3,"formGroup"],[1,"mb-3"],["mensaje","Identificar la percepci\xf3n que tiene la mujer sobre los hechos de violencias de los que ha sido v\xedctima, de los escenarios de riesgo en los que se encuentra y las acciones personales e institucionales que la mujer ha iniciado."],[1,"form-group","col-lg-12","mt-4"],[1,"form-label","text-capitalize"],["type","text","placeholder","Percepci\xf3n de la mujer","formControlName","descripcionA","rows","5","maxlength","5000",1,"form-control"],[1,"mb-3","mt-4"],[1,"d-flex","flex-column","mb-4",2,"gap","0.5rem"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-group","col-lg-12"],["type","text","placeholder","Ampl\xede informaci\xf3n de nuevos factores de riesgo informados por la persona","formControlName","descripcionB","rows","5","maxlength","5000",1,"form-control"],[1,"d-flex","align-items-center","justify-content-end","mt-5",2,"gap","1rem"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","formControlName","checked","click"],[1,"form-check-label",3,"for"]],template:function(e,o){1&e&&(i.TgZ(0,"form",0)(1,"h4",1),i._uU(2," PERCEPCI\xd3N DE LA MUJER SOBRE SU SITUACI\xd3N DE RIESGO Y LAS VIOLENCIAS DE LAS QUE ES V\xcdCTIMA "),i.qZA(),i._UZ(3,"app-no-data",2),i.TgZ(4,"div",3)(5,"label",4),i._uU(6,"Percepci\xf3n de la mujer:"),i.qZA(),i._UZ(7,"textarea",5),i.qZA(),i.TgZ(8,"h4",6),i._uU(9," PERSISTENCIA O EVIDENCIA DE NUEVOS FACTORES DE RIESGO "),i.qZA(),i.TgZ(10,"p"),i._uU(11,"Identificar:"),i.qZA(),i.TgZ(12,"div",7),i.YNc(13,$e,4,5,"div",8),i.qZA(),i.TgZ(14,"div",9)(15,"label",4),i._uU(16,"Ampl\xede informaci\xf3n de nuevos factores de riesgo informados por la persona:"),i.qZA(),i._UZ(17,"textarea",10),i.qZA()(),i.TgZ(18,"div",11)(19,"button",12),i.NdJ("click",function(){return o.cancelar()}),i._uU(20," Cancelar "),i.qZA(),i.TgZ(21,"button",13),i.NdJ("click",function(){return o.guardar("Anterior")}),i._uU(22," Anterior "),i.qZA(),i.TgZ(23,"button",13),i.NdJ("click",function(){return o.guardar("Siguiente")}),i._uU(24," Siguiente "),i.qZA()()),2&e&&(i.Q6J("formGroup",o.form),i.xp6(13),i.Q6J("ngForOf",o.respuestasPersistencia))},directives:[s._Y,s.JL,s.sg,Q.d,s.Fj,s.JJ,s.u,s.nD,g.sg,s.Wl],styles:[""]}),n})(),Xe=(()=>{class n{constructor(e,o,t,a){this.modales=e,this.formBuilder=o,this.entrevistaService=t,this.sharedService=a,this.siguientePaso=new i.vpe,this.siguienteTab=new i.vpe,this.imprimirPDFCompleto=new i.vpe,this.tarea=JSON.parse(sessionStorage.getItem("info")),this.tipoDominio=u.R8.conclusiones,this.date=new Date,this.tipoPdf=u.H6.ENTREVISTA_PSICOLOGICA_EMOCIONAL,this.form=this.formBuilder.group({descripcionA:[""],descripcionB:[""],file:[null]})}ngAfterViewInit(){this.getDescripciones(),this.obtenerArchivoCargado()}getDescripciones(){this.entrevistaService.getDescripciones(this.tarea.idSolicitud,this.tipoDominio).subscribe({next:e=>{var o,t;if(e&&200==e.statusCode&&e.data){const a={descripcionA:e.data.descripcionA,descripcionB:e.data.descripcionB};null===(o=this.form.get("descripcionA"))||void 0===o||o.setValue(a.descripcionA),null===(t=this.form.get("descripcionB"))||void 0===t||t.setValue(a.descripcionB)}}})}actualizar(){var e,o;let t=new T.x;if(this.tarea.idSolicitud){const a={idSolicitudServicio:this.tarea.idSolicitud,tipoDominio:this.tipoDominio,descripcionA:null===(e=this.form.get("descripcionA"))||void 0===e?void 0:e.value,descripcionB:null===(o=this.form.get("descripcionB"))||void 0===o?void 0:o.value,respuestas:[]};this.entrevistaService.actualizarEvaluacionPsicologica(a).subscribe({next:c=>{c&&200==c.statusCode&&t.next(!0)},error:()=>{t.next(!1)}})}return t.asObservable()}cancelar(){this.siguientePaso.emit("Cancelar")}archivarDiligencias(){this.modales.modalArchivarDiligencias(this.tarea,"/psicologia")}guardar(e,o=!0){let t=new T.x;return this.actualizar().subscribe(a=>{a?(t.next(!0),e?"Siguiente"==e?this.modales.modalExito("Datos guardados exitosamente.").subscribe(()=>{this.siguienteTab.emit(e)}):this.siguientePaso.emit(e):o&&this.modales.modalExito("Datos guardados exitosamente.")):(t.next(!1),this.modales.modalInformacion(u.q4.MENSAJE_ERROR_G))}),t.asObservable()}imprimirCompleto(){this.tarea&&this.tarea.idSolicitud?this.guardar(void 0,!1).subscribe(()=>{this.imprimirPDFCompleto.emit()}):this.modales.modalInformacion("Para imprimir el documento completo debes completar todos los pasos de identificacion del riesgo primero.")}cargarArchivo(e){var t,o=this;e?this.sharedService.guardarArchivo({idSolicitudServicio:this.tarea.idSolicitud,entrada:e,nombrearchivo:null,tipoDocumento:u.n7.ENTREVISTA_PSICOLOGICA_EMOCIONAL}).subscribe(function(){var a=(0,_.Z)(function*(c){c&&200==c.statusCode&&(yield o.obtenerArchivoCargado(),o.modales.modalExito("Archivo cargado exitosamente"))});return function(c){return a.apply(this,arguments)}}()):(this.file=null,null===(t=this.form.get("file"))||void 0===t||t.setValue(null))}obtenerArchivoCargado(){var e=this;return(0,_.Z)(function*(){var o;const t=yield(0,P.n)(e.sharedService.ConsultarArchivos(e.tarea.idSolicitud,u.n7.ENTREVISTA_PSICOLOGICA_EMOCIONAL));t&&200==t.statusCode&&t.data&&t.data[0]&&(e.file={idSolicitud:e.tarea.idSolicitud,idArchivo:t.data[0].idSolicitudDocumento,nombreArchivo:t.data[0].nombreDocumento},null===(o=e.form.get("file"))||void 0===o||o.setValue(!0))})()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(A.B),i.Y36(s.qu),i.Y36(I),i.Y36(R.F))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-conclusion-recomendaciones"]],outputs:{siguientePaso:"siguientePaso",siguienteTab:"siguienteTab",imprimirPDFCompleto:"imprimirPDFCompleto"},decls:24,vars:3,consts:[[1,"mt-3",3,"formGroup"],[1,"mb-3"],[1,"form-group","col-lg-12"],[1,"form-label","text-capitalize"],["type","text","placeholder","Conclusiones","formControlName","descripcionA","rows","5","maxlength","5000",1,"form-control"],[1,"form-group","col-lg-12","mt-4"],["type","text","placeholder","Ampl\xede informaci\xf3n de los tipos de redes de apoyo informadas por la persona","formControlName","descripcionB","rows","5","maxlength","5000",1,"form-control"],[1,"d-flex","align-items-center","mt-5","text-nowrap","flex-wrap","flex-lg-nowrap",2,"gap","1rem"],["type","button",1,"btn","btn-warning",3,"click"],[3,"archivoCargado","baseArchivo"],[1,"d-flex","align-items-center","justify-content-end","mt-5","text-nowrap","flex-wrap","flex-lg-nowrap",2,"gap","1rem"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,o){if(1&e&&(i.TgZ(0,"form",0)(1,"h4",1),i._uU(2,"CONCLUSIONES Y RECOMENDACIONES"),i.qZA(),i.TgZ(3,"div",2)(4,"label",3),i._uU(5,"Conclusiones:"),i.qZA(),i._UZ(6,"textarea",4),i.qZA(),i.TgZ(7,"div",5)(8,"label",3),i._uU(9,"Recomendaciones:"),i.qZA(),i._UZ(10,"textarea",6),i.qZA()(),i.TgZ(11,"div",7)(12,"button",8),i.NdJ("click",function(){return o.imprimirCompleto()}),i._uU(13," Imprimir formato completo "),i.qZA(),i.TgZ(14,"app-carga-archivo",9),i.NdJ("baseArchivo",function(a){return o.cargarArchivo(a)}),i.qZA()(),i.TgZ(15,"div",10)(16,"button",11),i.NdJ("click",function(){return o.cancelar()}),i._uU(17," Cancelar "),i.qZA(),i.TgZ(18,"button",12),i.NdJ("click",function(){return o.guardar("Anterior")}),i._uU(19," Anterior "),i.qZA(),i.TgZ(20,"button",12),i.NdJ("click",function(){return o.guardar()}),i._uU(21," Guardar "),i.qZA(),i.TgZ(22,"button",13),i.NdJ("click",function(){return o.guardar("Siguiente")}),i._uU(23," Finalizar "),i.qZA()()),2&e){let t;i.Q6J("formGroup",o.form),i.xp6(14),i.Q6J("archivoCargado",o.file),i.xp6(8),i.Q6J("disabled",!o.file||!(null!=(t=o.form.get("file"))&&t.value))}},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,s.nD,V.k],styles:["mat-icon.description[_ngcontent-%COMP%]{color:#004884;font-size:40px;width:40px;height:40px}.file[_ngcontent-%COMP%]{width:380px}"]}),n})();const We=["stepper"];function io(n,r){1&n&&i._uU(0," Datos Identificaci\xf3n")}function eo(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"app-datos-identificacion",9),i.NdJ("siguientePaso",function(t){return i.CHM(e),i.oxw().cambiarPasoIdentificacionDelRiesgo(t)}),i.qZA()}}function oo(n,r){1&n&&i._uU(0,"Motivo")}function to(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"app-motivo",9),i.NdJ("siguientePaso",function(t){return i.CHM(e),i.oxw().cambiarPasoIdentificacionDelRiesgo(t)}),i.qZA()}}function no(n,r){1&n&&i._uU(0,"Antecendentes y Situaci\xf3n Actual")}function ao(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"app-antecedentes",9),i.NdJ("siguientePaso",function(t){return i.CHM(e),i.oxw().cambiarPasoIdentificacionDelRiesgo(t)}),i.qZA()}}function ro(n,r){1&n&&i._uU(0,"Procedimiento / Metodolog\xeda")}function so(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"app-procedimiento-metodologia",9),i.NdJ("siguientePaso",function(t){return i.CHM(e),i.oxw().cambiarPasoIdentificacionDelRiesgo(t)}),i.qZA()}}function co(n,r){1&n&&i._uU(0,"Relato de los Hechos")}function lo(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"app-relato-hechos",9),i.NdJ("siguientePaso",function(t){return i.CHM(e),i.oxw().cambiarPasoIdentificacionDelRiesgo(t)}),i.qZA()}}function uo(n,r){1&n&&i._uU(0,"Redes de Apoyo")}function po(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"app-redes-apoyo",9),i.NdJ("siguientePaso",function(t){return i.CHM(e),i.oxw().cambiarPasoIdentificacionDelRiesgo(t)}),i.qZA()}}function mo(n,r){1&n&&i._uU(0,"Percepci\xf3n de la V\xedctima")}function go(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"app-percepcion-victima-entrevista",9),i.NdJ("siguientePaso",function(t){return i.CHM(e),i.oxw().cambiarPasoIdentificacionDelRiesgo(t)}),i.qZA()}}function _o(n,r){1&n&&i._uU(0,"Conclusi\xf3n y Recomendaciones")}function fo(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"app-conclusion-recomendaciones",10),i.NdJ("siguientePaso",function(t){return i.CHM(e),i.oxw().cambiarPasoIdentificacionDelRiesgo(t)})("siguienteTab",function(t){return i.CHM(e),i.oxw().siguienteTab.emit(t)})("imprimirPDFCompleto",function(){return i.CHM(e),i.oxw().imprimirPDFCompleto()}),i.qZA()}}let ho=(()=>{class n{constructor(e,o,t){this.modales=e,this.title=o,this.spinner=t,this.siguienteTab=new i.vpe,this.temp=0,this.idSolicitud=0,this.orientation="horizontal",this.tipoPdf=u.H6.ENTREVISTA_PSICOLOGICA_EMOCIONAL,this.tarea=JSON.parse(sessionStorage.getItem("info")),this.mostrarHtml=!1,this.title.setTitle("SICOFA - Identificaci\xf3n riesgo - Entrevista Psicol\xf3gica y emocional"),this.orientation=window.screen.width<=768?"vertical":"horizontal"}cambiarPasoIdentificacionDelRiesgo(e){switch(e){case"Anterior":this.stepper.previous();break;case"Siguiente":this.stepper.next();break;case"Cancelar":this.modales.modalCancelar("/psicologia")}}imprimirPDFVacio(){this.mostrarHtml=!0,this.idSolicitud=0,this.temp=Date.now()}imprimirPDFCompleto(){this.mostrarHtml=!0,this.idSolicitud=this.tarea.idSolicitud,this.temp=Date.now()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(A.B),i.Y36(N.Dx),i.Y36(F.t2))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-entrevista-psicologica-emocional"]],viewQuery:function(e,o){if(1&e&&i.Gf(We,5),2&e){let t;i.iGM(t=i.CRH())&&(o.stepper=t.first)}},outputs:{siguienteTab:"siguienteTab"},decls:32,vars:11,consts:[[1,"background","p-5"],[1,"text-blue",2,"font-weight","bold","font-size","20px","max-width","929px"],[3,"idSolicitud","temp"],[1,"btn","btn-primary",3,"click"],["labelPosition","bottom","linear","","selectedIndex","0",1,"mt-4",3,"orientation"],["stepper",""],["matStepLabel","","class","text-capitalize"],[3,"siguientePaso",4,"ngIf"],[3,"siguientePaso","siguienteTab","imprimirPDFCompleto",4,"ngIf"],[3,"siguientePaso"],[3,"siguientePaso","siguienteTab","imprimirPDFCompleto"]],template:function(e,o){if(1&e&&(i.TgZ(0,"section",0)(1,"div",1),i._uU(2," INFORME DE ENTREVISTA PSICOL\xd3GICA Y EMOCIONAL "),i.qZA(),i._UZ(3,"app-entrevista-psicologica-emocional-pdf",2),i.TgZ(4,"button",3),i.NdJ("click",function(){return o.imprimirPDFVacio()}),i._uU(5," Imprimir formato vac\xedo "),i.qZA(),i.TgZ(6,"mat-stepper",4,5)(8,"mat-step"),i.YNc(9,io,1,0,"ng-template",6),i.YNc(10,eo,1,0,"app-datos-identificacion",7),i.qZA(),i.TgZ(11,"mat-step"),i.YNc(12,oo,1,0,"ng-template",6),i.YNc(13,to,1,0,"app-motivo",7),i.qZA(),i.TgZ(14,"mat-step"),i.YNc(15,no,1,0,"ng-template",6),i.YNc(16,ao,1,0,"app-antecedentes",7),i.qZA(),i.TgZ(17,"mat-step"),i.YNc(18,ro,1,0,"ng-template",6),i.YNc(19,so,1,0,"app-procedimiento-metodologia",7),i.qZA(),i.TgZ(20,"mat-step"),i.YNc(21,co,1,0,"ng-template",6),i.YNc(22,lo,1,0,"app-relato-hechos",7),i.qZA(),i.TgZ(23,"mat-step"),i.YNc(24,uo,1,0,"ng-template",6),i.YNc(25,po,1,0,"app-redes-apoyo",7),i.qZA(),i.TgZ(26,"mat-step"),i.YNc(27,mo,1,0,"ng-template",6),i.YNc(28,go,1,0,"app-percepcion-victima-entrevista",7),i.qZA(),i.TgZ(29,"mat-step"),i.YNc(30,_o,1,0,"ng-template",6),i.YNc(31,fo,1,0,"app-conclusion-recomendaciones",8),i.qZA()()()),2&e){const t=i.MAs(7);i.xp6(3),i.Q6J("idSolicitud",o.idSolicitud)("temp",o.temp),i.xp6(3),i.Q6J("orientation",o.orientation),i.xp6(4),i.Q6J("ngIf",0==t.selectedIndex),i.xp6(3),i.Q6J("ngIf",1==t.selectedIndex),i.xp6(3),i.Q6J("ngIf",2==t.selectedIndex),i.xp6(3),i.Q6J("ngIf",3==t.selectedIndex),i.xp6(3),i.Q6J("ngIf",4==t.selectedIndex),i.xp6(3),i.Q6J("ngIf",5==t.selectedIndex),i.xp6(3),i.Q6J("ngIf",6==t.selectedIndex),i.xp6(3),i.Q6J("ngIf",7==t.selectedIndex)}},directives:[Ve.l,q.Vq,q.C0,q.VY,g.O5,Me,Qe,je,He,Ye,Ge,Ke,Xe],styles:[".background[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px}.background-top[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px 10px 0 0}.background-bottom[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:0 0 10px 10px}  .mat-step-label.mat-step-label{text-overflow:inherit;white-space:normal}div[_ngcontent-%COMP%]{animation-delay:1s}mat-stepper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;background-color:#f5f5f5;border:10px}  .mat-horizontal-content-container{padding:0!important;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}  .mat-horizontal-content-container * >{width:100%}  .mat-horizontal-stepper-content{width:100%}  .mat-horizontal-stepper-header{pointer-events:none!important}  .mat-step-text-label{font-size:12px}"]}),n})();var $=p(4623),vo=p(4594);function bo(n,r){if(1&n&&(i.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"ul"),i._UZ(4,"li"),i.qZA()(),i.TgZ(5,"label",36),i._uU(6),i.qZA()()()),2&n){const e=i.oxw().$implicit;i.xp6(6),i.hij(" ",e.nombreDominio," ")}}function Co(n,r){if(1&n&&(i.TgZ(0,"div",31),i.YNc(1,bo,7,1,"div",32),i.qZA()),2&n){const e=r.$implicit;i.xp6(1),i.Q6J("ngIf",e)}}function Ao(n,r){if(1&n&&(i.TgZ(0,"div",28)(1,"div",29),i.YNc(2,Co,2,1,"div",30),i.qZA()()),2&n){const e=i.oxw();i.xp6(2),i.Q6J("ngForOf",e.checkSeguridad)}}function Zo(n,r){if(1&n&&(i.TgZ(0,"div",33)(1,"div",34)(2,"div",35)(3,"ul"),i._UZ(4,"li"),i.qZA()(),i.TgZ(5,"label",36),i._uU(6),i.qZA()()()),2&n){const e=i.oxw().$implicit;i.xp6(6),i.hij(" ",e.nombreDominio," ")}}function To(n,r){if(1&n&&(i.TgZ(0,"div",31),i.YNc(1,Zo,7,1,"div",32),i.qZA()),2&n){const e=r.$implicit;i.xp6(1),i.Q6J("ngIf",e)}}function xo(n,r){if(1&n&&(i.TgZ(0,"div",28)(1,"div",29),i.YNc(2,To,2,1,"div",30),i.qZA()()),2&n){const e=i.oxw();i.xp6(2),i.Q6J("ngForOf",e.checkRedesApoyo)}}function qo(n,r){if(1&n){const e=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){return i.CHM(e),i.oxw().imprimirPDF(!0)}),i._uU(1," Imprimir Formato Completo "),i.qZA()}}const K=function(n){return{"fw-bolder":n}};let Do=(()=>{class n{constructor(e,o,t,a,c,l){this.fb=e,this.entrevistaService=o,this.sharedService=t,this.modales=a,this.title=c,this.spinner=l,this.temp=0,this.seguridad=!0,this.redes=!1,this.checkSeguridad=[],this.checkRedesApoyo=[],this.textoFile="",this.tipoPdf=u.H6.SEGURIDAD_REDES_APOYO,this.idSolicitud=0,this.cargarHtml=!1,this.tarea=JSON.parse(sessionStorage.getItem("info")),this.title.setTitle("SICOFA - Identificaci\xf3n riesgo - Sugerencias de apoyo externo"),this.obtenerArchivoCargado()}ngOnInit(){this.cargarForm(),this.cargarCheckSeguridad(),this.cargarCheckRedesApoyo()}cargarForm(){this.myForm=this.fb.group({})}cambiarTab(e){0===e?(this.seguridad=!0,this.redes=!1):1===e&&(this.seguridad=!1,this.redes=!0)}isRequiredSeguridad(){return this.myForm.hasError("requiredSeguridad")}isRequiredRedes(){return this.myForm.hasError("requiredRedes")}isRequiredConfirmar(){return this.myForm.hasError("requiredConfirmar")}cargarCheckSeguridad(){this.entrevistaService.getSeguridad(this.tarea.idSolicitud).subscribe(e=>{e.statusCode===u.jh.OK&&(this.checkSeguridad=e.data)})}cargarCheckRedesApoyo(){this.entrevistaService.getRedesApoyo(this.tarea.idSolicitud).subscribe(e=>{e.statusCode===u.jh.OK&&(this.checkRedesApoyo=e.data)})}archivarDiligencias(){this.modales.modalArchivarDiligencias(this.tarea,"/psicologia")}cancelar(){this.modales.modalCancelar("/psicologia")}cerrarActuaciones(){this.file?this.modales.modalCerrarActuaciones(this.tarea,"/psicologia"):this.modales.modalInformacion("Debe cargar el documento",u.x4.EXCLAMACION)}cargarArchivo(e){var o=this;e&&this.sharedService.guardarArchivo({idSolicitudServicio:this.tarea.idSolicitud,entrada:e,nombrearchivo:null,tipoDocumento:u.n7.SUGERENCIAS_DE_APOYO_EXTERNO}).subscribe(function(){var t=(0,_.Z)(function*(a){a&&200==a.statusCode&&(yield o.obtenerArchivoCargado(),o.modales.modalExito("Archivo cargado exitosamente"))});return function(a){return t.apply(this,arguments)}}())}obtenerArchivoCargado(){var e=this;return(0,_.Z)(function*(){const o=yield(0,P.n)(e.sharedService.ConsultarArchivos(e.tarea.idSolicitud,u.n7.SUGERENCIAS_DE_APOYO_EXTERNO));o&&200==o.statusCode&&o.data&&o.data[0]&&(e.file={idSolicitud:e.tarea.idSolicitud,idArchivo:o.data[0].idSolicitudDocumento,nombreArchivo:o.data[0].nombreDocumento})})()}imprimirPDF(e){this.cargarHtml=!0,this.idSolicitud=e?this.tarea.idSolicitud:0,this.temp=Date.now()}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(s.qu),i.Y36(I),i.Y36(R.F),i.Y36(A.B),i.Y36(N.Dx),i.Y36(F.t2))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-sugerencia-apoyo-externo"]],decls:49,vars:14,consts:[[1,"background-gray2","rounded-basic","p-4","mb-3",3,"formGroup"],[1,"px-4"],[1,"color-text-azul"],[1,"form-label"],[1,"row","my-3","mx-0","px-4"],[1,"col-12","bg-titulo-sug","p-3","px-0"],[1,"text-white","m-0"],[1,"row","mx-0","px-0","border","border-primary","rounded-bottom"],[1,"col-3","px-0"],[1,"pt-0",3,"multiple"],[1,"border-bottom",3,"click"],[1,"item-img"],["src","assets/images/document.svg","width","15px","height","15px","alt","leaf"],[1,"form-label",3,"ngClass"],["src","assets/images/angulo-pequeno-derecho-azul.svg","width","15px","height","15px","alt","leaf"],["class","col-9 px-0 bg-white",4,"ngIf"],[3,"idSolicitud","temp"],[1,"row","mt-3","px-4"],[1,"col-6"],[1,"border","border-primary","p-2"],[1,"float-none","w-auto","p-2","color-text-azul"],[1,"px-2","d-flex","gap-4","align-items-baseline"],[1,"btn","btn-primary",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],[3,"archivoCargado","baseArchivo"],[1,"d-flex","align-items-center","justify-content-end","mt-5","gap-3","px-4"],["type","button",1,"btn","btn-danger",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-9","px-0","bg-white"],[1,"row","p-4"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],["class","form-check py-2",4,"ngIf"],[1,"form-check","py-2"],[1,"d-flex"],[1,"d-flex","align-items-center","justify-content-center"],[1,"form-label","text-justify"]],template:function(e,o){1&e&&(i.TgZ(0,"form",0)(1,"div",1)(2,"h4",2),i._uU(3," ORIENTACI\xd3N Y RECOMENDACIONES A LAS MUJERES V\xcdCTIMAS DE VIOLENCIA EN EL CONTEXTO FAMILIAR "),i.qZA(),i.TgZ(4,"label",3),i._uU(5,"Seleccione las recomendaciones a las que (seg\xfan el municipio / localidad de la comisar\xeda de familia) el ciudadano tiene acceso y a las que seg\xfan el riesgo identificado el ciudadano debe adoptar. "),i.qZA()(),i.TgZ(6,"div",4)(7,"div",5)(8,"h5",6),i._uU(9," RECOMENDACIONES SOBRE SEGURIDAD, REDES DE APOYO Y ENTIDADES EXTERNAS "),i.qZA()(),i.TgZ(10,"div",7)(11,"div",8)(12,"mat-selection-list",9)(13,"mat-list-option",10),i.NdJ("click",function(){return o.cambiarTab(0)}),i.TgZ(14,"div",11),i._UZ(15,"img",12),i.TgZ(16,"label",13),i._uU(17,"Seguridad"),i.qZA(),i._UZ(18,"img",14),i.qZA()(),i.TgZ(19,"mat-list-option",10),i.NdJ("click",function(){return o.cambiarTab(1)}),i.TgZ(20,"div",11),i._UZ(21,"img",12),i.TgZ(22,"label",13),i._uU(23,"Redes de Apoyo"),i.qZA(),i._UZ(24,"img",14),i.qZA()()()(),i.YNc(25,Ao,3,1,"div",15),i.YNc(26,xo,3,1,"div",15),i.qZA()(),i._UZ(27,"app-seguridad-redes-apoyo-pdf",16),i.TgZ(28,"div",17)(29,"div",18)(30,"fieldset",19)(31,"legend",20),i._uU(32," Generaci\xf3n de Formatos "),i.qZA(),i.TgZ(33,"div",21)(34,"button",22),i.NdJ("click",function(){return o.imprimirPDF()}),i._uU(35," Imprimir Formato Vac\xedo "),i.qZA(),i.YNc(36,qo,2,0,"button",23),i.qZA()()(),i.TgZ(37,"div",18)(38,"fieldset",19)(39,"legend",20),i._uU(40," Cargar Formato "),i.qZA(),i.TgZ(41,"app-carga-archivo",24),i.NdJ("baseArchivo",function(a){return o.cargarArchivo(a)}),i.qZA()()()(),i.TgZ(42,"div",25)(43,"button",26),i.NdJ("click",function(){return o.cancelar()}),i._uU(44," Cancelar "),i.qZA(),i.TgZ(45,"button",27),i.NdJ("click",function(){return o.archivarDiligencias()}),i._uU(46," Archivar diligencias "),i.qZA(),i.TgZ(47,"button",27),i.NdJ("click",function(){return o.cerrarActuaciones()}),i._uU(48," Cerrar actuaciones "),i.qZA()()()),2&e&&(i.Q6J("formGroup",o.myForm),i.xp6(12),i.Q6J("multiple",!1),i.xp6(4),i.Q6J("ngClass",i.VKq(10,K,o.seguridad)),i.xp6(6),i.Q6J("ngClass",i.VKq(12,K,o.redes)),i.xp6(3),i.Q6J("ngIf",o.seguridad),i.xp6(1),i.Q6J("ngIf",o.redes),i.xp6(1),i.Q6J("idSolicitud",o.idSolicitud)("temp",o.temp),i.xp6(9),i.Q6J("ngIf",o.tarea&&o.tarea.idSolicitud),i.xp6(5),i.Q6J("archivoCargado",o.file))},directives:[s._Y,s.JL,s.sg,$.Ub,$.vS,g.mk,g.O5,g.sg,vo.Q,V.k],styles:[".item-img[_ngcontent-%COMP%]{display:flex!important;flex-direction:row!important;gap:15px!important;align-items:baseline!important;margin-top:15px!important}.bg-titulo-sug[_ngcontent-%COMP%]{background-color:#0168b3;border-top:10px;border-top-right-radius:10px;border-top-left-radius:10px;text-align:center}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%], .mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]{height:80px!important}.background-gray2[_ngcontent-%COMP%]{background-color:#f5f5f5!important}.color-text-azul[_ngcontent-%COMP%]{color:#0168b3}input[type=file][_ngcontent-%COMP%]{display:none}ul[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.text-justify[_ngcontent-%COMP%]{text-align:justify}"]}),n})();const Io=["stepper"];function Eo(n,r){if(1&n){const e=i.EpF();i.ynx(0),i.TgZ(1,"app-identificacion-del-riesgo",5),i.NdJ("siguienteTab",function(){return i.CHM(e),i.oxw().cambiarTab(2)}),i.qZA(),i.BQk()}}function So(n,r){if(1&n){const e=i.EpF();i.ynx(0),i.TgZ(1,"app-entrevista-psicologica-emocional",5),i.NdJ("siguienteTab",function(){return i.CHM(e),i.oxw().cambiarTab(3)}),i.qZA(),i.BQk()}}function No(n,r){1&n&&(i.ynx(0),i._UZ(1,"app-sugerencia-apoyo-externo"),i.BQk())}const j=function(n){return{active:n}};let X=(()=>{class n{constructor(e){this.title=e,this.orientation="horizontal",this.selectedTab=1,this.title.setTitle("SICOFA - Identificaci\xf3n riesgo"),this.orientation=window.screen.width<=768?"vertical":"horizontal"}cambiarTab(e){this.selectedTab=e}}return n.\u0275fac=function(e){return new(e||n)(i.Y36(N.Dx))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-identificacion-riesgo"]],viewQuery:function(e,o){if(1&e&&i.Gf(Io,5),2&e){let t;i.iGM(t=i.CRH())&&(o.stepper=t.first)}},decls:13,vars:12,consts:[[1,"background","p-5","pb-0"],[1,"d-flex","flex-wrap"],[1,"tab-style",3,"ngClass"],[1,"mb-5"],[4,"ngIf"],[3,"siguienteTab"]],template:function(e,o){1&e&&(i._UZ(0,"app-encabezado-private"),i.TgZ(1,"section",0)(2,"div",1)(3,"div",2),i._uU(4," Identificaci\xf3n del Riesgo "),i.qZA(),i.TgZ(5,"div",2),i._uU(6," Entrevista psicol\xf3gica y emocional "),i.qZA(),i.TgZ(7,"div",2),i._uU(8," Sugerencia Apoyo Externo "),i.qZA()()(),i.TgZ(9,"div",3),i.YNc(10,Eo,2,0,"ng-container",4),i.YNc(11,So,2,0,"ng-container",4),i.YNc(12,No,2,0,"ng-container",4),i.qZA()),2&e&&(i.xp6(3),i.Q6J("ngClass",i.VKq(6,j,1==o.selectedTab)),i.xp6(2),i.Q6J("ngClass",i.VKq(8,j,2==o.selectedTab)),i.xp6(2),i.Q6J("ngClass",i.VKq(10,j,3==o.selectedTab)),i.xp6(3),i.Q6J("ngIf",1==o.selectedTab),i.xp6(1),i.Q6J("ngIf",2==o.selectedTab),i.xp6(1),i.Q6J("ngIf",3==o.selectedTab))},directives:[L.D,g.mk,g.O5,Fe,ho,Do],styles:["div[_ngcontent-%COMP%]{animation-delay:1s}.tab-style[_ngcontent-%COMP%]{font-size:16px;white-space:nowrap;margin-right:1.5rem;color:#aaa;border-color:#aaa}.tab-style.active[_ngcontent-%COMP%]{color:#0168b3;border-color:#0168b3}.background[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px}.background-top[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px 10px 0 0}.background-bottom[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:0 0 10px 10px}"]}),n})();const Po=[{path:"",component:li,children:[{path:"casos",component:ei.C},{path:"seguimientos",component:si.L},{path:"",redirectTo:"casos"},{path:"generar-seguimiento/:id",component:ri.i},{path:"ejecutar-seguimiento/:id",component:ai.y},{path:"decision-seguimiento/:id",component:ni.H},{path:"seguimiento-pard/:id",component:ti.y},{path:"consulta-general/:id",component:oi.b}]},{path:"resumen/:idSolicitud",component:G},{path:"resumen",component:G},{path:"identificacion-riesgo",component:X},{path:"identificacion-riesgo/:idSolicitud",component:X}];let yo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[E.Bz.forChild(Po)],E.Bz]}),n})(),Ro=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[g.ez,ii.m,yo]]}),n})()}}]);