"use strict";(self.webpackChunkCO_1030_COMISARIA=self.webpackChunkCO_1030_COMISARIA||[]).push([[671],{9340:(qi,A,l)=>{l.r(A),l.d(A,{PublicModule:()=>Ti});var d=l(9808),p=l(8385),n=l(3075),c=l(4854),C=l(2070),g=l(2824),i=l(5e3),b=l(8966),U=l(520);let x=(()=>{class t{constructor(o){this.http=o,this.api=c.n6+"/Cita"}getComisarias(o){return this.http.get(`${this.api}/consultarComisarias?ciudmunID=${o}`)}getCitas(o){return this.http.get(`${this.api}/consultarDisponibilidadCitas?idComisaria=${o}`)}getDepartamentos(){return this.http.get(`${this.api}/consultarDepartamentos`)}getCiudades(o){return this.http.get(`${this.api}/consultarCiudadesMunicipios?depID=${o}`)}crearCita(o){return this.http.post(`${this.api}/crearCita`,o)}getDisponibilidadCitas(o){return this.http.get(`${this.api}/reservarObtenerDisponibilidadCita?idCita=${o}`)}}return t.\u0275fac=function(o){return new(o||t)(i.LFG(U.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=l(5620),O=l(9082),M=l(6248),k=l(6326);function y(t,a){if(1&t&&(i.TgZ(0,"option",21),i._uU(1),i.qZA()),2&t){const o=a.$implicit;i.Q6J("value",o.depID),i.xp6(1),i.hij(" ",o.nombDep," ")}}function I(t,a){if(1&t&&(i.TgZ(0,"div",22),i._uU(1),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.hij(" ",o.departamento," ")}}function D(t,a){if(1&t&&(i.TgZ(0,"option",21),i._uU(1),i.qZA()),2&t){const o=a.$implicit;i.Q6J("value",o.ciudmunID),i.xp6(1),i.hij(" ",o.nombCiudMun," ")}}function w(t,a){if(1&t&&(i.TgZ(0,"div",22),i._uU(1),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.hij(" ",o.ciudad," ")}}const T=function(t){return{"input-req":t}};let N=(()=>{class t{constructor(o,e,r,s,m,h){this.fb=o,this.dialog=e,this.router=r,this.comisariaService=s,this.store=m,this.sharedService=h,this.mostrarValidaciones=!1,this.listaComisarias=[],this.listaDepartamentos=[],this.listaCiudad=[]}ngOnInit(){this.cargarForm(),this.consultarDepartamentos(),this.sharedService.emitirModulo(!1)}cargarForm(){this.searchForm=this.fb.group({departamento:["",n.kI.required],ciudad:["",n.kI.required]})}consultarDepartamentos(){this.comisariaService.getDepartamentos().subscribe(o=>{o.statusCode===c.jh.OK&&(this.listaDepartamentos=o.data.datosPaginados)})}getCiudades(o){this.comisariaService.getCiudades(o.target.value).subscribe(r=>{r.statusCode===c.jh.OK&&(this.listaCiudad=r.data.datosPaginados,this.searchForm.controls.ciudad.setValue(""))})}get departamento(){var o;return(null===(o=this.searchForm.get("departamento"))||void 0===o?void 0:o.hasError("required"))?c.q4.CAMPO_OBLIGATORIO:""}get ciudad(){var o;return(null===(o=this.searchForm.get("ciudad"))||void 0===o?void 0:o.hasError("required"))?c.q4.CAMPO_OBLIGATORIO:""}buscarComisaria(){this.searchForm.valid?(this.store.dispatch((0,g.ur)()),this.getComisaria(),this.router.navigate(["/public/comisaria"])):this.mostrarValidaciones=!0}getComisaria(){const{ciudad:o}=this.searchForm.value;this.comisariaService.getComisarias(+o).subscribe(e=>{if(e.statusCode===c.jh.OK){const{totalRegistros:r}=e.data;e.data.datosPaginados.item2.length>0&&r>0&&(this.listaComisarias=e.data.datosPaginados.item2,this.listaComisarias.forEach(s=>s.seleccionado=!1),this.store.dispatch((0,g.Rt)({comisaria:this.listaComisarias,item:e.data.datosPaginados.item1})),this.store.dispatch((0,g.iy)()),this.mostrarMensajeLlamada(e.data.datosPaginados.item1))}})}mostrarMensajeLlamada(o){o?this.modalInformacion(o,this.dialog,"assets/images/telefono.svg"):this.modalInformacion(c.q4.MENSAJE_CITA,this.dialog,"assets/images/exclamacion.svg")}modalInformacion(o,e,r){C.B.modalInformacion(o,e,r)}}return t.\u0275fac=function(o){return new(o||t)(i.Y36(n.qu),i.Y36(b.uw),i.Y36(p.F0),i.Y36(x),i.Y36(_.yh),i.Y36(O.F))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-main"]],decls:38,vars:11,consts:[[1,"min-vh-100","container-fluid"],[1,"row","mt-5","ms-5"],[1,"col-lg-6"],[1,"title-normal","ps-4","box-title"],[1,"box-search","p-3"],[1,"subtitle-normal"],[1,"form-label"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-lg-4"],[1,"mb-3"],["for","departamento",1,"form-label"],["id","departamento","formControlName","departamento",1,"form-select",3,"ngClass","change"],["disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],["class","msj-req",4,"ngIf"],["for","ciudad",1,"form-label"],["id","ciudad","formControlName","ciudad",1,"form-select",3,"ngClass"],[1,"col-lg-4","d-flex","align-items-center","justify-content-center"],[1,"mt-3"],["type","submit",1,"btn","btn-primary"],["src","assets/images/busqueda.svg","alt","serach",1,"img-fluid","me-2"],[3,"value"],[1,"msj-req"]],template:function(o,e){1&o&&(i._UZ(0,"app-header"),i.TgZ(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3),i._uU(5," ESTAMOS PARA T\xcd, LAS COMISAR\xcdAS DE FAMILIA TE PROTEGEMOS "),i.qZA(),i.TgZ(6,"div",4)(7,"span",5),i._uU(8,"Solicita tu cita presencial"),i.qZA(),i.TgZ(9,"p",6),i._uU(10,"Ind\xedcanos donde est\xe1s ubicado."),i.qZA(),i.TgZ(11,"form",7),i.NdJ("ngSubmit",function(){return e.buscarComisaria()}),i.TgZ(12,"div",8)(13,"div",9)(14,"label",10),i._uU(15," Departamento* "),i.qZA(),i.TgZ(16,"select",11),i.NdJ("change",function(s){return e.getCiudades(s)}),i.TgZ(17,"option",12),i._uU(18,"Departamento"),i.qZA(),i.YNc(19,y,2,2,"option",13),i.qZA(),i.YNc(20,I,2,1,"div",14),i.qZA()(),i.TgZ(21,"div",8)(22,"div",9)(23,"label",15),i._uU(24," Ciudad / Municipio* "),i.qZA(),i.TgZ(25,"select",16)(26,"option",12),i._uU(27,"Ciudad/Municipio"),i.qZA(),i.YNc(28,D,2,2,"option",13),i.qZA(),i.YNc(29,w,2,1,"div",14),i.qZA()(),i.TgZ(30,"div",17)(31,"div",18)(32,"button",19),i._UZ(33,"img",20),i._uU(34," Buscar "),i.qZA()()()()()(),i._UZ(35,"div",2),i.qZA(),i._UZ(36,"router-outlet"),i.qZA(),i._UZ(37,"app-footer")),2&o&&(i.xp6(11),i.Q6J("formGroup",e.searchForm),i.xp6(5),i.Q6J("ngClass",i.VKq(7,T,""!==e.departamento&&e.mostrarValidaciones)),i.xp6(3),i.Q6J("ngForOf",e.listaDepartamentos),i.xp6(1),i.Q6J("ngIf",""!==e.departamento&&e.mostrarValidaciones),i.xp6(5),i.Q6J("ngClass",i.VKq(9,T,""!==e.ciudad&&e.mostrarValidaciones)),i.xp6(3),i.Q6J("ngForOf",e.listaCiudad),i.xp6(1),i.Q6J("ngIf",""!==e.ciudad&&e.mostrarValidaciones))},directives:[M.G,n._Y,n.JL,n.sg,n.EJ,n.JJ,n.u,d.mk,n.YN,n.Kr,d.sg,d.O5,p.lC,k.c],styles:["main[_ngcontent-%COMP%]{background:url(/assets/images/femmes.png) no-repeat;background-position:100%}.box-title[_ngcontent-%COMP%]{border-bottom:2px solid var(--lochmara)}.box-search[_ngcontent-%COMP%]{background-color:var(--white);box-shadow:0 5px 20px #6c757d3b;border:1px solid #00000033;border-radius:4px 4px 30px 30px;opacity:1}"]}),t})();var Z=l(2081),P=l(2602),J=l(7423);function V(t,a){if(1&t){const o=i.EpF();i.TgZ(0,"div",9)(1,"div",10)(2,"input",11),i.NdJ("click",function(){const s=i.CHM(o).$implicit,m=i.oxw().$implicit;return i.oxw().seleccionarHorario(m,s.idCita)}),i.qZA(),i.TgZ(3,"label",12),i._uU(4),i.qZA()()()}if(2&t){const o=a.$implicit;i.xp6(2),i.Q6J("id",o.idCita),i.xp6(1),i.Q6J("for",o.idCita),i.xp6(1),i.hij(" ",o.horaCita," ")}}function F(t,a){if(1&t&&(i.TgZ(0,"div",5)(1,"div",6)(2,"div",7),i._uU(3),i.ALo(4,"date"),i.qZA(),i.YNc(5,V,5,3,"div",8),i.qZA()()),2&t){const o=a.$implicit;i.xp6(3),i.hij(" ",i.xi3(4,2,o.fechaCita,"dd MMMM")," "),i.xp6(2),i.Q6J("ngForOf",o.citaHorasList)}}let S=(()=>{class t{constructor(o,e,r){this.store=o,this.comisariaService=e,this.dialog=r,this.selHorario=new i.vpe,this.listaCita=[],this.idCitaSel=0}ngOnDestroy(){this.subHorario&&this.subHorario.unsubscribe()}ngOnInit(){this.store.select("comisaria").subscribe(({comisaria:o})=>this.objComisaria=o),this.objComisaria&&(this.listaCita=this.objComisaria.disponibilidadCitasList)}seleccionarHorario(o,e){this.horarioSel=o,this.idCitaSel=e}validarHorarioSeleccionado(){this.idCitaSel>0?this.reservarHorario(this.idCitaSel):(this.selHorario.emit(!1),this.dialog.open(P.Q,{panelClass:"modal-info",data:{mensaje:"Seleccione un horario para continuar",image:"assets/images/exclamacion.svg"}}))}reservarHorario(o){this.comisariaService.getDisponibilidadCitas(o).subscribe(e=>{e.statusCode===c.jh.OK&&("Cita Reservada con exito"===e.data.datosPaginados?(this.store.dispatch((0,g.B9)({horario:this.horarioSel,idhoraCita:o})),this.selHorario.emit(!0)):(this.store.dispatch((0,g.iy)()),this.selHorario.emit(!1),C.B.modalInformacion(c.q4.MENSAJE_CITA_OC,this.dialog,"assets/images/exclamacion.svg")))})}}return t.\u0275fac=function(o){return new(o||t)(i.Y36(_.yh),i.Y36(x),i.Y36(b.uw))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-horario"]],outputs:{selHorario:"selHorario"},decls:7,vars:1,consts:[[1,"subtitle-normal","text-center","p-5"],[1,"d-flex","w-100","justify-content-center"],["class","d-flex",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-5","me-4",2,"width","78%"],["mat-button","",1,"btn","btn-primary",3,"click"],[1,"d-flex"],[1,"box-detail","me-5"],[1,"banner-detail"],["class","mt-3 d-flex justify-content-center align-items-center mb-3",4,"ngFor","ngForOf"],[1,"mt-3","d-flex","justify-content-center","align-items-center","mb-3"],[1,"form-check"],["type","radio","name","radio",1,"form-check-input",3,"id","click"],[1,"form-check-label","item-hour",3,"for"]],template:function(o,e){1&o&&(i.TgZ(0,"p",0),i._uU(1,"Selecciona la fecha y hora"),i.qZA(),i.TgZ(2,"div",1),i.YNc(3,F,6,5,"div",2),i.qZA(),i.TgZ(4,"div",3)(5,"button",4),i.NdJ("click",function(){return e.validarHorarioSeleccionado()}),i._uU(6," Continuar "),i.qZA()()),2&o&&(i.xp6(3),i.Q6J("ngForOf",e.listaCita))},directives:[d.sg,J.lW],pipes:[d.uU],styles:[".box-detail[_ngcontent-%COMP%]{background-color:var(--white);box-shadow:0 3px 20px #6c757d3b;border-radius:4px;width:219px}.box-detail[_ngcontent-%COMP%]   .banner-detail[_ngcontent-%COMP%]{align-items:center;background-color:var(--endeavour);box-shadow:0 3px 20px #6c757d3b;border-radius:4px;color:var(--white);display:flex;font-size:var(--font-22);height:56px;justify-content:center;opacity:1}.item-hour[_ngcontent-%COMP%]{font-weight:500}"]}),t})();function j(t,a){if(1&t&&(i.TgZ(0,"div",48),i._uU(1),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.hij(" ",o.msgObligatorio," ")}}function Q(t,a){if(1&t&&(i.TgZ(0,"div",48),i._uU(1),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.hij(" ",o.msgInvalido," ")}}function Y(t,a){if(1&t&&(i.TgZ(0,"div",48),i._uU(1),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.hij(" ",o.msgObligatorio," ")}}function E(t,a){if(1&t&&(i.TgZ(0,"div",48),i._uU(1),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.hij(" ",o.msgInvalido," ")}}function R(t,a){if(1&t&&(i.TgZ(0,"option",49),i._uU(1),i.qZA()),2&t){const o=a.$implicit;i.Q6J("value",o.id_Dominio),i.xp6(1),i.hij(" ",o.nombre_Dominio," ")}}function H(t,a){if(1&t&&(i.TgZ(0,"div",48),i._uU(1),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.hij(" ",o.msgObligatorio," ")}}function $(t,a){if(1&t&&(i.TgZ(0,"div",48),i._uU(1),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.hij(" ",o.msgObligatorio," ")}}function L(t,a){if(1&t&&(i.TgZ(0,"div",48),i._uU(1),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.hij(" ",o.msgInvalido," ")}}function B(t,a){if(1&t&&(i.TgZ(0,"div",48),i._uU(1),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.hij(" ",o.msgInvalido," ")}}function K(t,a){if(1&t&&(i.TgZ(0,"div",48),i._uU(1),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.hij(" ",o.msgObligatorio," ")}}function z(t,a){if(1&t&&(i.TgZ(0,"div",48),i._uU(1),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.hij(" ",o.msgCorreoInv," ")}}function G(t,a){1&t&&(i.TgZ(0,"div",50),i._uU(1," Diligencie al menos un campo de datos de contacto "),i.qZA())}function X(t,a){if(1&t&&(i.TgZ(0,"div",48),i._uU(1),i.qZA()),2&t){const o=i.oxw();i.xp6(1),i.hij(" ",o.msgObligatorio," ")}}function W(t,a){1&t&&(i.TgZ(0,"div",48),i._uU(1," Debe aceptar la pol\xedtica de tratamiento de datos "),i.qZA())}const f=function(t){return{"input-req":t}};let ii=(()=>{class t{constructor(o,e,r,s,m,h){this.fb=o,this.store=e,this.comisariaService=r,this.datePipe=s,this.dialog=m,this.router=h,this.mostrarValidaciones=!1,this.msgObligatorio=c.q4.CAMPO_OBLIGATORIO,this.msgCorreoInv=c.q4.MENSAJE_CORREO_INV,this.msgInvalido=c.q4.MENSAJE_CAMPO_INV,this.listaTiposDocumentos=[],this.Regex=c.i$,this.listaTipoAtencion=[],this.idhoraCita=0}ngOnInit(){this.cargarForm(),this.store.select("comisaria").subscribe(({comisaria:o})=>this.objComisaria=o),this.store.select("horario").subscribe(({horario:o,idhoraCita:e})=>{this.objCita=o,this.idhoraCita=e}),this.store.select("tipo_documento").subscribe(({tipo_documento:o})=>this.listaTiposDocumentos=o)}cargarForm(){this.userForm=this.fb.group({idCiudadMunicipio:0,idComisaria:0,fechaCita:["",n.kI.required],horacita:["",n.kI.required],nombCiudadano:["",[n.kI.required,n.kI.pattern(c.i$.TEXTO)]],primerApellido:["",[n.kI.required,n.kI.pattern(c.i$.TEXTO)]],segundoApellido:"",tipoDocumento:["",n.kI.required],numeroDocumento:["",[n.kI.required,n.kI.pattern(c.i$.ALFA)]],direccResidencia:["",n.kI.required],telf:"",celular:"",correoElectronico:["",n.kI.pattern(c.i$.EMAIL)],datos:[!1,n.kI.requiredTrue],violenciaFisica:!1,violenciaPsico:!1,violenciaSex:!1,violenciaPat:!1,violenciaEco:!1,coercion:!1,tipoAtencionList:["",n.kI.required],idCita:"",contacto:["",n.kI.required]})}isRequired(o){return!!this.userForm.controls[o]&&this.userForm.controls[o].hasError("required")}patternValid(o){return!!this.userForm.controls[o]&&this.userForm.controls[o].hasError("pattern")}crearCita(){this.armarForm(),this.userForm.valid?(this.mostrarValidaciones=!1,this.comisariaService.crearCita(this.userForm.value).subscribe({next:o=>{o.statusCode===c.jh.OK&&(C.B.modalExito(`${c.q4.MENSAJE_EXITO_CITA}\n              <div class='message-modal-success'>${o.data.datosPaginados.nombComisaria} a las ${o.data.datosPaginados.horacita} de ${o.data.datosPaginados.fechacita}</div>`,"assets/images/check.svg",this.dialog),this.router.navigate(["/public"]))},error:()=>{C.B.modalInformacion(c.q4.MENSAJE_ERROR,this.dialog,"assets/images/exclamacion.svg")}})):this.mostrarValidaciones=!0}armarForm(){if(this.objCita.citaHorasList){const o=this.objCita.citaHorasList.find(e=>e.idCita===this.idhoraCita);this.userForm.patchValue({idCiudadMunicipio:this.objComisaria.idCiudadMunicipio,idComisaria:this.objComisaria.comisariaID,fechaCita:this.datePipe.transform(this.objCita.fechaCita,"yyyy-MM-dd"),horacita:null==o?void 0:o.horaCita,tipoAtencionList:this.listaTipoAtencion,idCita:null==o?void 0:o.idCita}),this.validarDatosContacto()}}armarArrayTipoAtencion(o){const e=+o.target.value;o.target.checked?this.listaTipoAtencion.push(e):this.listaTipoAtencion=this.listaTipoAtencion.filter(r=>r!==e)}validarDatosContacto(){const{telf:o,celular:e,correoElectronico:r}=this.userForm.value;this.userForm.controls.contacto.setValue(o||e||r?"ok":null)}}return t.\u0275fac=function(o){return new(o||t)(i.Y36(n.qu),i.Y36(_.yh),i.Y36(x),i.Y36(d.uU),i.Y36(b.uw),i.Y36(p.F0))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-usuario"]],features:[i._Bn([d.uU])],decls:114,vars:33,consts:[["autocomplete","off",1,"d-flex","flex-column","mt-4","w-50","mx-auto",3,"formGroup","submit"],[1,"subtitle-normal"],[1,"row","justify-content-center"],[1,"col-lg-6"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombCiudadano","maxlength","50",1,"form-control",3,"ngClass"],["class","msj-req",4,"ngIf"],["for","apellido1",1,"form-label"],["type","text","id","apellido1","formControlName","primerApellido","maxlength","50",1,"form-control",3,"ngClass"],["for","apellido2",1,"form-label"],["type","text","id","apellido2","formControlName","segundoApellido","maxlength","50",1,"form-control"],["for","tipoDoc",1,"form-label"],["formControlName","tipoDocumento","id","tipoDoc",1,"form-select",3,"ngClass"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","numDoc",1,"form-label"],["type","text","id","numDoc","formControlName","numeroDocumento","maxlength","20",1,"form-control",3,"ngClass"],["for","dirRes",1,"form-label"],["type","text","id","dirRes","formControlName","direccResidencia","maxlength","50",1,"form-control",3,"ngClass"],["for","tel",1,"form-label"],["type","number","id","tel","formControlName","telf","maxlength","15","min","1",1,"form-control"],["for","cel",1,"form-label"],["type","number","id","cel","formControlName","celular","maxlength","10","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",1,"form-control"],["for","email",1,"form-label"],["type","email","id","email","formControlName","correoElectronico","maxlength","50",1,"form-control",3,"ngClass"],["class","msj-req mb-4",4,"ngIf"],[1,"data-case"],[1,"col-lg-4"],[1,"form-check"],["type","checkbox","id","flexCheckDefault1","formControlName","violenciaFisica","value","1",1,"form-check-input",3,"click"],["for","flexCheckDefault1",1,"form-check-label"],["type","checkbox","id","flexCheckDefault2","formControlName","violenciaPsico","value","2",1,"form-check-input",3,"click"],["for","flexCheckDefault2",1,"form-check-label"],["type","checkbox","id","flexCheckDefault3","formControlName","violenciaSex","value","3",1,"form-check-input",3,"click"],["for","flexCheckDefault3",1,"form-check-label"],["type","checkbox","id","flexCheckDefault4","formControlName","violenciaPat","value","4",1,"form-check-input",3,"click"],["for","flexCheckDefault4",1,"form-check-label"],["type","checkbox","id","flexCheckDefault5","formControlName","violenciaEco","value","5",1,"form-check-input",3,"click"],["for","flexCheckDefault5",1,"form-check-label"],["type","checkbox","id","flexCheckDefault6","formControlName","coercion","value","6",1,"form-check-input",3,"click"],["for","flexCheckDefault6",1,"form-check-label"],[1,"form-check","mt-5"],["type","checkbox","id","acepta","formControlName","datos",1,"form-check-input"],["for","acepta",1,"form-check-label","accept-check"],["href","https://www.minjusticia.gov.co/servicio-ciudadano/Paginas/politica-proteccion-datos-personales.aspx","target","_blank","rel","noopener"],[1,"d-flex","justify-content-end","mt-3"],["type","submit",1,"btn","btn-primary"],[1,"msj-req"],[3,"value"],[1,"msj-req","mb-4"]],template:function(o,e){1&o&&(i.TgZ(0,"form",0),i.NdJ("submit",function(){return e.crearCita()}),i.TgZ(1,"p",1),i._uU(2,"Datos Personales"),i.qZA(),i.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),i._uU(7,"Nombres ciudadano*"),i.qZA(),i._UZ(8,"input",6),i.YNc(9,j,2,1,"div",7),i.YNc(10,Q,2,1,"div",7),i.qZA()(),i.TgZ(11,"div",3)(12,"div",4)(13,"label",8),i._uU(14," Primer Apellido*"),i.qZA(),i._UZ(15,"input",9),i.YNc(16,Y,2,1,"div",7),i.YNc(17,E,2,1,"div",7),i.qZA()()(),i.TgZ(18,"div",2)(19,"div",3)(20,"div",4)(21,"label",10),i._uU(22,"Segundo Apellido"),i.qZA(),i._UZ(23,"input",11),i.qZA()(),i.TgZ(24,"div",3)(25,"div",4)(26,"label",12),i._uU(27,"Tipo de documento*"),i.qZA(),i.TgZ(28,"select",13)(29,"option",14),i._uU(30,"Tipo de documento"),i.qZA(),i.YNc(31,R,2,2,"option",15),i.qZA(),i.YNc(32,H,2,1,"div",7),i.qZA()()(),i.TgZ(33,"div",2)(34,"div",3)(35,"div",4)(36,"label",16),i._uU(37,"N\xfamero de documento*"),i.qZA(),i._UZ(38,"input",17),i.YNc(39,$,2,1,"div",7),i.YNc(40,L,2,1,"div",7),i.YNc(41,B,2,1,"div",7),i.qZA()(),i.TgZ(42,"div",3)(43,"div",4)(44,"label",18),i._uU(45," Direcci\xf3n de residencia*"),i.qZA(),i._UZ(46,"input",19),i.YNc(47,K,2,1,"div",7),i.qZA()()(),i.TgZ(48,"p",1),i._uU(49,"Datos de Contacto"),i.qZA(),i.TgZ(50,"div",2)(51,"div",3)(52,"div",4)(53,"label",20),i._uU(54,"Tel\xe9fono"),i.qZA(),i._UZ(55,"input",21),i.qZA()(),i.TgZ(56,"div",3)(57,"div",4)(58,"label",22),i._uU(59," Celular "),i.qZA(),i._UZ(60,"input",23),i.qZA()()(),i.TgZ(61,"div",4)(62,"label",24),i._uU(63,"Correo electr\xf3nico"),i.qZA(),i._UZ(64,"input",25),i.YNc(65,z,2,1,"div",7),i.qZA(),i.YNc(66,G,2,0,"div",26),i.TgZ(67,"p",1),i._uU(68,"Datos del caso"),i.qZA(),i.TgZ(69,"p",27),i._uU(70," \xbfQu\xe9 tipos de violencia viviste en el caso a reportar?* "),i.qZA(),i.TgZ(71,"div",2)(72,"div",28)(73,"div",29)(74,"input",30),i.NdJ("click",function(s){return e.armarArrayTipoAtencion(s)}),i.qZA(),i.TgZ(75,"label",31),i._uU(76," Violencia f\xedsica "),i.qZA()()(),i.TgZ(77,"div",28)(78,"div",29)(79,"input",32),i.NdJ("click",function(s){return e.armarArrayTipoAtencion(s)}),i.qZA(),i.TgZ(80,"label",33),i._uU(81," Violencia psicol\xf3gica "),i.qZA()()(),i.TgZ(82,"div",28)(83,"div",29)(84,"input",34),i.NdJ("click",function(s){return e.armarArrayTipoAtencion(s)}),i.qZA(),i.TgZ(85,"label",35),i._uU(86," Violencia sexual "),i.qZA()()()(),i.TgZ(87,"div",2)(88,"div",28)(89,"div",29)(90,"input",36),i.NdJ("click",function(s){return e.armarArrayTipoAtencion(s)}),i.qZA(),i.TgZ(91,"label",37),i._uU(92," Violencia patrimonial "),i.qZA()()(),i.TgZ(93,"div",28)(94,"div",29)(95,"input",38),i.NdJ("click",function(s){return e.armarArrayTipoAtencion(s)}),i.qZA(),i.TgZ(96,"label",39),i._uU(97," Violencia econ\xf3mica "),i.qZA()()(),i.TgZ(98,"div",28)(99,"div",29)(100,"input",40),i.NdJ("click",function(s){return e.armarArrayTipoAtencion(s)}),i.qZA(),i.TgZ(101,"label",41),i._uU(102," Coerci\xf3n y amenazas "),i.qZA()()()(),i.YNc(103,X,2,1,"div",7),i.TgZ(104,"div",42),i._UZ(105,"input",43),i.TgZ(106,"label",44)(107,"a",45),i._uU(108," Acepto el tratamiento de datos"),i.qZA(),i._uU(109,"* "),i.qZA()(),i.YNc(110,W,2,0,"div",7),i.TgZ(111,"div",46)(112,"button",47),i._uU(113,"Continuar"),i.qZA()()()),2&o&&(i.Q6J("formGroup",e.userForm),i.xp6(8),i.Q6J("ngClass",i.VKq(21,f,e.isRequired("nombCiudadano")&&e.mostrarValidaciones||e.patternValid("nombCiudadano")&&e.mostrarValidaciones)),i.xp6(1),i.Q6J("ngIf",e.isRequired("nombCiudadano")&&e.mostrarValidaciones),i.xp6(1),i.Q6J("ngIf",e.patternValid("nombCiudadano")&&e.mostrarValidaciones),i.xp6(5),i.Q6J("ngClass",i.VKq(23,f,e.isRequired("primerApellido")&&e.mostrarValidaciones||e.patternValid("primerApellido")&&e.mostrarValidaciones)),i.xp6(1),i.Q6J("ngIf",e.isRequired("primerApellido")&&e.mostrarValidaciones),i.xp6(1),i.Q6J("ngIf",e.patternValid("primerApellido")&&e.mostrarValidaciones),i.xp6(11),i.Q6J("ngClass",i.VKq(25,f,e.isRequired("tipoDocumento")&&e.mostrarValidaciones)),i.xp6(3),i.Q6J("ngForOf",e.listaTiposDocumentos),i.xp6(1),i.Q6J("ngIf",e.isRequired("tipoDocumento")&&e.mostrarValidaciones),i.xp6(6),i.Q6J("ngClass",i.VKq(27,f,e.isRequired("numeroDocumento")&&e.mostrarValidaciones||e.patternValid("numeroDocumento")&&e.mostrarValidaciones)),i.xp6(1),i.Q6J("ngIf",e.isRequired("numeroDocumento")&&e.mostrarValidaciones),i.xp6(1),i.Q6J("ngIf",e.patternValid("numeroDocumento")&&e.mostrarValidaciones),i.xp6(1),i.Q6J("ngIf",e.patternValid("numeroDocumento")&&e.mostrarValidaciones),i.xp6(5),i.Q6J("ngClass",i.VKq(29,f,e.isRequired("direccResidencia")&&e.mostrarValidaciones)),i.xp6(1),i.Q6J("ngIf",e.isRequired("direccResidencia")&&e.mostrarValidaciones),i.xp6(17),i.Q6J("ngClass",i.VKq(31,f,e.patternValid("correoElectronico")&&e.mostrarValidaciones)),i.xp6(1),i.Q6J("ngIf",e.patternValid("correoElectronico")&&e.mostrarValidaciones),i.xp6(1),i.Q6J("ngIf",e.isRequired("contacto")&&e.mostrarValidaciones),i.xp6(37),i.Q6J("ngIf",e.isRequired("tipoAtencionList")&&e.mostrarValidaciones),i.xp6(7),i.Q6J("ngIf",e.isRequired("datos")&&e.mostrarValidaciones))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.nD,d.mk,d.O5,n.EJ,n.YN,n.Kr,d.sg,n.wV,n.qQ,n.Wl],styles:[".data-case[_ngcontent-%COMP%]{color:var(--shark);font-weight:500}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),t})();function oi(t,a){1&t&&i._uU(0,"Agenda tu cita")}function ti(t,a){1&t&&i._uU(0,"Completa tus datos")}let ei=(()=>{class t{constructor(o,e){this.fb=o,this.store=e,this.listaCita=[],this.nombreComisaria=""}ngOnInit(){this.horarioForm=this.fb.group({horario:[!1,n.kI.requiredTrue]}),this.store.select("comisaria").subscribe(({comisaria:o})=>this.nombreComisaria=null==o?void 0:o.nombComisaria)}validarHorarioSeleccionado(o,e){this.horarioForm.controls.horario.setValue(o),this.horarioForm.valid?e.next():e.previous()}}return t.\u0275fac=function(o){return new(o||t)(i.Y36(n.qu),i.Y36(_.yh))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-cita"]],decls:12,vars:3,consts:[[1,"box-citas","mt-5","mb-5"],[1,"banner-box","p-3"],["linear","","labelPosition","bottom"],["stepper",""],[3,"stepControl","editable"],["matStepLabel",""],[3,"selHorario"]],template:function(o,e){if(1&o){const r=i.EpF();i.TgZ(0,"div",0)(1,"div",1),i._uU(2),i.qZA(),i.TgZ(3,"div")(4,"mat-stepper",2,3)(6,"mat-step",4),i.YNc(7,oi,1,0,"ng-template",5),i.TgZ(8,"app-horario",6),i.NdJ("selHorario",function(m){i.CHM(r);const h=i.MAs(5);return e.validarHorarioSeleccionado(m,h)}),i.qZA()(),i.TgZ(9,"mat-step"),i.YNc(10,ti,1,0,"ng-template",5),i._UZ(11,"app-usuario"),i.qZA()()()()}2&o&&(i.xp6(2),i.hij(" Agendamiento de cita a Comisar\xeda de familia ",e.nombreComisaria," "),i.xp6(4),i.Q6J("stepControl",e.horarioForm)("editable",!1))},directives:[Z.Vq,Z.C0,Z.VY,S,ii],styles:[".box-citas[_ngcontent-%COMP%]{background:#edf0f2 0% 0% no-repeat padding-box;border:1px solid #e0e0e0;border-radius:5px;width:100%}.box-citas[_ngcontent-%COMP%]   .banner-box[_ngcontent-%COMP%]{align-items:center;background:#0168b3 0% 0% no-repeat padding-box;color:var(--white);display:flex;font-size:var(--font-21);font-weight:500;height:66px;opacity:1}  .mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{width:-moz-fit-content;width:fit-content;margin:0 auto}"]}),t})();var q=l(6087),u=l(2075),ai=l(7836);function ni(t,a){1&t&&(i.TgZ(0,"div",22),i._uU(1," Selecciona la comisar\xeda de familia donde deseas reportar tu caso. "),i.qZA())}function ri(t,a){if(1&t&&(i.TgZ(0,"div",23),i._UZ(1,"img",24),i.TgZ(2,"span"),i._uU(3),i.qZA()()),2&t){const o=i.oxw();i.xp6(3),i.hij(" ",o.llamadaDeVida," ")}}function si(t,a){1&t&&(i.TgZ(0,"div",5)(1,"span",25),i._UZ(2,"app-no-data",26),i.qZA()())}function li(t,a){1&t&&(i.TgZ(0,"div",31)(1,"span",32),i._uU(2," Sin disponibilidad de agenda"),i.qZA()())}function ci(t,a){1&t&&(i.TgZ(0,"div",33)(1,"span",32),i._uU(2," Comisar\xeda sin servicio de agendamiento online. Si tu caso es urgente ac\xe9rcate a la comisar\xeda pronto. "),i.qZA()())}function di(t,a){if(1&t){const o=i.EpF();i.TgZ(0,"mat-cell",27)(1,"input",28),i.NdJ("click",function(){const s=i.CHM(o).$implicit;return i.oxw().almacenarCodigoComisaria(s.comisariaID)}),i.qZA(),i.YNc(2,li,3,0,"div",29),i.YNc(3,ci,3,0,"div",30),i.qZA()}if(2&t){const o=a.$implicit;i.xp6(1),i.Q6J("disabled",!o.dispAgenda),i.xp6(1),i.Q6J("ngIf",o.cita_online&&!o.dispAgenda),i.xp6(1),i.Q6J("ngIf",!o.cita_online)}}const v=function(t){return{"text-disabled":t}};function mi(t,a){if(1&t&&(i.TgZ(0,"mat-cell",34)(1,"label",35),i._uU(2),i.qZA()()),2&t){const o=a.$implicit;i.Q6J("ngClass",i.VKq(2,v,!o.dispAgenda)),i.xp6(2),i.hij(" ",o.nombComisaria," ")}}function ui(t,a){if(1&t&&(i.TgZ(0,"mat-cell",34)(1,"div",36),i._uU(2),i.qZA()()),2&t){const o=a.$implicit;i.Q6J("ngClass",i.VKq(2,v,!o.dispAgenda)),i.xp6(2),i.hij(" ",o.horarioSemanal," ")}}function pi(t,a){if(1&t&&(i.TgZ(0,"mat-cell",34),i._uU(1),i.qZA()),2&t){const o=a.$implicit;i.Q6J("ngClass",i.VKq(2,v,!o.dispAgenda)),i.xp6(1),i.hij(" ",o.direccion," ")}}function gi(t,a){if(1&t&&(i.TgZ(0,"mat-cell",34)(1,"div")(2,"p"),i._uU(3),i.qZA(),i.TgZ(4,"p"),i._uU(5),i.qZA()()()),2&t){const o=a.$implicit;i.Q6J("ngClass",i.VKq(3,v,!o.dispAgenda)),i.xp6(3),i.Oqu(o.celular),i.xp6(2),i.Oqu(o.telefono)}}function fi(t,a){if(1&t&&(i.TgZ(0,"mat-cell",34),i._uU(1),i.qZA()),2&t){const o=a.$implicit;i.Q6J("ngClass",i.VKq(2,v,!o.dispAgenda)),i.xp6(1),i.hij(" ",o.correo_electronico," ")}}function hi(t,a){1&t&&i._UZ(0,"mat-row")}function Ci(t,a){1&t&&(i.TgZ(0,"div",37),i._UZ(1,"app-no-data",38),i.qZA())}const _i=function(t){return{display:t}},vi=function(){return[5,10,20]},bi=[{path:"",component:N,children:[{path:"comisaria",component:(()=>{class t{constructor(o,e,r){this.store=o,this.router=e,this.dialog=r,this.columnas=["accion","nombre","horario","direccion","telefono","correo"],this.dataSource=new u.by([]),this.listaComisaria=[],this.comisariaID=0,this.llamadaDeVida=""}ngOnDestroy(){this.subComisaria.unsubscribe()}ngOnInit(){this.subComisaria=this.store.select("comisariaList").subscribe(({comisaria:o,item:e})=>{o.length>0?(this.listaComisaria=o,this.dataSource=new u.by(this.listaComisaria),this.dataSource.paginator=this.paginator):(this.listaComisaria=[],this.dataSource=new u.by(this.listaComisaria)),this.llamadaDeVida=""!==e?e:""})}agendarCita(){if(this.comisariaID>0){const o=this.listaComisaria.find(r=>r.comisariaID===this.comisariaID);this.store.dispatch((0,g.k$)({comisaria:{idCiudadMunicipio:null==o?void 0:o.idCiudadMunicipio,comisariaID:null==o?void 0:o.comisariaID,nombComisaria:null==o?void 0:o.nombComisaria,direccion:null==o?void 0:o.direccion,telefono:null==o?void 0:o.telefono,celular:null==o?void 0:o.celular,correo_electronico:null==o?void 0:o.correo_electronico,horarioSemanal:null==o?void 0:o.horarioSemanal,dispAgenda:null==o?void 0:o.dispAgenda,disponibilidadCitasList:null==o?void 0:o.disponibilidadCitasList}})),this.router.navigate(["/public/cita"])}else C.B.modalInformacion(c.q4.MENSAJE_OBLIGATORIO,this.dialog,"assets/images/exclamacion.svg")}almacenarCodigoComisaria(o){this.comisariaID=o}}return t.\u0275fac=function(o){return new(o||t)(i.Y36(_.yh),i.Y36(p.F0),i.Y36(b.uw))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-comisaria"]],viewQuery:function(o,e){if(1&o&&i.Gf(q.NW,5),2&o){let r;i.iGM(r=i.CRH())&&(e.paginator=r.first)}},decls:28,vars:11,consts:[[3,"ngStyle"],[1,"box-grid","d-flex","flex-column","mt-5","ms-5","mb-5"],["class","message-grid p-4",4,"ngIf"],["class","message-grid w-auto d-flex p-4","style","width: fit-content !important; border-radius: 10px 10px 0px 0px",4,"ngIf"],["class","bg-white",4,"ngIf"],[1,"bg-white"],[1,"message-comisaria"],[1,"ms-4"],[3,"dataSource"],["matColumnDef","accion"],["class","first-cell",4,"matCellDef"],["matColumnDef","nombre"],[3,"ngClass",4,"matCellDef"],["matColumnDef","horario"],["matColumnDef","direccion"],["matColumnDef","telefono"],["matColumnDef","correo"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"mt-5",3,"pageSizeOptions"],[1,"d-flex","justify-content-end","align-items-center","m-5"],["type","button",1,"btn","btn-primary",3,"click"],["class","not-data-grid ms-5 mt-5 w-50",4,"ngIf"],[1,"message-grid","p-4"],[1,"message-grid","w-auto","d-flex","p-4",2,"width","fit-content !important","border-radius","10px 10px 0px 0px"],["src","assets/images/telefono.svg","alt","llamada-vida","width","43","height","43",1,"me-3"],[2,"font-weight","500"],["mensaje","Ac\xe9rcate de manera inmediata ya que una vez la autoridad competente tenga conocimiento de los hechos de violencia en el contexto familiar, deber\xe1 adoptar Medidas de Protecci\xf3n Provisionales"],[1,"first-cell"],["id","comisariaN","type","radio","name","check",1,"form-check-input",3,"disabled","click"],["class","row-message",4,"ngIf"],["class","row-no-cita",4,"ngIf"],[1,"row-message"],[1,"text-row"],[1,"row-no-cita"],[3,"ngClass"],["for","comisariaN"],[1,"width-cell"],[1,"not-data-grid","ms-5","mt-5","w-50"],["mensaje","Sin registros."]],template:function(o,e){1&o&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,ni,2,0,"div",2),i.YNc(3,ri,4,1,"div",3),i.YNc(4,si,3,0,"div",4),i.TgZ(5,"div",5)(6,"div",6)(7,"span",7),i._uU(8," Comisar\xedas de familia m\xe1s cercanas "),i.qZA()(),i.TgZ(9,"mat-table",8),i.ynx(10,9),i.YNc(11,di,4,3,"mat-cell",10),i.BQk(),i.ynx(12,11),i.YNc(13,mi,3,4,"mat-cell",12),i.BQk(),i.ynx(14,13),i.YNc(15,ui,3,4,"mat-cell",12),i.BQk(),i.ynx(16,14),i.YNc(17,pi,2,4,"mat-cell",12),i.BQk(),i.ynx(18,15),i.YNc(19,gi,6,5,"mat-cell",12),i.BQk(),i.ynx(20,16),i.YNc(21,fi,2,4,"mat-cell",12),i.BQk(),i.YNc(22,hi,1,0,"mat-row",17),i.qZA(),i._UZ(23,"mat-paginator",18),i.TgZ(24,"div",19)(25,"button",20),i.NdJ("click",function(){return e.agendarCita()}),i._uU(26," Continuar "),i.qZA()()()()(),i.YNc(27,Ci,2,0,"div",21)),2&o&&(i.Q6J("ngStyle",i.VKq(8,_i,e.dataSource.data.length>0?"block":"none")),i.xp6(2),i.Q6J("ngIf",!e.llamadaDeVida),i.xp6(1),i.Q6J("ngIf",e.llamadaDeVida),i.xp6(1),i.Q6J("ngIf",e.llamadaDeVida),i.xp6(5),i.Q6J("dataSource",e.dataSource),i.xp6(13),i.Q6J("matRowDefColumns",e.columnas),i.xp6(1),i.Q6J("pageSizeOptions",i.DdM(10,vi)),i.xp6(4),i.Q6J("ngIf",0===e.dataSource.data.length))},directives:[d.PC,d.O5,ai.d,u.BZ,u.w1,u.Dz,u.ev,d.mk,u.nj,u.Gk,q.NW],styles:[".box-grid[_ngcontent-%COMP%]{width:70%;background-color:transparent}.box-grid[_ngcontent-%COMP%]   .message-grid[_ngcontent-%COMP%]{background:var(--endeavour) 0% 0% no-repeat padding-box;color:var(--white);font-size:18px;height:66px;letter-spacing:.18px;opacity:1;display:flex;align-items:center}.box-grid[_ngcontent-%COMP%]   .message-comisaria[_ngcontent-%COMP%]{align-items:center;background-color:var(--white);color:var(--endeavour);display:flex;font-size:var(--font-22);font-weight:500;height:66px}.box-grid[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .box-grid[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;word-break:break-word}.box-grid[_ngcontent-%COMP%]   .mat-column-accion[_ngcontent-%COMP%]{flex:0 0 5%}.box-grid[_ngcontent-%COMP%]     .text-disabled{color:var(--shark);opacity:.5}.box-grid[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{position:relative;padding-bottom:2rem}.box-grid[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .first-cell[_ngcontent-%COMP%]   .row-message[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:30px;padding-left:10px;background-color:#ecb3b347;display:flex;align-items:center}.box-grid[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .first-cell[_ngcontent-%COMP%]   .row-message[_ngcontent-%COMP%]   .text-row[_ngcontent-%COMP%]{color:#e97b86;font-size:1rem;opacity:1}.box-grid[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .first-cell[_ngcontent-%COMP%]   .row-no-cita[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:30px;padding-left:10px;background-color:#ffd75e47;display:flex;align-items:center}.box-grid[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .first-cell[_ngcontent-%COMP%]   .row-no-cita[_ngcontent-%COMP%]   .text-row[_ngcontent-%COMP%]{color:var(--corn);letter-spacing:0px;font-size:1rem;opacity:1}.box-grid[_ngcontent-%COMP%]   .width-cell[_ngcontent-%COMP%]{width:140px;word-wrap:break-word}"]}),t})()},{path:"cita",component:ei}]}];let xi=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[p.Bz.forChild(bi)],p.Bz]}),t})();var Zi=l(7935),Ai=l(4466);let Ti=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[d.ez,xi,n.UX,Ai.m,Zi.M]]}),t})()}}]);