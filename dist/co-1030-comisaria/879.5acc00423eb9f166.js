"use strict";(self.webpackChunkCO_1030_COMISARIA=self.webpackChunkCO_1030_COMISARIA||[]).push([[879],{7879:(di,N,l)=>{l.r(N),l.d(N,{ComisarioModule:()=>ci});var p=l(9808),_=l(8385),S=l(7893),Y=l(3801),R=l(8320),j=l(1233),q=l(4540),V=l(3567),k=l(7760),Q=l(6126),o=l(5e3),L=l(1267);let P=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-comisario"]],decls:2,vars:0,template:function(i,t){1&i&&o._UZ(0,"app-encabezado-private")(1,"router-outlet")},directives:[L.D,_.lC],encapsulation:2}),e})();var r=l(3075),s=l(4854),d=l(2070),v=l(5698),M=l(520);let U=(()=>{class e{constructor(i){this.http=i,this.api=s.n6}getListaDominios(){return this.http.get(`${this.api}/Dominio/ListaDominio`).pipe((0,v.q)(1))}getListaDominiosPorGrupo(i){return this.http.get(`${this.api}/Dominio/DominioPorGrupo/${i}`).pipe((0,v.q)(1))}getDetallesDominio(i){return this.http.get(`${this.api}/Dominio/DominioDetalles/${i}`).pipe((0,v.q)(1))}postCrearNuevoDominio(i){return this.http.post(`${this.api}/Dominio/AgregarDominio`,i).pipe((0,v.q)(1))}postModificarDominio(i){return this.http.post(`${this.api}/Dominio/EditarDominio`,i).pipe((0,v.q)(1))}}return e.\u0275fac=function(i){return new(i||e)(o.LFG(M.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=l(8966),F=l(6912);function z(e,a){if(1&e&&o._UZ(0,"aurora-table",13),2&e){const i=o.oxw();let t;o.Q6J("data",i.dominios)("columns",i.columns)("actions",i.actions)("valueSearch",null==(t=i.myForm.get("nombreTipoDominio"))?null:t.value)("actionsGestionDominios",i.EnviarActionsGestionDominios)}}let B=(()=>{class e{constructor(i,t){this.dominiosService=i,this._dialog=t,this.EnviarActionsGestionDominios=!0,this.myForm=new r.cw({nombreTipoDominio:new r.NI("")}),this.dominios=[],this.columns=[{name:"nombreDominio",title:"Tipo de dominio",render:n=>n.replace("_"," ")},{name:"actions",title:"acciones"}],this.actions=[{imagen:"assets/images/irProceso.svg",tooltip:"Ver el grupo de este dominio",tooltipPosition:"right",accion:(n,m)=>{m.navigate(["/comisario/grupo-dominio/",n.nombreDominio])}}]}ngOnInit(){this.getListaDominios()}get hasFilter(){var i;return null===(i=this.myForm.get("nombreTipoDominio"))||void 0===i?void 0:i.value}getListaDominios(){this.dominiosService.getListaDominios().subscribe({next:i=>{i.statusCode===s.jh.OK?this.dominios=i.data:this.msgError()},error:()=>{this.msgError()}})}msgError(){d.B.modalExito(s.q4.MENSAJE_ERROR_G,s.x4.EXCLAMACION,this._dialog)}replaceSpaces(i){i.value=i.value.replace(/ /gi,"_")}}return e.\u0275fac=function(i){return new(i||e)(o.Y36(U),o.Y36(g.uw))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-gestion-dominios"]],decls:19,vars:2,consts:[[1,"background-gray","rounded-basic","p-4","mb-4",3,"formGroup"],[1,"row"],[1,"title-content","text-capitalize"],[1,"col-lg-4","form-group","mb-3"],["for","nombre",1,"form-label","text-capitalize"],["type","text","placeholder","Nombre del tipo dominio","formControlName","nombreTipoDominio","maxlength","50",1,"form-control",3,"input"],[1,"col-lg-4","form-group"],["for","nombre",1,"form-label","text-capitalize","opacity-0"],[1,"btn","btn-primary"],["src","assets/images/busqueda.svg","alt","serach",1,"img-fluid","me-2"],[1,"background-content-private","p-4","mb-4"],[1,"title-content","mb-3","text-capitalize"],[3,"data","columns","actions","valueSearch","actionsGestionDominios",4,"ngIf"],[3,"data","columns","actions","valueSearch","actionsGestionDominios"]],template:function(i,t){1&i&&(o.TgZ(0,"form",0)(1,"div",1)(2,"h3",2),o._uU(3,"Busqueda de Tipo de Dominios"),o.qZA(),o.TgZ(4,"div",3)(5,"label",4),o._uU(6,"Nombre del Tipo de Dominio"),o.qZA(),o.TgZ(7,"input",5),o.NdJ("input",function(m){return t.replaceSpaces(m.target)}),o.qZA()(),o.TgZ(8,"div",6)(9,"label",7),o._uU(10,"Nombre del Tipo de Dominio"),o.qZA(),o.TgZ(11,"button",8),o._UZ(12,"img",9),o._uU(13," Buscar "),o.qZA()()()(),o.TgZ(14,"div",10)(15,"div",1)(16,"p",11),o._uU(17," Listado de Tipos de Dominio "),o.qZA()(),o.YNc(18,z,1,5,"aurora-table",12),o.qZA()),2&i&&(o.Q6J("formGroup",t.myForm),o.xp6(18),o.Q6J("ngIf",t.dominios&&t.dominios.length))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.nD,p.O5,F.n],styles:[".title-content[_ngcontent-%COMP%]{color:var(--endeavour);font-size:var(--font-24);font-weight:500;letter-spacing:.2px;opacity:1}.control-width[_ngcontent-%COMP%]{max-width:100%}"]}),e})();function $(e,a){if(1&e&&(o.TgZ(0,"div",16),o._uU(1),o.qZA()),2&e){const i=o.oxw(2);o.xp6(1),o.hij(" ",i.msgObligatorio," ")}}function K(e,a){if(1&e&&(o.TgZ(0,"div",16),o._uU(1),o.qZA()),2&e){const i=o.oxw(2);o.xp6(1),o.hij(" ",i.msgObligatorio," ")}}const E=function(e){return{"input-req":e}};function H(e,a){if(1&e){const i=o.EpF();o.TgZ(0,"div")(1,"form",1)(2,"div",2)(3,"div",3)(4,"fieldset",4)(5,"legend",5),o._uU(6," Crear Nuevo Dominio "),o.qZA(),o.TgZ(7,"div",6)(8,"div",7)(9,"label"),o._uU(10,"Nombre del Dominio: "),o.qZA()(),o.TgZ(11,"div",8),o._UZ(12,"input",9),o.qZA()(),o.YNc(13,$,2,1,"div",10),o.TgZ(14,"div",6)(15,"div",7)(16,"label"),o._uU(17,"C\xf3digo del Dominio: "),o.qZA()(),o.TgZ(18,"div",8),o._UZ(19,"input",11),o.qZA()(),o.YNc(20,K,2,1,"div",10),o._UZ(21,"br"),o.qZA()()(),o.TgZ(22,"div",12)(23,"div",3)(24,"span"),o._uU(25,"\xbfEst\xe1 seguro de crear este dominio?"),o.qZA()()(),o.TgZ(26,"div",13)(27,"button",14),o.NdJ("click",function(){return o.CHM(i),o.oxw().cerrarModal()}),o._uU(28," Cancelar "),o.qZA(),o.TgZ(29,"button",15),o.NdJ("click",function(){return o.CHM(i),o.oxw().guardar()}),o._uU(30," Continuar "),o.qZA()()()()}if(2&e){const i=o.oxw();o.xp6(1),o.Q6J("formGroup",i.formCrear),o.xp6(11),o.Q6J("ngClass",o.VKq(5,E,i.isRequiredCrear("nombreDominio")&&i.mostrarValidaciones)),o.xp6(1),o.Q6J("ngIf",i.isRequiredCrear("nombreDominio")&&i.mostrarValidaciones),o.xp6(6),o.Q6J("ngClass",o.VKq(7,E,i.isRequiredCrear("codigoDominio")&&i.mostrarValidaciones)),o.xp6(1),o.Q6J("ngIf",i.isRequiredCrear("codigoDominio")&&i.mostrarValidaciones)}}function X(e,a){if(1&e){const i=o.EpF();o.TgZ(0,"div")(1,"form",1)(2,"div",2)(3,"div",3)(4,"fieldset",4)(5,"legend",5),o._uU(6," Modificar Dominio "),o.qZA(),o.TgZ(7,"div",6)(8,"div",7)(9,"label"),o._uU(10,"Nombre del Dominio: "),o.qZA()(),o.TgZ(11,"div",8),o._UZ(12,"input",17),o.qZA()(),o.TgZ(13,"div",6)(14,"div",7)(15,"label"),o._uU(16,"C\xf3digo del Dominio: "),o.qZA()(),o.TgZ(17,"div",8),o._UZ(18,"input",18),o.qZA()(),o.TgZ(19,"div",6)(20,"div",7)(21,"label"),o._uU(22,"Estado: "),o.qZA()(),o.TgZ(23,"div",8)(24,"div",19),o._UZ(25,"input",20),o.TgZ(26,"label",21),o._uU(27,"Activo"),o.qZA()(),o.TgZ(28,"div",19),o._UZ(29,"input",22),o.TgZ(30,"label",23),o._uU(31,"Inactivo"),o.qZA()()()(),o._UZ(32,"br"),o.qZA()()(),o.TgZ(33,"div",12)(34,"div",3)(35,"span"),o._uU(36,"\xbfEst\xe1 seguro de modificar este dominio?"),o.qZA()()(),o.TgZ(37,"div",13)(38,"button",14),o.NdJ("click",function(){return o.CHM(i),o.oxw().cerrarModal()}),o._uU(39," Cancelar "),o.qZA(),o.TgZ(40,"button",15),o.NdJ("click",function(){return o.CHM(i),o.oxw().guardar()}),o._uU(41," Continuar "),o.qZA()()()()}if(2&e){const i=o.oxw();o.xp6(1),o.Q6J("formGroup",i.formModificar),o.xp6(24),o.Q6J("value",!0),o.xp6(4),o.Q6J("value",!1)}}let I=(()=>{class e{constructor(i,t,n,m,u,f){this.fb=i,this.modales=t,this.gestionDominioService=n,this._dialog=m,this.matDialogRef=u,this.data=f,this.mostrarValidaciones=!1,this.msgObligatorio=s.q4.CAMPO_OBLIGATORIO,this.detallesDominio={activo:!0,codigo:"",id:0,nombreDominio:"",tipoLista:""}}ngOnInit(){this.data.flag?this.cargarFormCrear():(this.cargarFormModificar(),this.cargarDetallesDominio())}cargarFormCrear(){this.formCrear=this.fb.group({nombreDominio:["",[r.kI.required]],codigoDominio:["",[r.kI.required]]})}cargarFormModificar(){this.formModificar=this.fb.group({nombreDominio:["",[r.kI.required]],codigoDominio:["",[r.kI.required]],estado:[,[r.kI.required]]})}cargarDetallesDominio(){this.gestionDominioService.getDetallesDominio(this.data.idDominio).subscribe({next:i=>{i.statusCode===s.jh.OK?(this.detallesDominio=i.data,this.formModificar.controls.nombreDominio.setValue(this.detallesDominio.nombreDominio),this.formModificar.controls.codigoDominio.setValue(this.detallesDominio.codigo),this.formModificar.controls.estado.setValue(this.detallesDominio.activo)):this.msgError()},error:()=>{this.msgError()}})}isRequiredCrear(i){return this.formCrear.controls[i].hasError("required")}isRequiredModificar(i){return this.formModificar.controls[i].hasError("required")}agregarNuevoDominio(i){this.gestionDominioService.postCrearNuevoDominio(i).subscribe({next:t=>{t.statusCode===s.jh.OK?this.mensajeConfirmacion("Dominio creado con \xe9xito"):this.modales.modalInformacion(s.q4.MENSAJE_ERROR_G)},error:()=>{d.B.modalExito("El c\xf3digo del dominio ya existe",s.x4.EXCLAMACION,this._dialog)}})}modificarDominio(i){this.gestionDominioService.postModificarDominio(i).subscribe({next:t=>{t.statusCode===s.jh.OK?this.mensajeConfirmacion("Informaci\xf3n del dominio modificada con \xe9xito"):this.modales.modalInformacion(s.q4.MENSAJE_ERROR_G)},error:()=>{d.B.modalExito("El nombre o codigo de dominio ya existe",s.x4.EXCLAMACION,this._dialog)}})}guardar(){this.mostrarValidaciones=!1,this.data.flag?this.formCrear.invalid?this.mostrarValidaciones=!0:this.agregarNuevoDominio(this.getDataPostDominio):this.formModificar.invalid?this.mostrarValidaciones=!0:this.modificarDominio(this.getDataModificarDominio)}cerrarModal(){this.matDialogRef.close(!1)}mensajeConfirmacion(i){this.modales.modalExito(i).subscribe(()=>{this.matDialogRef.close(!0)})}get getDataPostDominio(){var i,t;return{tipoDominio:this.data.tipoDominio,nombreDominio:null===(i=this.formCrear.get("nombreDominio"))||void 0===i?void 0:i.value,codigo:null===(t=this.formCrear.get("codigoDominio"))||void 0===t?void 0:t.value,tipoLista:"Lista"}}get getDataModificarDominio(){var i,t,n;return{activo:null===(i=this.formModificar.get("estado"))||void 0===i?void 0:i.value,codigo:null===(t=this.formModificar.get("codigoDominio"))||void 0===t?void 0:t.value,id:this.data.idDominio,nombreDominio:null===(n=this.formModificar.get("nombreDominio"))||void 0===n?void 0:n.value,tipoLista:"LISTA"}}msgError(){d.B.modalExito(s.q4.MENSAJE_ERROR_G,s.x4.EXCLAMACION,this._dialog)}}return e.\u0275fac=function(i){return new(i||e)(o.Y36(r.qu),o.Y36(d.B),o.Y36(U),o.Y36(g.uw),o.Y36(g.so),o.Y36(g.WI))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-modal-dominio"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","flex-column","box-modal-info",3,"formGroup"],[1,"row","w-100"],[1,"col-12"],[1,"border","border-primary","p-2"],[1,"float-none","w-75","p-2","text-primary"],[1,"row","p-2","m-0"],[1,"col-5"],[1,"col-7","pe-4"],["type","text","maxlength","50","formControlName","nombreDominio","placeholder","Nombre del Dominio",1,"form-control",3,"ngClass"],["class","msj-req offset-7",4,"ngIf"],["type","text","maxlength","10","formControlName","codigoDominio","placeholder","C\xf3digo del Dominio",1,"form-control",3,"ngClass"],[1,"row","pt-3","pb-1"],[1,"d-flex","mt-2",2,"gap","1rem"],["type","button",1,"btn","btn-danger","px-3",2,"min-width","144px",3,"click"],["type","button",1,"btn","btn-primary","px-3",2,"min-width","144px",3,"click"],[1,"msj-req","offset-7"],["type","text","maxlength","50","formControlName","nombreDominio","placeholder","Nombre del Dominio",1,"form-control"],["type","text","maxlength","10","disabled","true","formControlName","codigoDominio","placeholder","C\xf3digo del Dominio",1,"form-control"],[1,"form-check","form-check-inline"],["type","radio","id","activo","formControlName","estado",1,"form-check-input",3,"value"],["for","activo",1,"form-label"],["type","radio","id","inactivo","formControlName","estado",1,"form-check-input",3,"value"],["for","inactivo",1,"form-label"]],template:function(i,t){1&i&&(o.YNc(0,H,31,9,"div",0),o.YNc(1,X,42,3,"div",0)),2&i&&(o.Q6J("ngIf",t.data.flag),o.xp6(1),o.Q6J("ngIf",!t.data.flag))},directives:[p.O5,r._Y,r.JL,r.sg,r.Fj,r.nD,r.JJ,r.u,p.mk,r._],styles:[""]}),e})();var W=l(5245);function oo(e,a){if(1&e&&o._UZ(0,"aurora-table",17),2&e){const i=o.oxw();let t;o.Q6J("data",i.dominios)("columns",i.columns)("actions",i.actions)("valueSearch",null==(t=i.myForm.get("nombreDominio"))?null:t.value)("actionsGestionGrupos",i.EnviarActionsGestionGrupos)}}const io=function(){return["../../gestion-dominios"]};let eo=(()=>{class e{constructor(i,t,n,m){this._activedRouter=i,this.gestionDominioService=t,this._dialog=n,this.fb=m,this.myForm=new r.cw({nombreDominio:new r.NI("")}),this.tipoDominio="",this.EnviarActionsGestionGrupos=!0,this.dominios=[],this.columns=[{name:"id",title:"id del dominio"},{name:"codigo",title:"C\xf3digo del dominio"},{name:"nombre",title:"nombre del dominio",render:u=>u.replace("_"," ")},{name:"actions",title:"acciones"}],this.actions=[{icon:"edit",tooltip:"Modificar dominio",tooltipPosition:"right",accion:u=>{this.abrirModalModificarDominio(u.id)}}]}ngOnInit(){this.getTipoDominio(),this.getGrupoDominio()}getTipoDominio(){this._activedRouter.params.subscribe(i=>{this.tipoDominio=i.tipoDominio})}cargarForm(){this.myForm=this.fb.group({})}getGrupoDominio(){this.gestionDominioService.getListaDominiosPorGrupo(this.tipoDominio).subscribe({next:i=>{i.statusCode===s.jh.OK?this.dominios=i.data:this.msgError()},error:()=>{this.msgError()}})}abrirModalCrearDominio(){this._dialog.open(I,{panelClass:"roundedModal",disableClose:!0,minWidth:"600px",minHeight:"300px",data:{tipoDominio:this.tipoDominio,flag:!0}}).afterClosed().subscribe(t=>{!0===t&&this.getGrupoDominio()})}abrirModalModificarDominio(i){this._dialog.open(I,{panelClass:"roundedModal",disableClose:!0,width:"600px",height:"400px",data:{tipoDominio:this.tipoDominio,flag:!1,idDominio:i}}).afterClosed().subscribe(n=>{!0===n&&this.getGrupoDominio()})}msgError(){d.B.modalExito(s.q4.MENSAJE_ERROR_G,s.x4.EXCLAMACION,this._dialog)}replaceSpaces(i){i.value=i.value.replace(/ /gi,"_")}}return e.\u0275fac=function(i){return new(i||e)(o.Y36(_.gz),o.Y36(U),o.Y36(g.uw),o.Y36(r.qu))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-grupo-dominio"]],decls:27,vars:5,consts:[[1,"background-gray","rounded-basic","p-4","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","d-flex","align-items-center","gap-3","mb-3"],[1,"title-content","d-flex","align-items-center","text-decoration-none",2,"font-size","14px !important",3,"routerLink"],[1,"material-icons-outlined"],[1,"title-content","text-capitalize","m-0"],[1,"col-lg-4","form-group","mb-3"],["for","nombre",1,"form-label","text-capitalize"],["type","text","placeholder","Nombre del tipo dominio","formControlName","nombreDominio","maxlength","50",1,"form-control"],[1,"col-lg-4","form-group"],["for","nombre",1,"form-label","text-capitalize","opacity-0"],[1,"btn","btn-primary"],["src","assets/images/busqueda.svg","alt","serach",1,"img-fluid","me-2"],[1,"background-content-private","p-4","mb-4"],[1,"d-flex","align-items-center","gap-3","mb-3"],[1,"btn","button-new",3,"click"],[3,"data","columns","actions","valueSearch","actionsGestionGrupos",4,"ngIf"],[3,"data","columns","actions","valueSearch","actionsGestionGrupos"]],template:function(i,t){1&i&&(o.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"mat-icon",4),o._uU(5,"keyboard_arrow_left "),o.qZA(),o.TgZ(6,"span"),o._uU(7,"Volver"),o.qZA()(),o.TgZ(8,"h3",5),o._uU(9," Busqueda de Tipo de Dominios "),o.qZA()(),o.TgZ(10,"div",6)(11,"label",7),o._uU(12,"Nombre del Tipo de Dominio"),o.qZA(),o._UZ(13,"input",8),o.qZA(),o.TgZ(14,"div",9)(15,"label",10),o._uU(16,"Nombre del Tipo de Dominio"),o.qZA(),o.TgZ(17,"button",11),o._UZ(18,"img",12),o._uU(19," Buscar "),o.qZA()()()(),o.TgZ(20,"div",13)(21,"div",14)(22,"h3",5),o._uU(23),o.qZA(),o.TgZ(24,"button",15),o.NdJ("click",function(){return t.abrirModalCrearDominio()}),o._uU(25," Crear Nuevo Valor "),o.qZA()(),o.YNc(26,oo,1,5,"aurora-table",16),o.qZA()),2&i&&(o.Q6J("formGroup",t.myForm),o.xp6(3),o.Q6J("routerLink",o.DdM(4,io)),o.xp6(20),o.hij(" Dominios de ",t.tipoDominio.split("_").join(" ")," "),o.xp6(3),o.Q6J("ngIf",t.dominios&&t.dominios.length))},directives:[r._Y,r.JL,r.sg,_.yS,W.Hw,r.Fj,r.JJ,r.u,r.nD,p.O5,F.n],styles:[".title-content[_ngcontent-%COMP%]{color:var(--endeavour);font-size:var(--font-24);font-weight:500;letter-spacing:.2px;opacity:1}.margen-titulo[_ngcontent-%COMP%]{margin-top:-40px}"]}),e})();var x=l(6087),c=l(2075),T=l(8629),G=l(509),w=l(1309),to=l(7423),ro=l(9772);function ao(e,a){1&e&&(o.TgZ(0,"mat-header-cell"),o._uU(1,"N. Documento"),o.qZA())}function no(e,a){if(1&e&&(o.TgZ(0,"mat-cell")(1,"div"),o._uU(2),o.qZA()()),2&e){const i=a.$implicit;o.xp6(2),o.Oqu(i.numeroDocumento)}}function so(e,a){1&e&&(o.TgZ(0,"mat-header-cell"),o._uU(1,"Nombres"),o.qZA())}function mo(e,a){if(1&e&&(o.TgZ(0,"mat-cell")(1,"div"),o._uU(2),o.qZA()()),2&e){const i=a.$implicit;o.xp6(2),o.AsE("",i.nombres," ",i.apellidos,"")}}function lo(e,a){1&e&&(o.TgZ(0,"mat-header-cell"),o._uU(1,"Estado"),o.qZA())}function co(e,a){if(1&e&&(o.TgZ(0,"mat-cell")(1,"div"),o._uU(2),o.qZA()()),2&e){const i=a.$implicit;o.xp6(2),o.Oqu(i.activo?"Activo":"Inactivo")}}function uo(e,a){1&e&&(o.TgZ(0,"mat-header-cell"),o._uU(1,"Correo Electronico"),o.qZA())}function po(e,a){if(1&e&&(o.TgZ(0,"mat-cell")(1,"div"),o._uU(2),o.qZA()()),2&e){const i=a.$implicit;o.xp6(2),o.Oqu(i.correoElectronico)}}function fo(e,a){1&e&&(o.TgZ(0,"mat-header-cell"),o._uU(1,"Perfil/es"),o.qZA())}function go(e,a){if(1&e&&(o.TgZ(0,"mat-cell")(1,"div"),o._uU(2),o.qZA()()),2&e){const i=a.$implicit;o.xp6(2),o.Oqu(i.perfiles)}}function ho(e,a){1&e&&(o.TgZ(0,"mat-header-cell"),o._uU(1,"Acciones"),o.qZA())}const _o=function(e){return["../modificar-usuario",e]};function vo(e,a){if(1&e&&(o.TgZ(0,"mat-cell")(1,"div",28)(2,"button",29),o._UZ(3,"img",30),o.qZA()()()),2&e){const i=a.$implicit;o.xp6(2),o.Q6J("routerLink",o.VKq(1,_o,i.idUsuarioSistema))}}function Co(e,a){1&e&&o._UZ(0,"mat-header-row")}function bo(e,a){1&e&&o._UZ(0,"mat-row")}const Zo=function(){return["../crear-usuario"]},Do=function(){return[5,10,20]};let Ao=(()=>{class e{constructor(i,t,n,m){this.authService=i,this.gestionUsariosService=t,this._dialog=n,this.fb=m,this.displayedColumns=["numeroDocumento","nombre","estado","correo","perfil","acciones"],this.dataSource=new c.by([]),this.dataSourceList=[],this.listaUsuarios=[],this.listaPerfiles=[],this.arrayNombresPerfiles=[]}ngOnInit(){var i;this.user=this.authService.currentUserValue,this.idComisaria=null===(i=this.user)||void 0===i?void 0:i.idComisaria,this.cargarListaPerfiles(),this.cargarForm()}cargarListaUsuarios(){this.gestionUsariosService.listaUsuariosConId(this.idComisaria).subscribe({next:i=>{i.statusCode===s.jh.OK?(this.dataSourceList=i.data,i.data.forEach((t,n)=>{let m=0;for(;m<8;)null!=t.perfiles[m]&&(void 0===this.arrayNombresPerfiles[n]&&(this.arrayNombresPerfiles[n]=""),this.arrayNombresPerfiles[n]=this.arrayNombresPerfiles[n]+t.perfiles[m].nombrePerfil+", "),m++}),i.data.forEach((t,n)=>{t.perfiles=this.arrayNombresPerfiles[n]}),this.dataSource=new c.by(this.dataSourceList),this.dataSource.paginator=this.paginator):this.msgError()},error:()=>{this.msgError()}})}cargarListaPerfiles(){this.gestionUsariosService.getListaPerfiles().subscribe({next:i=>{i.statusCode===s.jh.OK?(this.listaPerfiles=i.data,this.cargarListaUsuarios()):this.msgError()},error:()=>{this.msgError()}})}cargarForm(){this.myForm=this.fb.group({filtro:[],numeroDocumento:[]})}applyFilter(){var i;let t=null===(i=this.myForm.get("filtro"))||void 0===i?void 0:i.value;this.dataSource.filter=t.trim().toLowerCase()}soloNumero(i){T.B.soloNumero(i,this.myForm)}soloLetras(i){T.B.soloLetras(i,this.myForm)}msgError(){d.B.modalExito(s.q4.MENSAJE_ERROR_G,s.x4.EXCLAMACION,this._dialog)}}return e.\u0275fac=function(i){return new(i||e)(o.Y36(G.e),o.Y36(w.n),o.Y36(g.uw),o.Y36(r.qu))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-gestion-usuarios"]],viewQuery:function(i,t){if(1&i&&o.Gf(x.NW,7),2&i){let n;o.iGM(n=o.CRH())&&(t.paginator=n.first)}},decls:45,vars:8,consts:[[1,"background-gray","rounded-basic","p-3","mb-3",3,"formGroup"],[1,"row"],[1,"title-content","me-5","mb-3","text-center"],[1,"col-lg-6"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","placeholder","Documento, Nombres, Correo","formControlName","filtro","id","nombre",1,"form-control"],[1,"col-lg-3","d-flex","align-items-center","justify-content-center"],[1,"mb-3","mt-4"],[1,"btn","btn-primary",3,"click"],["src","assets/images/busqueda.svg","alt","serach",1,"img-fluid","me-2"],[1,"background-content-private","p-4","mb-4"],[1,"d-flex","align-items-baseline","mb-4"],[1,"title-content","me-5","mb-3"],[1,"btn","button-new",3,"routerLink"],[1,"d-flex","justify-content-lg-start"],["mat-table","","id","table-private",1,"w-100",3,"dataSource"],["matColumnDef","numeroDocumento"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","estado"],["matColumnDef","correo"],["matColumnDef","perfil"],["matColumnDef","acciones"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of request",3,"pageSizeOptions"],[2,"width","200px"],["mat-icon-button","","matTooltip","Modificar Usuario","matTooltipPosition","right","matTooltipHideDelay","500","matTooltipClass","background-tooltip","aria-label","Button that displays a tooltip when focused or hovered over",3,"routerLink"],["src","assets/images/irProceso.svg","alt","detail",1,"img-fluid"]],template:function(i,t){1&i&&(o.TgZ(0,"form",0)(1,"div",1)(2,"p",2),o._uU(3,"Busqueda de Usuarios"),o.qZA()(),o.TgZ(4,"div",1)(5,"div",3)(6,"div",4)(7,"label",5),o._uU(8,"Filtro"),o.qZA(),o._UZ(9,"input",6),o.qZA()(),o.TgZ(10,"div",7)(11,"div",8)(12,"button",9),o.NdJ("click",function(){return t.applyFilter()}),o._UZ(13,"img",10),o._uU(14," Buscar "),o.qZA()()()()(),o.TgZ(15,"div",11)(16,"div",12)(17,"p",13),o._uU(18,"Lista de Usuarios"),o.qZA(),o.TgZ(19,"button",14),o._uU(20," Crear Nuevo Usuario"),o.qZA()(),o.TgZ(21,"div",15)(22,"table",16),o.ynx(23,17),o.YNc(24,ao,2,0,"mat-header-cell",18),o.YNc(25,no,3,1,"mat-cell",19),o.BQk(),o.ynx(26,20),o.YNc(27,so,2,0,"mat-header-cell",18),o.YNc(28,mo,3,2,"mat-cell",19),o.BQk(),o.ynx(29,21),o.YNc(30,lo,2,0,"mat-header-cell",18),o.YNc(31,co,3,1,"mat-cell",19),o.BQk(),o.ynx(32,22),o.YNc(33,uo,2,0,"mat-header-cell",18),o.YNc(34,po,3,1,"mat-cell",19),o.BQk(),o.ynx(35,23),o.YNc(36,fo,2,0,"mat-header-cell",18),o.YNc(37,go,3,1,"mat-cell",19),o.BQk(),o.ynx(38,24),o.YNc(39,ho,2,0,"mat-header-cell",18),o.YNc(40,vo,4,3,"mat-cell",19),o.BQk(),o.YNc(41,Co,1,0,"mat-header-row",25),o.YNc(42,bo,1,0,"mat-row",26),o.qZA()(),o.TgZ(43,"div"),o._UZ(44,"mat-paginator",27),o.qZA()()),2&i&&(o.Q6J("formGroup",t.myForm),o.xp6(19),o.Q6J("routerLink",o.DdM(6,Zo)),o.xp6(3),o.Q6J("dataSource",t.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",t.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",t.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(7,Do)))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,_.rH,c.BZ,c.w1,c.fO,c.ge,c.Dz,c.ev,to.lW,ro.gM,c.as,c.XQ,c.nj,c.Gk,x.NW],styles:[".title-content[_ngcontent-%COMP%]{color:var(--endeavour);font-size:var(--font-24);font-weight:500;letter-spacing:.2px;opacity:1}.mat-column-estado[_ngcontent-%COMP%]{max-width:8%!important}.mat-column-numeroDocumento[_ngcontent-%COMP%]{max-width:15%!important}.mat-column-nombre[_ngcontent-%COMP%]{max-width:20%!important}.mat-column-acciones[_ngcontent-%COMP%]{max-width:100px!important}.mat-column-correo[_ngcontent-%COMP%]{margin-right:15px;max-width:20%!important;word-break:break-all!important}.mat-column-perfil[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-right:15px;word-break:break-all!important}"]}),e})();var xo=l(5620),To=l(4376);function Uo(e,a){1&e&&(o.TgZ(0,"p",34),o._uU(1," Crear Usuario "),o.qZA())}function yo(e,a){1&e&&(o.TgZ(0,"p",34),o._uU(1," Actualizar Usuario "),o.qZA())}function No(e,a){if(1&e&&(o.TgZ(0,"option",35),o._uU(1),o.qZA()),2&e){const i=a.$implicit;o.Q6J("value",i.id_Dominio),o.xp6(1),o.hij(" ",i.nombre_Dominio," ")}}function qo(e,a){if(1&e&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.msgObligatorio," ")}}function Mo(e,a){if(1&e&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.msgObligatorio," ")}}function Fo(e,a){if(1&e&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.msgInvalido," ")}}function Eo(e,a){if(1&e&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.msgObligatorio," ")}}function Io(e,a){if(1&e&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.msgInvalido," ")}}function Go(e,a){if(1&e&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.msgObligatorio," ")}}function wo(e,a){if(1&e&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.msgInvalido," ")}}function Jo(e,a){if(1&e&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.msgInvalido," ")}}function Oo(e,a){if(1&e&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.msgInvalido," ")}}function So(e,a){if(1&e&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.msgInvalido," ")}}function Yo(e,a){if(1&e&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.msgObligatorio," ")}}function Ro(e,a){if(1&e&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.msgObligatorio," ")}}function jo(e,a){1&e&&(o.TgZ(0,"div",37)(1,"label",38),o._uU(2,"Estado"),o.qZA(),o.TgZ(3,"div",2)(4,"div",39),o._UZ(5,"input",40),o.TgZ(6,"label",41),o._uU(7,"Activo"),o.qZA()(),o.TgZ(8,"div",39),o._UZ(9,"input",42),o.TgZ(10,"label",43),o._uU(11,"Inactivo"),o.qZA()()()()),2&e&&(o.xp6(5),o.Q6J("value",!0),o.xp6(4),o.Q6J("value",!1))}const D=function(e){return{"input-req":e}};let J=(()=>{class e{constructor(i,t,n,m,u,f,h){this.authService=i,this.gestionUsuario=t,this._dialog=n,this.store=m,this.fb=u,this.router=f,this._activedRouter=h,this.listaPerfiles=[],this.listaTipoDocumento=[],this.mostrarValidaciones=!1,this.msgObligatorio=s.q4.CAMPO_OBLIGATORIO,this.msgInvalido=s.q4.MENSAJE_CAMPO_INV,this.idUsuario=0,this.existeCiudadano=!1}ngOnInit(){var i;this.cargarPerfiles(),this.user=this.authService.currentUserValue,this.idComisaria=null===(i=this.user)||void 0===i?void 0:i.idComisaria,this.store.select("tipo_documento").subscribe(({tipo_documento:t})=>{this.listaTipoDocumento=t}),this.getIdUsuario(),void 0===this.idUsuario||this.cargarInformacionUsuario(),this.cargarForm()}validacionEstado(){return void 0!==this.informacionUsuario}cargarPerfiles(){this.gestionUsuario.getListaPerfiles().subscribe({next:i=>{i.statusCode===s.jh.OK?this.listaPerfiles=i.data:this.msgError()},error:()=>{this.msgError()}})}crearNuevoUsuario(i){this.gestionUsuario.postCrearUsuario(i).subscribe({next:t=>{t.statusCode===s.jh.OK?(this.msgExito("Usuario Creado Correctamente."),this.redireccionar()):this.msgError()},error:()=>{this.msgValidacionCorreoYDocumentacion()}})}actualizarUsuario(i){this.gestionUsuario.actualizarUsuario(i).subscribe({next:t=>{t.statusCode===s.jh.OK?(this.msgExito("Se Actualizo Correctamente el Usuario"),this.redireccionar()):this.msgError()},error:()=>{this.msgValidacionCorreoYDocumentacion()}})}getIdUsuario(){this._activedRouter.params.subscribe(i=>{this.idUsuario=i.idUsuarioSistema})}cargarInformacionUsuario(){this.gestionUsuario.UsuarioEspecifico(this.idUsuario).subscribe({next:i=>{if(i.statusCode===s.jh.OK){this.informacionUsuario=i.data;let t=this.informacionUsuario.nombres.split(" "),n=this.informacionUsuario.apellidos.split(" ");this.myForm.controls.tipoDocumento.setValue(this.informacionUsuario.tipoDocumento),this.myForm.controls.numeroDocumento.setValue(this.informacionUsuario.numeroDocumento),this.myForm.controls.primerNombre.setValue(t[0]),this.myForm.controls.segundoNombre.setValue(t[1]),this.myForm.controls.primerApellido.setValue(n[0]),this.myForm.controls.segundoApellido.setValue(n[1]),this.myForm.controls.celular.setValue(this.informacionUsuario.celular),this.myForm.controls.telefonoFijo.setValue(this.informacionUsuario.telefonoFijo),this.myForm.controls.correoElectronico.setValue(this.informacionUsuario.correoElectronico),this.myForm.controls.perfil.setValue(this.informacionUsuario.perfiles),this.myForm.controls.estado.setValue(this.informacionUsuario.activo)}}})}cargarForm(){this.myForm=this.fb.group({tipoDocumento:["",[r.kI.required]],numeroDocumento:["",[r.kI.required,r.kI.pattern(s.i$.ALFA)]],primerNombre:["",[r.kI.required,r.kI.pattern(s.i$.ALFA)]],segundoNombre:[""],primerApellido:["",[r.kI.required,r.kI.pattern(s.i$.ALFA)]],segundoApellido:[""],celular:["",[r.kI.pattern(s.i$.ALFA)]],telefonoFijo:["",[r.kI.pattern(s.i$.ALFA)]],correoElectronico:["",[r.kI.pattern(s.i$.EMAIL),r.kI.required]],perfil:[,r.kI.required],estado:[]})}soloNumero(i){T.B.soloNumero(i,this.myForm)}soloLetas(i){T.B.soloLetras(i,this.myForm)}isRequired(i,t){return i.controls[t].hasError("required")}patternValid(i){return this.myForm.controls[i].hasError("pattern")}guardar(){this.mostrarValidaciones=!1,void 0===this.idUsuario?this.myForm.invalid?this.mostrarValidaciones=!0:this.crearNuevoUsuario(this.getDataPostCrearUsuario):this.myForm.invalid?this.mostrarValidaciones=!0:this.actualizarUsuario(this.getDataPostModificar)}redireccionar(){this.router.navigate(["../comisario/gestion-usuarios"])}get getDataPostCrearUsuario(){var i,t,n,m,u,f,h,C,b,Z;const A=null===(i=this.myForm.get("perfil"))||void 0===i?void 0:i.value,y=parseInt(null===(t=this.myForm.get("tipoDocumento"))||void 0===t?void 0:t.value);return{nombres:(null===(n=this.myForm.get("primerNombre"))||void 0===n?void 0:n.value)+" "+(null===(m=this.myForm.get("segundoNombre"))||void 0===m?void 0:m.value),apellidos:(null===(u=this.myForm.get("primerApellido"))||void 0===u?void 0:u.value)+" "+(null===(f=this.myForm.get("segundoApellido"))||void 0===f?void 0:f.value),celular:null===(h=this.myForm.get("celular"))||void 0===h?void 0:h.value,correoElectronico:null===(C=this.myForm.get("correoElectronico"))||void 0===C?void 0:C.value,numeroDocumento:null===(b=this.myForm.get("numeroDocumento"))||void 0===b?void 0:b.value,telefonoFijo:null===(Z=this.myForm.get("telefonoFijo"))||void 0===Z?void 0:Z.value,tipoDocumento:y,perfiles:A,idComisaria:this.idComisaria}}get getDataPostModificar(){var i,t,n,m,u,f,h,C,b,Z,A;const y=null===(i=this.myForm.get("perfil"))||void 0===i?void 0:i.value,ui=parseInt(null===(t=this.myForm.get("tipoDocumento"))||void 0===t?void 0:t.value);return{idUsuarioSistema:this.idUsuario,nombres:(null===(n=this.myForm.get("primerNombre"))||void 0===n?void 0:n.value)+" "+(null===(m=this.myForm.get("segundoNombre"))||void 0===m?void 0:m.value),apellidos:(null===(u=this.myForm.get("primerApellido"))||void 0===u?void 0:u.value)+" "+(null===(f=this.myForm.get("segundoApellido"))||void 0===f?void 0:f.value),celular:null===(h=this.myForm.get("celular"))||void 0===h?void 0:h.value,correoElectronico:null===(C=this.myForm.get("correoElectronico"))||void 0===C?void 0:C.value,numeroDocumento:null===(b=this.myForm.get("numeroDocumento"))||void 0===b?void 0:b.value,telefonoFijo:null===(Z=this.myForm.get("telefonoFijo"))||void 0===Z?void 0:Z.value,tipoDocumento:ui,perfiles:y,activo:null===(A=this.myForm.get("estado"))||void 0===A?void 0:A.value,idComisaria:this.idComisaria}}msgError(){d.B.modalExito(s.q4.MENSAJE_ERROR_G,s.x4.EXCLAMACION,this._dialog)}msgExito(i){d.B.modalExito(i,s.x4.OK,this._dialog)}msgValidacionCorreoYDocumentacion(){d.B.modalExito("Los datos ingresados ya existen. Por favor verifique.",s.x4.EXCLAMACION,this._dialog)}}return e.\u0275fac=function(i){return new(i||e)(o.Y36(G.e),o.Y36(w.n),o.Y36(g.uw),o.Y36(xo.yh),o.Y36(r.qu),o.Y36(_.F0),o.Y36(_.gz))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-crear-modifcar-usuarios"]],decls:69,vars:34,consts:[[3,"formGroup"],[1,"background-gray","rounded-basic","p-3","mb-3"],[1,"row"],["class","title-content me-5 mb-3",4,"ngIf"],[1,"row","align-items-center"],[1,"col-4","mb-3"],["for","tipoDocumento",1,"form-label"],["formControlName","tipoDocumento",1,"form-select",3,"ngClass"],["disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],["class","msj-req",4,"ngIf"],["for","numeroDocumento",1,"form-label"],["type","text","placeholder","N\xfamero de Documento","maxlength","20","formControlName","numeroDocumento","id","numeroDocumento",1,"form-control",3,"ngClass","keyup","input"],["for","primerNombre",1,"form-label"],["type","text","placeholder","Primer Nombre","maxlength","50","formControlName","primerNombre","id","primerNombre",1,"form-control",3,"ngClass","input"],["for","segundoNombre",1,"form-label"],["type","text","placeholder","Segundo Nombre","maxlength","50","formControlName","segundoNombre","id","segundoNombre",1,"form-control",3,"input"],["for","primerApellido",1,"form-label"],["type","text","placeholder","Primer Apellido","maxlength","50","formControlName","primerApellido","id","primerApellido",1,"form-control",3,"ngClass","input"],["for","segundoApellido",1,"form-label"],["type","text","placeholder","Segundo Apellido","maxlength","50","formControlName","segundoApellido","id","segundoApellido",1,"form-control",3,"input"],["for","celular",1,"form-label"],["type","text","placeholder","Celular","maxlength","10","formControlName","celular","id","celular",1,"form-control",3,"input"],["for","fijo",1,"form-label"],["type","text","placeholder","Tel\xe9fono Fijo","maxlength","10","formControlName","telefonoFijo","id","fijo",1,"form-control",3,"input"],["for","correo",1,"form-label"],["type","email","placeholder","Correo Electronico","maxlength","50","formControlName","correoElectronico","id","correo",1,"form-control"],[1,"col-8"],["for","perfil",1,"form-label"],["bindLabel","nombrePerfil","bindValue","idPerfil","placeholder","Seleccione los perfiles","formControlName","perfil",3,"multiple","items","ngClass"],["class","col-4 mb-3 margin-top","style","padding-left: 30px",4,"ngIf"],[1,"mt-3","d-flex","justify-content-end","gap-3"],[1,"px-3","btn","btn-danger",3,"click"],[1,"px-4","btn","btn-primary",3,"click"],[1,"title-content","me-5","mb-3"],[3,"value"],[1,"msj-req"],[1,"col-4","mb-3","margin-top",2,"padding-left","30px"],["for","estado",1,"form-label","me-4"],[1,"col-4","form-check","form-check-inline"],["type","radio","id","activo","formControlName","estado",1,"form-check-input",3,"value"],["for","activo",1,"form-label"],["type","radio","id","inactivo","formControlName","estado",1,"form-check-input",3,"value"],["for","inactivo",1,"form-label"]],template:function(i,t){1&i&&(o.TgZ(0,"form",0)(1,"div",1)(2,"div",2),o.YNc(3,Uo,2,0,"p",3),o.YNc(4,yo,2,0,"p",3),o.qZA(),o.TgZ(5,"div",4)(6,"div",5)(7,"label",6),o._uU(8,"Tipo de documento*"),o.qZA(),o.TgZ(9,"select",7)(10,"option",8),o._uU(11,"Seleccione"),o.qZA(),o.YNc(12,No,2,2,"option",9),o.qZA(),o.YNc(13,qo,2,1,"div",10),o.qZA(),o.TgZ(14,"div",5)(15,"label",11),o._uU(16,"N\xfamero de Documento*"),o.qZA(),o.TgZ(17,"input",12),o.NdJ("keyup",function(){return t.existeCiudadano=!1})("input",function(){return t.soloNumero("numeroDocumento")}),o.qZA(),o.YNc(18,Mo,2,1,"div",10),o.YNc(19,Fo,2,1,"div",10),o.qZA(),o.TgZ(20,"div",5)(21,"label",13),o._uU(22,"Primer Nombre*"),o.qZA(),o.TgZ(23,"input",14),o.NdJ("input",function(){return t.soloLetas("primerNombre")}),o.qZA(),o.YNc(24,Eo,2,1,"div",10),o.YNc(25,Io,2,1,"div",10),o.qZA(),o.TgZ(26,"div",5)(27,"label",15),o._uU(28,"Segundo Nombre"),o.qZA(),o.TgZ(29,"input",16),o.NdJ("input",function(){return t.soloLetas("segundoNombre")}),o.qZA()(),o.TgZ(30,"div",5)(31,"label",17),o._uU(32,"Primer Apellido*"),o.qZA(),o.TgZ(33,"input",18),o.NdJ("input",function(){return t.soloLetas("primerApellido")}),o.qZA(),o.YNc(34,Go,2,1,"div",10),o.YNc(35,wo,2,1,"div",10),o.qZA(),o.TgZ(36,"div",5)(37,"label",19),o._uU(38,"Segundo Apellido"),o.qZA(),o.TgZ(39,"input",20),o.NdJ("input",function(){return t.soloLetas("primerApellido")}),o.qZA()(),o.TgZ(40,"div",5)(41,"label",21),o._uU(42,"Celular"),o.qZA(),o.TgZ(43,"input",22),o.NdJ("input",function(){return t.soloNumero("celular")}),o.qZA(),o.YNc(44,Jo,2,1,"div",10),o.qZA(),o.TgZ(45,"div",5)(46,"label",23),o._uU(47,"Tel\xe9fono Fijo"),o.qZA(),o.TgZ(48,"input",24),o.NdJ("input",function(){return t.soloNumero("telefonoFijo")}),o.qZA(),o.YNc(49,Oo,2,1,"div",10),o.qZA(),o.TgZ(50,"div",5)(51,"label",25),o._uU(52,"Correo Electr\xf3nico *"),o.qZA(),o._UZ(53,"input",26),o.YNc(54,So,2,1,"div",10),o.YNc(55,Yo,2,1,"div",10),o.qZA(),o.TgZ(56,"div",27)(57,"label",28),o._uU(58,"Perfil*"),o.qZA(),o._UZ(59,"ng-select",29),o.YNc(60,Ro,2,1,"div",10),o.qZA(),o.YNc(61,jo,12,2,"div",30),o.qZA(),o._UZ(62,"br")(63,"br"),o.TgZ(64,"div",31)(65,"button",32),o.NdJ("click",function(){return t.redireccionar()}),o._uU(66," Cancelar "),o.qZA(),o.TgZ(67,"button",33),o.NdJ("click",function(){return t.guardar()}),o._uU(68,"Guardar"),o.qZA()()()()),2&i&&(o.Q6J("formGroup",t.myForm),o.xp6(3),o.Q6J("ngIf",!t.validacionEstado()),o.xp6(1),o.Q6J("ngIf",t.validacionEstado()),o.xp6(5),o.Q6J("ngClass",o.VKq(24,D,t.isRequired(t.myForm,"tipoDocumento")&&t.mostrarValidaciones)),o.xp6(3),o.Q6J("ngForOf",t.listaTipoDocumento),o.xp6(1),o.Q6J("ngIf",t.isRequired(t.myForm,"tipoDocumento")&&t.mostrarValidaciones),o.xp6(4),o.Q6J("ngClass",o.VKq(26,D,t.isRequired(t.myForm,"numeroDocumento")&&t.mostrarValidaciones||t.patternValid("numeroDocumento")&&t.mostrarValidaciones)),o.xp6(1),o.Q6J("ngIf",t.isRequired(t.myForm,"numeroDocumento")&&t.mostrarValidaciones),o.xp6(1),o.Q6J("ngIf",t.patternValid("numeroDocumento")&&t.mostrarValidaciones),o.xp6(4),o.Q6J("ngClass",o.VKq(28,D,t.isRequired(t.myForm,"primerNombre")&&t.mostrarValidaciones||t.patternValid("primerNombre")&&t.mostrarValidaciones)),o.xp6(1),o.Q6J("ngIf",t.isRequired(t.myForm,"primerNombre")&&t.mostrarValidaciones),o.xp6(1),o.Q6J("ngIf",t.patternValid("primerNombre")&&t.mostrarValidaciones),o.xp6(8),o.Q6J("ngClass",o.VKq(30,D,t.isRequired(t.myForm,"primerApellido")&&t.mostrarValidaciones||t.patternValid("primerApellido")&&t.mostrarValidaciones)),o.xp6(1),o.Q6J("ngIf",t.isRequired(t.myForm,"primerApellido")&&t.mostrarValidaciones),o.xp6(1),o.Q6J("ngIf",t.patternValid("primerApellido")&&t.mostrarValidaciones),o.xp6(9),o.Q6J("ngIf",t.patternValid("celular")&&t.mostrarValidaciones),o.xp6(5),o.Q6J("ngIf",t.patternValid("telefonoFijo")&&t.mostrarValidaciones),o.xp6(5),o.Q6J("ngIf",t.patternValid("correoElectronico")&&t.mostrarValidaciones),o.xp6(1),o.Q6J("ngIf",t.isRequired(t.myForm,"correoElectronico")&&t.mostrarValidaciones),o.xp6(4),o.Q6J("multiple",!0)("items",t.listaPerfiles)("ngClass",o.VKq(32,D,t.isRequired(t.myForm,"perfil")&&t.mostrarValidaciones)),o.xp6(1),o.Q6J("ngIf",t.isRequired(t.myForm,"perfil")&&t.mostrarValidaciones),o.xp6(1),o.Q6J("ngIf",t.validacionEstado()))},directives:[r._Y,r.JL,r.sg,p.O5,r.EJ,r.JJ,r.u,p.mk,r.YN,r.Kr,p.sg,r.Fj,r.nD,To.w9,r._],styles:[".title-content[_ngcontent-%COMP%]{color:var(--endeavour);font-size:var(--font-24);font-weight:500;letter-spacing:.2px;opacity:1}.margin-top[_ngcontent-%COMP%]{margin-top:35px}.padding[_ngcontent-%COMP%]{padding:30px}"]}),e})();var Vo=l(4278);let O=(()=>{class e{constructor(i){this.http=i,this.api=s.n6}getConsultarCitasPre(){return this.http.get(`${this.api}/Cita/consultarCitaPre`).pipe((0,v.q)(1))}getActualizarCita(i){return this.http.post(`${this.api}/Cita/ActualizarCita`,i).pipe((0,v.q)(1))}getCrearCita(i){return this.http.post(`${this.api}/Cita/GuardarCita`,i).pipe((0,v.q)(1))}}return e.\u0275fac=function(i){return new(i||e)(o.LFG(M.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ko(e,a){if(1&e&&(o.TgZ(0,"span",13),o._uU(1),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.hij(" ",i.msgObligatorio," ")}}let Qo=(()=>{class e{constructor(i,t,n){this.matDialogRef=i,this.gestionCitasService=t,this.modales=n,this.myForm=new r.cw({fechaCita:new r.NI("",[r.kI.required])}),this.minDate=new Date,this.maxDate=new Date((new Date).setDate((new Date).getDate()+365)),this.mostrarValidaciones=!1,this.msgObligatorio=s.q4.CAMPO_OBLIGATORIO}ngOnInit(){}isRequired(){return this.myForm.controls.fechaCita.hasError("required")}crearCita(){var i,t;if(this.myForm.invalid)this.mostrarValidaciones=!0;else{this.mostrarValidaciones=!1;let n={fechaCita:null===(i=this.myForm.get("fechaCita"))||void 0===i?void 0:i.value,horaCita:null===(t=this.myForm.get("fechaCita"))||void 0===t?void 0:t.value};this.gestionCitasService.getCrearCita(n).subscribe({next:m=>{m&&m.statusCode==s.jh.OK?(this.cerrarModal(!0),this.modales.modalExito("Cita creada exitosamente")):m&&m.statusCode==s.jh.Bad&&this.modales.modalExito(m.message)},error:m=>{this.modales.modalInformacion(s.q4.MENSAJE_ERROR_G)}})}}cerrarModal(i){this.matDialogRef.close(i)}}return e.\u0275fac=function(i){return new(i||e)(o.Y36(g.so),o.Y36(O),o.Y36(d.B))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-modal-crear-cita"]],decls:20,vars:10,consts:[[1,"d-flex","justify-content-between","align-items-center","flex-column","box-modal-info","h-100",3,"formGroup","ngSubmit"],[1,"row","w-100"],[1,"col-12"],[1,"border","border-primary","p-2"],[1,"float-none","w-75","p-2","text-primary"],[1,"row","p-2","m-0"],[1,"col-5"],[1,"col","7","pe-4"],["type","datetime-local","formControlName","fechaCita",1,"form-control",3,"max","min"],["class","msj-req",4,"ngIf"],[1,"d-flex","mt-2",2,"gap","1rem"],["type","button",1,"btn","btn-danger","px-3",2,"min-width","144px",3,"click"],["type","submit",1,"btn","btn-primary","px-3"],[1,"msj-req"]],template:function(i,t){1&i&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return t.crearCita()}),o.TgZ(1,"div",1)(2,"div",2)(3,"fieldset",3)(4,"legend",4),o._uU(5,"Agregar Cita"),o.qZA(),o.TgZ(6,"div",5)(7,"div",6)(8,"label"),o._uU(9,"Fecha y Hora"),o.qZA()(),o.TgZ(10,"div",7),o._UZ(11,"input",8),o.ALo(12,"date"),o.ALo(13,"date"),o.YNc(14,ko,2,1,"span",9),o.qZA()()()()(),o.TgZ(15,"div",10)(16,"button",11),o.NdJ("click",function(){return t.cerrarModal(!1)}),o._uU(17," Cancelar "),o.qZA(),o.TgZ(18,"button",12),o._uU(19,"Continuar"),o.qZA()()()),2&i&&(o.Q6J("formGroup",t.myForm),o.xp6(11),o.s9C("max",o.xi3(12,4,t.maxDate,"yyyy-MM-ddTHH:mm")),o.s9C("min",o.xi3(13,7,t.minDate,"yyyy-MM-ddTHH:mm")),o.xp6(3),o.Q6J("ngIf",t.isRequired()&&t.mostrarValidaciones))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,p.O5],pipes:[p.uU],styles:[""]}),e})();var Lo=l(7836);function Po(e,a){1&e&&o._UZ(0,"app-no-data",7)}function zo(e,a){1&e&&(o.TgZ(0,"mat-header-cell"),o._uU(1,"Fecha"),o.qZA())}function Bo(e,a){if(1&e&&(o.TgZ(0,"mat-cell")(1,"div"),o._uU(2),o.ALo(3,"date"),o.qZA()()),2&e){const i=a.$implicit;o.xp6(2),o.hij(" ",o.xi3(3,1,i.fechaCita,"fullDate")," ")}}function $o(e,a){1&e&&(o.TgZ(0,"mat-header-cell"),o._uU(1,"Hora"),o.qZA())}function Ko(e,a){if(1&e&&(o.TgZ(0,"mat-cell")(1,"div"),o._uU(2),o.ALo(3,"date"),o.qZA()()),2&e){const i=a.$implicit;o.xp6(2),o.hij(" ",o.xi3(3,1,i.horaCita,"shortTime")," ")}}function Ho(e,a){1&e&&(o.TgZ(0,"mat-header-cell"),o._uU(1,"Activo"),o.qZA())}function Xo(e,a){if(1&e){const i=o.EpF();o.TgZ(0,"mat-cell")(1,"div")(2,"input",16),o.NdJ("change",function(){const m=o.CHM(i).$implicit;return o.oxw(2).actualizarCita(m)}),o.qZA()()()}if(2&e){const i=a.$implicit;o.xp6(2),o.Q6J("checked",i.activo)}}function Wo(e,a){1&e&&o._UZ(0,"mat-header-row")}function oi(e,a){1&e&&o._UZ(0,"mat-row")}function ii(e,a){if(1&e&&(o.TgZ(0,"table",8),o.ynx(1,9),o.YNc(2,zo,2,0,"mat-header-cell",10),o.YNc(3,Bo,4,4,"mat-cell",11),o.BQk(),o.ynx(4,12),o.YNc(5,$o,2,0,"mat-header-cell",10),o.YNc(6,Ko,4,4,"mat-cell",11),o.BQk(),o.ynx(7,13),o.YNc(8,Ho,2,0,"mat-header-cell",10),o.YNc(9,Xo,3,1,"mat-cell",11),o.BQk(),o.YNc(10,Wo,1,0,"mat-header-row",14),o.YNc(11,oi,1,0,"mat-row",15),o.qZA()),2&e){const i=o.oxw();o.Q6J("dataSource",i.dataSource),o.xp6(10),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns)}}const ei=function(){return[5,10,20]};let ti=(()=>{class e{constructor(i,t,n){this._dialog=i,this.gestionCitasService=t,this.modales=n,this.displayedColumns=["fecha","hora","activo"],this.dataSource=new c.by([]),this.citas=[{idCita:0,activo:!0,fechaCita:new Date,horaCita:new Date}]}ngOnInit(){this.cargarCitas()}actualizarTabla(){this.dataSource.data=[],this.dataSource.data=this.citas,this.dataSource.paginator=this.paginator}cargarCitas(){this.gestionCitasService.getConsultarCitasPre().subscribe({next:i=>{i&&i.statusCode==s.jh.OK&&(this.citas=i.data)},error:()=>{this.citas=[],this.modales.modalInformacion(s.q4.MENSAJE_ERROR_G)},complete:()=>{this.actualizarTabla()}})}abrirModalAgregarCita(){this._dialog.open(Qo,{panelClass:"roundedModal",disableClose:!0,width:"fit-content",height:"fit-content"}).afterClosed().subscribe(i=>{i&&this.cargarCitas()})}actualizarCita(i,t){this.modales.modalConfirmacion("\xbfDesea cambiar el estado de esta cita?").subscribe(n=>{n&&this.gestionCitasService.getActualizarCita({idCita:i.idCita,activo:!i.activo}).subscribe({next:m=>{m&&m.statusCode==s.jh.OK&&this.modales.modalExito("Estado de cita cambiado exitosamente.")},error:()=>{this.modales.modalInformacion(s.q4.MENSAJE_ERROR_G)},complete:()=>{this.cargarCitas()}})})}}return e.\u0275fac=function(i){return new(i||e)(o.Y36(g.uw),o.Y36(O),o.Y36(d.B))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-gestionar-citas"]],viewQuery:function(i,t){if(1&i&&o.Gf(x.NW,7),2&i){let n;o.iGM(n=o.CRH())&&(t.paginator=n.first)}},decls:11,vars:4,consts:[[1,"background-gray","rounded-basic","p-4","mb-4"],[1,"d-flex","align-items-center","mb-4"],[1,"title-content","m-0","me-3"],[1,"btn","button-new",3,"click"],["mensaje","No se encontraron citas para esta comisar\xeda.",4,"ngIf"],["class","w-100","mat-table","","id","table-private",3,"dataSource",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of request",1,"background-gray",3,"pageSizeOptions"],["mensaje","No se encontraron citas para esta comisar\xeda."],["mat-table","","id","table-private",1,"w-100",3,"dataSource"],["matColumnDef","fecha"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","hora"],["matColumnDef","activo"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["type","checkbox",1,"form-check-input",3,"checked","change"]],template:function(i,t){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"p",2),o._uU(3,"Citas de la comisar\xeda"),o.qZA(),o.TgZ(4,"button",3),o.NdJ("click",function(){return t.abrirModalAgregarCita()}),o._uU(5," Agregar Cita "),o.qZA()(),o.TgZ(6,"div"),o.YNc(7,Po,1,0,"app-no-data",4),o.YNc(8,ii,12,3,"table",5),o.qZA(),o.TgZ(9,"div"),o._UZ(10,"mat-paginator",6),o.qZA()()),2&i&&(o.xp6(7),o.Q6J("ngIf",!t.citas||0==t.citas.length),o.xp6(1),o.Q6J("ngIf",t.citas&&t.citas.length>0),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(3,ei)))},directives:[p.O5,Lo.d,c.BZ,c.w1,c.fO,c.ge,c.Dz,c.ev,c.as,c.XQ,c.nj,c.Gk,x.NW],pipes:[p.uU],styles:[".title-content[_ngcontent-%COMP%]{color:var(--endeavour);font-size:var(--font-24);font-weight:500;letter-spacing:.2px;opacity:1}.chekbox[_ngcontent-%COMP%]{box-shadow:0 3px 6px #00000029}"]}),e})(),ri=(()=>{class e{constructor(i,t){this.comisariaService=i,this.modales=t,this.form=new r.cw({idComisaria:new r.NI(""),nombreComisaria:new r.NI("",r.kI.required),telefono:new r.NI("",r.kI.required),direccion:new r.NI("",r.kI.required),correo:new r.NI("",r.kI.required),idCiudadMunicipio:new r.NI(""),modalidad:new r.NI(""),naturaleza:new r.NI("")})}ngOnInit(){this.cargarInformacionComisaria()}cargarInformacionComisaria(){this.comisariaService.getInformacionComisaria().subscribe({next:i=>{i.statusCode===s.jh.OK&&this.form.setValue(i.data)},error:()=>{this.modales.modalInformacion(s.q4.MENSAJE_ERROR_G)}})}actualizarComisaria(){this.form.valid?this.modales.modalConfirmacion("Est\xe1s a punto de actualizar la informaci\xf3n de esta comisar\xeda. Esta informaci\xf3n se cambiar\xe1 para todos los usuarios de la comisar\xeda. \xbfEst\xe1s seguro?").subscribe(i=>{i&&this.comisariaService.postActualizarComisaria(this.form.value).subscribe(t=>{t&&t.statusCode==s.jh.OK&&(this.cargarInformacionComisaria(),this.modales.modalExito("Comisar\xeda actualizada exitosamente"))})}):this.modales.modalInformacion("Todos los campos son requeridos")}inputNumber(i,t,n){var m;let u=i.value.replace(s.i$.NUMERO_G,"");null===(m=t.get(n))||void 0===m||m.setValue(u)}}return e.\u0275fac=function(i){return new(i||e)(o.Y36(Vo.B),o.Y36(d.B))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-actualizar-comisaria"]],decls:24,vars:1,consts:[[1,"background-gray","rounded-basic","p-4","mb-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"title-content","mb-3"],[1,"col-lg-6","form-group","mb-3"],["for","nombreComisaria",1,"form-label"],["type","text","placeholder","Nombre de la Comisar\xeda","formControlName","nombreComisaria","maxlength","20",1,"form-control"],["for","direccion",1,"form-label"],["type","text","placeholder","Direccion de la Comisar\xeda","formControlName","direccion","maxlength","50",1,"form-control"],["for","telefono",1,"form-label"],["type","text","placeholder","Telefono","formControlName","telefono","maxlength","50",1,"form-control",3,"input"],["for","correo",1,"form-label"],["type","text","placeholder","Correo Electronico","formControlName","correo","maxlength","50",1,"form-control"],[1,"mt-3","d-flex","justify-content-end","gap-3"],["type","submit",1,"px-4","btn","btn-primary"]],template:function(i,t){1&i&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return t.actualizarComisaria()}),o.TgZ(1,"div",1)(2,"p",2),o._uU(3,"Actualizaci\xf3n de Comisar\xeda"),o.qZA(),o.TgZ(4,"div",3)(5,"label",4),o._uU(6,"Nombre de la comisar\xeda"),o.qZA(),o._UZ(7,"input",5),o.qZA(),o.TgZ(8,"div",3)(9,"label",6),o._uU(10,"Direcci\xf3n"),o.qZA(),o._UZ(11,"input",7),o.qZA(),o.TgZ(12,"div",3)(13,"label",8),o._uU(14,"Tel\xe9fono"),o.qZA(),o.TgZ(15,"input",9),o.NdJ("input",function(m){return t.inputNumber(m.target,t.form,"telefono")}),o.qZA()(),o.TgZ(16,"div",3)(17,"label",10),o._uU(18,"Correo Electr\xf3nico"),o.qZA(),o._UZ(19,"input",11),o.qZA()(),o.TgZ(20,"div",12)(21,"button",13),o._uU(22,"Guardar"),o.qZA()()(),o._UZ(23,"app-gestionar-citas")),2&i&&o.Q6J("formGroup",t.form)},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.nD,ti],styles:[".title-content[_ngcontent-%COMP%]{color:var(--endeavour);font-size:var(--font-24);font-weight:500;letter-spacing:.2px;opacity:1}"]}),e})();var ai=l(4315),ni=l(4861);const si=[{path:"casos",component:V.m},{path:"gestion-dominios",component:B},{path:"grupo-dominio/:tipoDominio",component:eo},{path:"gestion-usuarios",component:Ao},{path:"modificar-usuario/:idUsuarioSistema",component:J},{path:"crear-usuario",component:J},{path:"actualizar-comisaria",component:ri},{path:"",component:P,children:[{path:"quorum/:id",component:Q.k},{path:"decision-juez/id",component:k.D},{path:"revisar-auto/:id",component:q.M},{path:"seguimientos",component:j.L},{path:"crear-fallo/:id",component:q.M},{path:"generar-seguimiento/:id",component:R.i},{path:"ejecutar-seguimiento/:id",component:Y.y},{path:"decision-seguimiento/:id",component:S.H},{path:"seguimiento-pard/:id",component:ni.y},{path:"consulta-general/:id",component:ai.b}]}];let mi=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[_.Bz.forChild(si)],_.Bz]}),e})();var li=l(4466);let ci=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[p.ez,mi,li.m]]}),e})()}}]);